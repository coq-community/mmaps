<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<link href="coqdocjs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="config.js"></script>
<script type="text/javascript" src="coqdocjs.js"></script>
</head>

<body onload="document.getElementById('content').focus()">
  <div id="header">
    <span class="left">
      <span class="modulename"> <script> document.write(document.title) </script> </span>
    </span>

    <span class="button" id="toggle-proofs"></span>

    <span class="right">
      <a href="./../..">Project Website</a>
      <a href="./indexpage.html">Index</a>
      <a href="./toc.html">Table of Contents</a>
    </span>
</div>
    <div id="content" tabindex="-1" onblur="document.getElementById('content').focus()">
    <div id="main">
<div class="code">
</div>

<div class="doc">
<a id="lab109"></a><h1 class="section">Finite Modular Maps: Red-Black Trees</h1>

<div class="paragraph"> </div>

 Author: Pierre Letouzey (Université de Paris - INRIA),
    adapted from earlier works in Coq Standard Library, see README.md.
    License: LGPL-2.1-only, see file LICENSE. 
<div class="paragraph"> </div>

 This module implements finite maps using Red-Black trees.
    This code is based on <span class="inlinecode"><span class="id" title="var">MSetRBT.v</span></span> in Coq's Stdlib, due initially to
    Andrew W. Appel, 2011. See initial comment at the beginning
    of <span class="inlinecode"><span class="id" title="var">MSetRBT.v</span></span>.

<div class="paragraph"> </div>

    Note that we only prove here that the operations below preserve
    the binary search tree invariant (<span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Bst"><span class="id" title="inductive">Bst</span></a></span>, a.k.a <span class="inlinecode"><a class="idref" href="MMaps.GenTree.html#Props.Ok"><span class="id" title="record">Ok</span></a></span> predicate here),
    but *not* the Red/Black balancing invariant. Indeed, the former
    is enough to implement the desired interface <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#S"><span class="id" title="module">S</span></a></span>, and ensure
    observational correctness. And proceeding this way is quite lighter.
    For the proofs of RBT balancing, see <span class="inlinecode"><a class="idref" href="MMaps.RBTproofs.html#K"><span class="id" title="module">MMaps.RBTproofs</span></a></span>.

</div>
<div class="code">

<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.rtauto.Rtauto.html#"><span class="id" title="library">Rtauto</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Bool.Bool.html#"><span class="id" title="library">Bool</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.BinPos.html#"><span class="id" title="library">BinPos</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.Pnat.html#"><span class="id" title="library">Pnat</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Setoids.Setoid.html#"><span class="id" title="library">Setoid</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#"><span class="id" title="library">SetoidList</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#"><span class="id" title="library">PeanoNat</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">Coq</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Orders.html#"><span class="id" title="library">Orders</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.OrdersFacts.html#"><span class="id" title="library">OrdersFacts</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.OrdersLists.html#"><span class="id" title="library">OrdersLists</span></a>.<br/>
<span class="id" title="keyword">From</span> <span class="id" title="var">MMaps</span> <span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="MMaps.Utils.html#"><span class="id" title="library">Utils</span></a> <a class="idref" href="MMaps.Interface.html#"><span class="id" title="library">Interface</span></a> <a class="idref" href="MMaps.OrdList.html#"><span class="id" title="library">OrdList</span></a> <a class="idref" href="MMaps.GenTree.html#"><span class="id" title="library">GenTree</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Set Implicit Arguments</span>.<br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Unset</span> <span class="id" title="keyword">Strict</span> <span class="id" title="keyword">Implicit</span>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ListNotations"><span class="id" title="module">ListNotations</span></a>.<br/>

<br/>
<span class="comment">(*&nbsp;For&nbsp;nicer&nbsp;extraction,&nbsp;we&nbsp;create&nbsp;inductive&nbsp;principles<br/>
&nbsp;&nbsp;&nbsp;only&nbsp;when&nbsp;needed&nbsp;*)</span><br/>
<span class="id" title="keyword">Local</span> <span class="id" title="keyword">Unset</span> <span class="id" title="var">Elimination</span> <span class="id" title="var">Schemes</span>.<br/>

<br/>
</div>

<div class="doc">
The type of color annotation. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a id="color" class="idref" href="#color"><span class="id" title="inductive">color</span></a> := <a id="Red" class="idref" href="#Red"><span class="id" title="constructor">Red</span></a> | <a id="Black" class="idref" href="#Black"><span class="id" title="constructor">Black</span></a>.<br/>

<br/>
<span class="id" title="keyword">Module</span> <a id="Color" class="idref" href="#Color"><span class="id" title="module">Color</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Definition</span> <a id="Color.t" class="idref" href="#Color.t"><span class="id" title="definition">t</span></a> := <a class="idref" href="MMaps.RBT.html#color"><span class="id" title="inductive">color</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#Color"><span class="id" title="module">Color</span></a>.<br/>

<br/>
</div>

<div class="doc">
Functor of pure functions + separate proofs of invariant
   preservation 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="MakeRaw" class="idref" href="#MakeRaw"><span class="id" title="module">MakeRaw</span></a> (<span class="id" title="var">K</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>) &lt;: <a class="idref" href="MMaps.Raw.html#S"><span class="id" title="module">Raw.S</span></a> <a class="idref" href="MMaps.RBT.html#K"><span class="id" title="module">K</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab110"></a><h2 class="section">Functions</h2>

<div class="paragraph"> </div>

<a id="lab111"></a><h3 class="section">Generic trees instantiated with Red/Black colors</h3>

<div class="paragraph"> </div>

 We reuse a generic definition of trees where the information
    parameter is a <span class="inlinecode"><span class="id" title="var">Color.t</span></span>. Functions like mem or fold are also
    provided by this generic functor. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Include</span> <a class="idref" href="MMaps.GenTree.html#Ops"><span class="id" title="module">MMaps.GenTree.Ops</span></a> <a class="idref" href="MMaps.RBT.html#K"><span class="id" title="module">K</span></a> <a class="idref" href="MMaps.RBT.html#Color"><span class="id" title="module">Color</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MMaps.GenTree.html#PairNotations"><span class="id" title="module">GenTree.PairNotations</span></a>. <span class="comment">(*&nbsp;1 and 2&nbsp;for&nbsp;fst&nbsp;and&nbsp;snd&nbsp;*)</span><br/>
<span class="id" title="keyword">Local Open</span> <span class="id" title="keyword">Scope</span> <span class="id" title="var">lazy_bool_scope</span>.<br/>
<span class="id" title="keyword">Local Notation</span> <a id="MakeRaw.color" class="idref" href="#MakeRaw.color"><span class="id" title="abbreviation">color</span></a> := <a class="idref" href="MMaps.RBT.html#Color.t"><span class="id" title="definition">Color.t</span></a>.<br/>
<span class="id" title="keyword">Local Arguments</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> {<span class="id" title="var">elt</span>}.<br/>
<span class="id" title="keyword">Local Notation</span> <a id="MakeRaw.Rd" class="idref" href="#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> := (@<a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.RBT.html#Red"><span class="id" title="constructor">Red</span></a>).<br/>
<span class="id" title="keyword">Local Notation</span> <a id="MakeRaw.Bk" class="idref" href="#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> := (@<a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.RBT.html#Black"><span class="id" title="constructor">Black</span></a>).<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MakeRaw.Elt" class="idref" href="#MakeRaw.Elt"><span class="id" title="section">Elt</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Elt.elt" class="idref" href="#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Local Notation</span> <a id="MakeRaw.t" class="idref" href="#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> := (<a class="idref" href="MMaps.RBT.html#MakeRaw.tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> <span class="id" title="var">m</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">e</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab112"></a><h3 class="section">Basic tree</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.singleton" class="idref" href="#MakeRaw.singleton"><span class="id" title="definition">singleton</span></a> (<a id="k:5" class="idref" href="#k:5"><span class="id" title="binder">k</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a>) (<a id="v:6" class="idref" href="#v:6"><span class="id" title="binder">v</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> :=<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="MMaps.RBT.html#Black"><span class="id" title="constructor">Black</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="MMaps.RBT.html#k:5"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:6"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab113"></a><h3 class="section">Changing root color</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.makeBlack" class="idref" href="#MakeRaw.makeBlack"><span class="id" title="definition">makeBlack</span></a> <a id="m:7" class="idref" href="#m:7"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:7"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.makeRed" class="idref" href="#MakeRaw.makeRed"><span class="id" title="definition">makeRed</span></a> <a id="m:9" class="idref" href="#m:9"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:9"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab114"></a><h3 class="section">Balancing</h3>

<div class="paragraph"> </div>

 We adapt when one side is not a true red-black tree.
    Both sides have the same black depth. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.lbal" class="idref" href="#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> <a id="l:11" class="idref" href="#l:11"><span class="id" title="binder">l</span></a> <a id="k:12" class="idref" href="#k:12"><span class="id" title="binder">k</span></a> <a id="vk:13" class="idref" href="#vk:13"><span class="id" title="binder">vk</span></a> <a id="r:14" class="idref" href="#r:14"><span class="id" title="binder">r</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l:11"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">c</span> <a class="idref" href="MMaps.RBT.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:13"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:14"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span>) ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">c</span> <a class="idref" href="MMaps.RBT.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:13"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:14"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:11"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:12"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:13"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:14"><span class="id" title="variable">r</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.rbal" class="idref" href="#MakeRaw.rbal"><span class="id" title="definition">rbal</span></a> <a id="l:16" class="idref" href="#l:16"><span class="id" title="binder">l</span></a> <a id="k:17" class="idref" href="#k:17"><span class="id" title="binder">k</span></a> <a id="vk:18" class="idref" href="#vk:18"><span class="id" title="binder">vk</span></a> <a id="r:19" class="idref" href="#r:19"><span class="id" title="binder">r</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#r:19"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span>) <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">d</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:17"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:18"><span class="id" title="variable">vk</span></a> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">c</span> <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">d</span>)<br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">c</span> <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">d</span>) ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:17"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:18"><span class="id" title="variable">vk</span></a> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">c</span> <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">d</span>)<br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:16"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:17"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:18"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:19"><span class="id" title="variable">r</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
A variant of <span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.rbal"><span class="id" title="definition">rbal</span></a></span>, with reverse pattern order. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.rbal'" class="idref" href="#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <a id="l:21" class="idref" href="#l:21"><span class="id" title="binder">l</span></a> <a id="k:22" class="idref" href="#k:22"><span class="id" title="binder">k</span></a> <a id="vk:23" class="idref" href="#vk:23"><span class="id" title="binder">vk</span></a> <a id="r:24" class="idref" href="#r:24"><span class="id" title="binder">r</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#r:24"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">c</span> <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">d</span>) ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:21"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:22"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:23"><span class="id" title="variable">vk</span></a> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">c</span> <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">d</span>)<br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span>) <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">d</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:21"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:22"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:23"><span class="id" title="variable">vk</span></a> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">c</span> <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">d</span>)<br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:21"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:22"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:23"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:24"><span class="id" title="variable">r</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
Balancing with different black depth.
    One side is almost a red-black tree, while the other is
    a true red-black tree, but with black depth + 1.
    Used in deletion. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.lbalS" class="idref" href="#MakeRaw.lbalS"><span class="id" title="definition">lbalS</span></a> <a id="l:26" class="idref" href="#l:26"><span class="id" title="binder">l</span></a> <a id="k:27" class="idref" href="#k:27"><span class="id" title="binder">k</span></a> <a id="vk:28" class="idref" href="#vk:28"><span class="id" title="binder">vk</span></a> <a id="r:29" class="idref" href="#r:29"><span class="id" title="binder">r</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l:26"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span>) <a class="idref" href="MMaps.RBT.html#k:27"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:28"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:29"><span class="id" title="variable">r</span></a><br/>
&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#r:29"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <a class="idref" href="MMaps.RBT.html#l:26"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:27"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:28"><span class="id" title="variable">vk</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">b</span>) <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:26"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:27"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:28"><span class="id" title="variable">vk</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <span class="id" title="var">b</span> <span class="id" title="var">z</span> <span class="id" title="var">vz</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed"><span class="id" title="definition">makeRed</span></a> <span class="id" title="var">c</span>))<br/>
&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:26"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:27"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:28"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:29"><span class="id" title="variable">r</span></a> <span class="comment">(*&nbsp;impossible&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.rbalS" class="idref" href="#MakeRaw.rbalS"><span class="id" title="definition">rbalS</span></a> <a id="l:32" class="idref" href="#l:32"><span class="id" title="binder">l</span></a> <a id="k:33" class="idref" href="#k:33"><span class="id" title="binder">k</span></a> <a id="vk:34" class="idref" href="#vk:34"><span class="id" title="binder">vk</span></a> <a id="r:35" class="idref" href="#r:35"><span class="id" title="binder">r</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#r:35"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:32"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:33"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:34"><span class="id" title="variable">vk</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span>)<br/>
&nbsp;| <span class="id" title="var">_</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l:32"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span>) <a class="idref" href="MMaps.RBT.html#k:33"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:34"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:35"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span>) ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed"><span class="id" title="definition">makeRed</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">c</span> <a class="idref" href="MMaps.RBT.html#k:33"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:34"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:35"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:32"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:33"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#vk:34"><span class="id" title="variable">vk</span></a> <a class="idref" href="MMaps.RBT.html#r:35"><span class="id" title="variable">r</span></a> <span class="comment">(*&nbsp;impossible&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab115"></a><h3 class="section">Insertion</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.ins" class="idref" href="#MakeRaw.ins"><span class="id" title="definition">ins</span></a> <a id="x:38" class="idref" href="#x:38"><span class="id" title="binder">x</span></a> <a id="vx:39" class="idref" href="#vx:39"><span class="id" title="binder">vx</span></a> <a id="s:40" class="idref" href="#s:40"><span class="id" title="binder">s</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#s:40"><span class="id" title="variable">s</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="MMaps.RBT.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:39"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">r</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#K.compare"><span class="id" title="axiom">K.compare</span></a> <a class="idref" href="MMaps.RBT.html#x:38"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <a class="idref" href="MMaps.RBT.html#vx:39"><span class="id" title="variable">vx</span></a> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#Red"><span class="id" title="constructor">Red</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#ins:41"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:39"><span class="id" title="variable">vx</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#Black"><span class="id" title="constructor">Black</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> (<a class="idref" href="MMaps.RBT.html#ins:41"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:39"><span class="id" title="variable">vx</span></a> <span class="id" title="var">l</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">r</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">c</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#Red"><span class="id" title="constructor">Red</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#ins:41"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:39"><span class="id" title="variable">vx</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#Black"><span class="id" title="constructor">Black</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal"><span class="id" title="definition">rbal</span></a> <span class="id" title="var">l</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#ins:41"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:38"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:39"><span class="id" title="variable">vx</span></a> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.add" class="idref" href="#MakeRaw.add"><span class="id" title="definition">add</span></a> <a id="x:45" class="idref" href="#x:45"><span class="id" title="binder">x</span></a> <a id="vx:46" class="idref" href="#vx:46"><span class="id" title="binder">vx</span></a> <a id="s:47" class="idref" href="#s:47"><span class="id" title="binder">s</span></a> := <a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack"><span class="id" title="definition">makeBlack</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ins"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:45"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:46"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#s:47"><span class="id" title="variable">s</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab116"></a><h3 class="section">Deletion</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.append" class="idref" href="#MakeRaw.append"><span class="id" title="definition">append</span></a> (<a id="l:48" class="idref" href="#l:48"><span class="id" title="binder">l</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l:48"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <span class="id" title="keyword">fun</span> <a id="r:51" class="idref" href="#r:51"><span class="id" title="binder">r</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#r:51"><span class="id" title="variable">r</span></a><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">lc</span> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> <span class="id" title="var">lr</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">append_l</span> (<a id="r:52" class="idref" href="#r:52"><span class="id" title="binder">r</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#r:52"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#l:48"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">rc</span> <span class="id" title="var">rl</span> <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">lc</span>, <span class="id" title="var">rc</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#Red"><span class="id" title="constructor">Red</span></a>, <a class="idref" href="MMaps.RBT.html#Red"><span class="id" title="constructor">Red</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="lrl:57" class="idref" href="#lrl:57"><span class="id" title="binder">lrl</span></a> := <a class="idref" href="MMaps.RBT.html#append:49"><span class="id" title="definition">append</span></a> <span class="id" title="var">lr</span> <span class="id" title="var">rl</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#lrl:57"><span class="id" title="variable">lrl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">lr'</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">rl'</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> <span class="id" title="var">lr'</span>) <span class="id" title="var">x</span> <span class="id" title="var">v</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">rl'</span> <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#lrl:57"><span class="id" title="variable">lrl</span></a> <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#Black"><span class="id" title="constructor">Black</span></a>, <a class="idref" href="MMaps.RBT.html#Black"><span class="id" title="constructor">Black</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="lrl:59" class="idref" href="#lrl:59"><span class="id" title="binder">lrl</span></a> := <a class="idref" href="MMaps.RBT.html#append:49"><span class="id" title="definition">append</span></a> <span class="id" title="var">lr</span> <span class="id" title="var">rl</span> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#lrl:59"><span class="id" title="variable">lrl</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">lr'</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">rl'</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> <span class="id" title="var">lr'</span>) <span class="id" title="var">x</span> <span class="id" title="var">v</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">rl'</span> <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS"><span class="id" title="definition">lbalS</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#lrl:59"><span class="id" title="variable">lrl</span></a> <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#Black"><span class="id" title="constructor">Black</span></a>, <a class="idref" href="MMaps.RBT.html#Red"><span class="id" title="constructor">Red</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#append_l:53"><span class="id" title="variable">append_l</span></a> <span class="id" title="var">rl</span>) <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#Red"><span class="id" title="constructor">Red</span></a>, <a class="idref" href="MMaps.RBT.html#Black"><span class="id" title="constructor">Black</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> (<a class="idref" href="MMaps.RBT.html#append:49"><span class="id" title="definition">append</span></a> <span class="id" title="var">lr</span> <a class="idref" href="MMaps.RBT.html#r:52"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.del" class="idref" href="#MakeRaw.del"><span class="id" title="definition">del</span></a> <a id="x:61" class="idref" href="#x:61"><span class="id" title="binder">x</span></a> <a id="m:62" class="idref" href="#m:62"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:62"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#K.compare"><span class="id" title="axiom">K.compare</span></a> <a class="idref" href="MMaps.RBT.html#x:61"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <span class="id" title="var">a</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">a</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS"><span class="id" title="definition">lbalS</span></a> (<a class="idref" href="MMaps.RBT.html#del:63"><span class="id" title="definition">del</span></a> <a class="idref" href="MMaps.RBT.html#x:61"><span class="id" title="variable">x</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">y</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#del:63"><span class="id" title="definition">del</span></a> <a class="idref" href="MMaps.RBT.html#x:61"><span class="id" title="variable">x</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">y</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="var">b</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS"><span class="id" title="definition">rbalS</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">v</span> (<a class="idref" href="MMaps.RBT.html#del:63"><span class="id" title="definition">del</span></a> <a class="idref" href="MMaps.RBT.html#x:61"><span class="id" title="variable">x</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">v</span> (<a class="idref" href="MMaps.RBT.html#del:63"><span class="id" title="definition">del</span></a> <a class="idref" href="MMaps.RBT.html#x:61"><span class="id" title="variable">x</span></a> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.remove" class="idref" href="#MakeRaw.remove"><span class="id" title="definition">remove</span></a> <a id="x:67" class="idref" href="#x:67"><span class="id" title="binder">x</span></a> <a id="m:68" class="idref" href="#m:68"><span class="id" title="binder">m</span></a> := <a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack"><span class="id" title="definition">makeBlack</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.del"><span class="id" title="definition">del</span></a> <a class="idref" href="MMaps.RBT.html#x:67"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:68"><span class="id" title="variable">m</span></a>).<br/>

<br/>
</div>

<div class="doc">
<a id="lab117"></a><h3 class="section">Tree-ification</h3>


<div class="paragraph"> </div>

    We rebuild a tree of size <span class="inlinecode"><span class="id" title="keyword">if</span></span> <span class="inlinecode"><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a></span> <span class="inlinecode"><span class="id" title="keyword">then</span></span> <span class="inlinecode"><span class="id" title="var">n</span>-1</span> <span class="inlinecode"><span class="id" title="keyword">else</span></span> <span class="inlinecode"><span class="id" title="var">n</span></span> as soon
    as the list <span class="inlinecode"><span class="id" title="var">l</span></span> has enough elements 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.klist" class="idref" href="#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a id="A:69" class="idref" href="#A:69"><span class="id" title="binder">A</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MMaps.RBT.html#A:69"><span class="id" title="variable">A</span></a>).<br/>
<span class="id" title="keyword">Local Notation</span> <a id="MakeRaw.treeify_t" class="idref" href="#MakeRaw.treeify_t"><span class="id" title="abbreviation">treeify_t</span></a> := (<a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.bogus" class="idref" href="#MakeRaw.bogus"><span class="id" title="definition">bogus</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="abbreviation">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.treeify_zero" class="idref" href="#MakeRaw.treeify_zero"><span class="id" title="definition">treeify_zero</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_t"><span class="id" title="abbreviation">treeify_t</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">fun</span> <a id="acc:70" class="idref" href="#acc:70"><span class="id" title="binder">acc</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#acc:70"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.treeify_one" class="idref" href="#MakeRaw.treeify_one"><span class="id" title="definition">treeify_one</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_t"><span class="id" title="abbreviation">treeify_t</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">fun</span> <a id="acc:71" class="idref" href="#acc:71"><span class="id" title="binder">acc</span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#acc:71"><span class="id" title="variable">acc</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">acc</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#acc:71"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.bogus"><span class="id" title="definition">bogus</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.treeify_cont" class="idref" href="#MakeRaw.treeify_cont"><span class="id" title="definition">treeify_cont</span></a> (<a id="f:73" class="idref" href="#f:73"><span class="id" title="binder">f</span></a> <a id="g:74" class="idref" href="#g:74"><span class="id" title="binder">g</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_t"><span class="id" title="abbreviation">treeify_t</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_t"><span class="id" title="abbreviation">treeify_t</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">fun</span> <a id="acc:75" class="idref" href="#acc:75"><span class="id" title="binder">acc</span></a> ⇒<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#f:73"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#acc:75"><span class="id" title="variable">acc</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">l</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">acc</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#g:74"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#acc:75"><span class="id" title="variable">acc</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">acc</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">r</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#acc:75"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.bogus"><span class="id" title="definition">bogus</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.treeify_aux" class="idref" href="#MakeRaw.treeify_aux"><span class="id" title="definition">treeify_aux</span></a> (<a id="pred:76" class="idref" href="#pred:76"><span class="id" title="binder">pred</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>)(<a id="n:77" class="idref" href="#n:77"><span class="id" title="binder">n</span></a>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_t"><span class="id" title="abbreviation">treeify_t</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#n:77"><span class="id" title="variable">n</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Numbers.BinNums.html#xH"><span class="id" title="constructor">xH</span></a> ⇒ <span class="id" title="keyword">if</span> <a class="idref" href="MMaps.RBT.html#pred:76"><span class="id" title="variable">pred</span></a> <span class="id" title="keyword">then</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_zero"><span class="id" title="definition">treeify_zero</span></a> <span class="id" title="keyword">else</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_one"><span class="id" title="definition">treeify_one</span></a><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Numbers.BinNums.html#xO"><span class="id" title="constructor">xO</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_cont"><span class="id" title="definition">treeify_cont</span></a> (<a class="idref" href="MMaps.RBT.html#treeify_aux:78"><span class="id" title="definition">treeify_aux</span></a> <a class="idref" href="MMaps.RBT.html#pred:76"><span class="id" title="variable">pred</span></a> <a class="idref" href="MMaps.RBT.html#n:77"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MMaps.RBT.html#treeify_aux:78"><span class="id" title="definition">treeify_aux</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <a class="idref" href="MMaps.RBT.html#n:77"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Numbers.BinNums.html#xI"><span class="id" title="constructor">xI</span></a> <span class="id" title="var">n</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_cont"><span class="id" title="definition">treeify_cont</span></a> (<a class="idref" href="MMaps.RBT.html#treeify_aux:78"><span class="id" title="definition">treeify_aux</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a> <a class="idref" href="MMaps.RBT.html#n:77"><span class="id" title="variable">n</span></a>) (<a class="idref" href="MMaps.RBT.html#treeify_aux:78"><span class="id" title="definition">treeify_aux</span></a> <a class="idref" href="MMaps.RBT.html#pred:76"><span class="id" title="variable">pred</span></a> <a class="idref" href="MMaps.RBT.html#n:77"><span class="id" title="variable">n</span></a>)<br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.plength_aux" class="idref" href="#MakeRaw.plength_aux"><span class="id" title="definition">plength_aux</span></a> (<a id="l:80" class="idref" href="#l:80"><span class="id" title="binder">l</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>)(<a id="p:81" class="idref" href="#p:81"><span class="id" title="binder">p</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Numbers.BinNums.html#positive"><span class="id" title="inductive">positive</span></a>) := <span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l:80"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#p:81"><span class="id" title="variable">p</span></a><br/>
&nbsp;| <span class="id" title="var">_</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l</span> ⇒ <a class="idref" href="MMaps.RBT.html#plength_aux:82"><span class="id" title="definition">plength_aux</span></a> <a class="idref" href="MMaps.RBT.html#l:80"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.BinPos.html#Pos.succ"><span class="id" title="definition">Pos.succ</span></a> <a class="idref" href="MMaps.RBT.html#p:81"><span class="id" title="variable">p</span></a>)<br/>
<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.plength" class="idref" href="#MakeRaw.plength"><span class="id" title="definition">plength</span></a> (<a id="l:84" class="idref" href="#l:84"><span class="id" title="binder">l</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) := <a class="idref" href="MMaps.RBT.html#MakeRaw.plength_aux"><span class="id" title="definition">plength_aux</span></a> <a class="idref" href="MMaps.RBT.html#l:84"><span class="id" title="variable">l</span></a> 1.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.treeify" class="idref" href="#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a> (<a id="l:85" class="idref" href="#l:85"><span class="id" title="binder">l</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) :=<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_aux"><span class="id" title="definition">treeify_aux</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="MMaps.RBT.html#l:85"><span class="id" title="variable">l</span></a>) <a class="idref" href="MMaps.RBT.html#l:85"><span class="id" title="variable">l</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt"><span class="id" title="section">Elt</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab118"></a><h3 class="section">Map with removal</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.ocons" class="idref" href="#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> {<a id="A:86" class="idref" href="#A:86"><span class="id" title="binder">A</span></a> <a id="B:87" class="idref" href="#B:87"><span class="id" title="binder">B</span></a>} (<a id="a:88" class="idref" href="#a:88"><span class="id" title="binder">a</span></a>:<a class="idref" href="MMaps.RBT.html#A:86"><span class="id" title="variable">A</span></a>) (<a id="o:89" class="idref" href="#o:89"><span class="id" title="binder">o</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#B:87"><span class="id" title="variable">B</span></a>) (<a id="l:90" class="idref" href="#l:90"><span class="id" title="binder">l</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#list"><span class="id" title="inductive">list</span></a> (<a class="idref" href="MMaps.RBT.html#A:86"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.RBT.html#B:87"><span class="id" title="variable">B</span></a>)) :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#o:89"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#l:90"><span class="id" title="variable">l</span></a><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">b</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#a:88"><span class="id" title="variable">a</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">b</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#l:90"><span class="id" title="variable">l</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MakeRaw.Mapo" class="idref" href="#MakeRaw.Mapo"><span class="id" title="section">Mapo</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Mapo.elt" class="idref" href="#MakeRaw.Mapo.elt"><span class="id" title="variable">elt</span></a> <a id="MakeRaw.Mapo.elt'" class="idref" href="#MakeRaw.Mapo.elt'"><span class="id" title="variable">elt'</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Mapo.f" class="idref" href="#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.elt'"><span class="id" title="variable">elt'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.mapoL" class="idref" href="#MakeRaw.mapoL"><span class="id" title="definition">mapoL</span></a> (<a id="l:98" class="idref" href="#l:98"><span class="id" title="binder">l</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.elt"><span class="id" title="variable">elt</span></a>)(<a id="acc:99" class="idref" href="#acc:99"><span class="id" title="binder">acc</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.elt'"><span class="id" title="variable">elt'</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.elt'"><span class="id" title="variable">elt'</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l:98"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#acc:99"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l</span> ⇒ <a class="idref" href="MMaps.RBT.html#mapoL:100"><span class="id" title="definition">mapoL</span></a> <a class="idref" href="MMaps.RBT.html#l:98"><span class="id" title="variable">l</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <span class="id" title="var">k</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <span class="id" title="var">v</span>) <a class="idref" href="MMaps.RBT.html#acc:99"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.mapo" class="idref" href="#MakeRaw.mapo"><span class="id" title="definition">mapo</span></a> (<a id="m:102" class="idref" href="#m:102"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.elt'"><span class="id" title="variable">elt'</span></a> :=<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL"><span class="id" title="definition">mapoL</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings"><span class="id" title="definition">rev_bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:102"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo"><span class="id" title="section">Mapo</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab119"></a><h3 class="section">Merge</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="MakeRaw.Merge" class="idref" href="#MakeRaw.Merge"><span class="id" title="section">Merge</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Merge.elt" class="idref" href="#MakeRaw.Merge.elt"><span class="id" title="variable">elt</span></a> <a id="MakeRaw.Merge.elt'" class="idref" href="#MakeRaw.Merge.elt'"><span class="id" title="variable">elt'</span></a> <a id="MakeRaw.Merge.elt''" class="idref" href="#MakeRaw.Merge.elt''"><span class="id" title="variable">elt''</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Merge.f" class="idref" href="#MakeRaw.Merge.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt''"><span class="id" title="variable">elt''</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.mergeL" class="idref" href="#MakeRaw.mergeL"><span class="id" title="definition">mergeL</span></a> (<a id="l1:111" class="idref" href="#l1:111"><span class="id" title="binder">l1</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt''"><span class="id" title="variable">elt''</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt''"><span class="id" title="variable">elt''</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l1:111"><span class="id" title="variable">l1</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL"><span class="id" title="definition">mapoL</span></a> (<span class="id" title="keyword">fun</span> <a id="k:114" class="idref" href="#k:114"><span class="id" title="binder">k</span></a> <a id="v':115" class="idref" href="#v':115"><span class="id" title="binder">v'</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:114"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v':115"><span class="id" title="variable">v'</span></a>))<br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">vx</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l1'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">fix</span> <span class="id" title="var">mergeL_l1</span> <a id="l2:116" class="idref" href="#l2:116"><span class="id" title="binder">l2</span></a> <a id="acc:117" class="idref" href="#acc:117"><span class="id" title="binder">acc</span></a> :=<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l2:116"><span class="id" title="variable">l2</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL"><span class="id" title="definition">mapoL</span></a> (<span class="id" title="keyword">fun</span> <a id="k:120" class="idref" href="#k:120"><span class="id" title="binder">k</span></a> <a id="v:121" class="idref" href="#v:121"><span class="id" title="binder">v</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:120"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v:121"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="MMaps.RBT.html#l1:111"><span class="id" title="variable">l1</span></a> <a class="idref" href="MMaps.RBT.html#acc:117"><span class="id" title="variable">acc</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">vy</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l2'</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#K.compare"><span class="id" title="axiom">K.compare</span></a> <span class="id" title="var">x</span> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#mergeL:112"><span class="id" title="definition">mergeL</span></a> <span class="id" title="var">l1'</span> <span class="id" title="var">l2'</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vx</span>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vy</span>)) <a class="idref" href="MMaps.RBT.html#acc:117"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#mergeL_l1:118"><span class="id" title="variable">mergeL_l1</span></a> <span class="id" title="var">l2'</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <span class="id" title="var">y</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">y</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vy</span>)) <a class="idref" href="MMaps.RBT.html#acc:117"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#mergeL:112"><span class="id" title="definition">mergeL</span></a> <span class="id" title="var">l1'</span> <a class="idref" href="MMaps.RBT.html#l2:116"><span class="id" title="variable">l2</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <span class="id" title="var">x</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">vx</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="MMaps.RBT.html#acc:117"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.merge" class="idref" href="#MakeRaw.merge"><span class="id" title="definition">merge</span></a> (<a id="m1:122" class="idref" href="#m1:122"><span class="id" title="binder">m1</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt"><span class="id" title="variable">elt</span></a>) (<a id="m2:123" class="idref" href="#m2:123"><span class="id" title="binder">m2</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt'"><span class="id" title="variable">elt'</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt''"><span class="id" title="variable">elt''</span></a> :=<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL"><span class="id" title="definition">mergeL</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings"><span class="id" title="definition">rev_bindings</span></a> <a class="idref" href="MMaps.RBT.html#m1:122"><span class="id" title="variable">m1</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings"><span class="id" title="definition">rev_bindings</span></a> <a class="idref" href="MMaps.RBT.html#m2:123"><span class="id" title="variable">m2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>).<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge"><span class="id" title="section">Merge</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab120"></a><h2 class="section">Correctness proofs</h2>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Include</span> <a class="idref" href="MMaps.GenTree.html#Props"><span class="id" title="module">MMaps.GenTree.Props</span></a> <a class="idref" href="MMaps.RBT.html#K"><span class="id" title="module">K</span></a> <a class="idref" href="MMaps.RBT.html#Color"><span class="id" title="module">Color</span></a>.<br/>
<span class="id" title="keyword">Import</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Ind"><span class="id" title="module">Ind</span></a>.<br/>

<br/>
<span class="id" title="keyword">Local Infix</span> <a id="614b6fdfcfcc3407ab169267969be7fa" class="idref" href="#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">&quot;</span></a>∈" := <a class="idref" href="MMaps.RBT.html#MakeRaw.In"><span class="id" title="definition">In</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>
<span class="id" title="keyword">Local Infix</span> <a id="3bfccbf8a360975b3a5598ce76c32491" class="idref" href="#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">&quot;</span></a>==" := <a class="idref" href="MMaps.RBT.html#K.eq"><span class="id" title="axiom">K.eq</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>
<span class="id" title="keyword">Local Infix</span> <a id="MakeRaw.:::x_'&lt;'_x" class="idref" href="#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&quot;</span></a>&lt;" := <a class="idref" href="MMaps.RBT.html#MakeRaw.lessthan"><span class="id" title="definition">lessthan</span></a>.<br/>
<span class="id" title="keyword">Local Infix</span> <a id="21058370111cfb2fe3db7e710ade69fb" class="idref" href="#21058370111cfb2fe3db7e710ade69fb"><span class="id" title="notation">&quot;</span></a>===" := <a class="idref" href="MMaps.RBT.html#MakeRaw.Equal"><span class="id" title="definition">Equal</span></a> (<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 70).<br/>
<span class="id" title="keyword">Local Notation</span> <a id="a97644d07168db193388b19cd1aad3cc" class="idref" href="#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">&quot;</span></a>m @ x ↦ e" := (<a class="idref" href="MMaps.RBT.html#MakeRaw.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">m</span>)<br/>
&nbsp;(<span class="id" title="tactic">at</span> <span class="id" title="keyword">level</span> 9, <span class="id" title="var">format</span> "m '@' x  '↦'  e").<br/>

<br/>
<span class="id" title="keyword">Local Hint Constructors</span> <a class="idref" href="MMaps.RBT.html#tree"><span class="id" title="inductive">tree</span></a> <a class="idref" href="MMaps.RBT.html#MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="MMaps.RBT.html#Bst"><span class="id" title="inductive">Bst</span></a> : <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Local Hint Unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Bst_Ok"><span class="id" title="instance">Bst_Ok</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.In"><span class="id" title="definition">In</span></a> : <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Local Hint Immediate</span> <span class="id" title="var">F.eq_sym</span> : <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">F.eq_refl</span> : <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">above_notin</span> <span class="id" title="var">above_trans</span> <span class="id" title="var">below_notin</span> <span class="id" title="var">below_trans</span> : <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">above_leaf</span> <span class="id" title="var">below_leaf</span> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">rtauto</span> := <span class="id" title="var">Rtauto.rtauto</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">autorew</span> := <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Tactic Notation</span> "autorew" "in" <span class="id" title="var">ident</span>(<span class="id" title="var">H</span>) := <span class="id" title="tactic">autorewrite</span> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">treeorder</span> := <span class="id" title="tactic">try</span> <span class="id" title="tactic">intro</span>; <span class="id" title="var">autorew</span>; <span class="id" title="var">intuition_in</span>; <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">induct</span> <span class="id" title="var">m</span> :=<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">IHl</span> <span class="id" title="var">x'</span> <span class="id" title="var">vx'</span> <span class="id" title="var">r</span> <span class="id" title="var">IHr</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>;<br/>
&nbsp;[|<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.RBT.html#K.compare_spec"><span class="id" title="axiom">K.compare_spec</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">invok</span>; <span class="id" title="var">chok</span>].<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">destmatch</span> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <span class="id" title="keyword">goal</span> <span class="id" title="keyword">with</span><br/>
&nbsp;| |- <span class="id" title="keyword">context</span> [<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#K.compare"><span class="id" title="axiom">K.compare</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.RBT.html#K.compare_spec"><span class="id" title="axiom">K.compare_spec</span></a>; <span class="id" title="var">destmatch</span><br/>
&nbsp;| |- <span class="id" title="keyword">context</span> [<span class="id" title="keyword">match</span> ?<span class="id" title="var">x</span> <span class="id" title="keyword">with</span> <span class="id" title="var">_</span> ⇒ <span class="id" title="var">_</span> <span class="id" title="keyword">end</span>] ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="var">destmatch</span><br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <span class="id" title="tactic">idtac</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MakeRaw.Elt" class="idref" href="#MakeRaw.Elt"><span class="id" title="section">Elt</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Elt.elt" class="idref" href="#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">m</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">k</span> <span class="id" title="var">x</span> <span class="id" title="var">y</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">v</span> <span class="id" title="var">vx</span> <span class="id" title="var">vy</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab121"></a><h3 class="section">Singleton set</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.singleton_spec" class="idref" href="#MakeRaw.singleton_spec"><span class="id" title="lemma">singleton_spec</span></a> <a id="x:126" class="idref" href="#x:126"><span class="id" title="binder">x</span></a> (<a id="e:127" class="idref" href="#e:127"><span class="id" title="binder">e</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.singleton"><span class="id" title="definition">singleton</span></a> <a class="idref" href="MMaps.RBT.html#x:126"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#e:127"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:126"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#e:127"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.singleton"><span class="id" title="definition">singleton</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_node"><span class="id" title="lemma">bindings_node</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.singleton_ok" class="idref" href="#MakeRaw.singleton_ok"><span class="id" title="instance">singleton_ok</span></a> <a id="x:128" class="idref" href="#x:128"><span class="id" title="binder">x</span></a> <a id="vx:129" class="idref" href="#vx:129"><span class="id" title="binder">vx</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.singleton"><span class="id" title="definition">singleton</span></a> <a class="idref" href="MMaps.RBT.html#x:128"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:129"><span class="id" title="variable">vx</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.singleton"><span class="id" title="definition">singleton</span></a>. <span class="id" title="var">ok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab122"></a><h3 class="section">makeBlack and makeRed</h3>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.makeBlack_ok" class="idref" href="#MakeRaw.makeBlack_ok"><span class="id" title="instance">makeBlack_ok</span></a> <a id="m:130" class="idref" href="#m:130"><span class="id" title="binder">m</span></a> `{<a id="Ok0:131" class="idref" href="#Ok0:131"><span class="id" title="binder">!</span></a><a id="Ok0:131" class="idref" href="#Ok0:131"><span class="id" title="binder">Ok</span></a> <a id="Ok0:131" class="idref" href="#Ok0:131"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack"><span class="id" title="definition">makeBlack</span></a> <a class="idref" href="MMaps.RBT.html#m:130"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">ok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.makeRed_ok" class="idref" href="#MakeRaw.makeRed_ok"><span class="id" title="instance">makeRed_ok</span></a> <a id="m:132" class="idref" href="#m:132"><span class="id" title="binder">m</span></a> `{<a id="Ok0:133" class="idref" href="#Ok0:133"><span class="id" title="binder">!</span></a><a id="Ok0:133" class="idref" href="#Ok0:133"><span class="id" title="binder">Ok</span></a> <a id="Ok0:133" class="idref" href="#Ok0:133"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed"><span class="id" title="definition">makeRed</span></a> <a class="idref" href="MMaps.RBT.html#m:132"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">ok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.makeBlack_mapsto" class="idref" href="#MakeRaw.makeBlack_mapsto"><span class="id" title="lemma">makeBlack_mapsto</span></a> <a id="m:134" class="idref" href="#m:134"><span class="id" title="binder">m</span></a> <a id="x:135" class="idref" href="#x:135"><span class="id" title="binder">x</span></a> <a id="v:136" class="idref" href="#v:136"><span class="id" title="binder">v</span></a> : <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack"><span class="id" title="definition">makeBlack</span></a> <a class="idref" href="MMaps.RBT.html#m:134"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#x:135"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v:136"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#m:134"><span class="id" title="variable">m@x</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v:136"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">intuition_m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.makeRed_mapsto" class="idref" href="#MakeRaw.makeRed_mapsto"><span class="id" title="lemma">makeRed_mapsto</span></a> <a id="m:137" class="idref" href="#m:137"><span class="id" title="binder">m</span></a> <a id="x:138" class="idref" href="#x:138"><span class="id" title="binder">x</span></a> <a id="v:139" class="idref" href="#v:139"><span class="id" title="binder">v</span></a> : <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed"><span class="id" title="definition">makeRed</span></a> <a class="idref" href="MMaps.RBT.html#m:137"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#x:138"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v:139"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#m:137"><span class="id" title="variable">m@x</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v:139"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">intuition_m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.makeBlack_in" class="idref" href="#MakeRaw.makeBlack_in"><span class="id" title="lemma">makeBlack_in</span></a> <a id="m:140" class="idref" href="#m:140"><span class="id" title="binder">m</span></a> <a id="x:141" class="idref" href="#x:141"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.RBT.html#x:141"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack"><span class="id" title="definition">makeBlack</span></a> <a class="idref" href="MMaps.RBT.html#m:140"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#x:141"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m:140"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">intuition_in</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.makeRed_in" class="idref" href="#MakeRaw.makeRed_in"><span class="id" title="lemma">makeRed_in</span></a> <a id="m:142" class="idref" href="#m:142"><span class="id" title="binder">m</span></a> <a id="x:143" class="idref" href="#x:143"><span class="id" title="binder">x</span></a> : <a class="idref" href="MMaps.RBT.html#x:143"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed"><span class="id" title="definition">makeRed</span></a> <a class="idref" href="MMaps.RBT.html#m:142"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#x:143"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m:142"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">intuition_in</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.makeBlack_find" class="idref" href="#MakeRaw.makeBlack_find"><span class="id" title="lemma">makeBlack_find</span></a> <a id="m:144" class="idref" href="#m:144"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack"><span class="id" title="definition">makeBlack</span></a> <a class="idref" href="MMaps.RBT.html#m:144"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#21058370111cfb2fe3db7e710ade69fb"><span class="id" title="notation">===</span></a> <a class="idref" href="MMaps.RBT.html#m:144"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.makeRed_find" class="idref" href="#MakeRaw.makeRed_find"><span class="id" title="lemma">makeRed_find</span></a> <a id="m:145" class="idref" href="#m:145"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed"><span class="id" title="definition">makeRed</span></a> <a class="idref" href="MMaps.RBT.html#m:145"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#21058370111cfb2fe3db7e710ade69fb"><span class="id" title="notation">===</span></a> <a class="idref" href="MMaps.RBT.html#m:145"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab123"></a><h3 class="section">Generic handling for red-matching and red-red-matching</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.isblack" class="idref" href="#MakeRaw.isblack"><span class="id" title="definition">isblack</span></a> <a id="m:146" class="idref" href="#m:146"><span class="id" title="binder">m</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:146"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.notblack" class="idref" href="#MakeRaw.notblack"><span class="id" title="definition">notblack</span></a> <a id="m:148" class="idref" href="#m:148"><span class="id" title="binder">m</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:148"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.notred" class="idref" href="#MakeRaw.notred"><span class="id" title="definition">notred</span></a> <a id="m:150" class="idref" href="#m:150"><span class="id" title="binder">m</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:150"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.rcase" class="idref" href="#MakeRaw.rcase"><span class="id" title="definition">rcase</span></a> {<a id="A:152" class="idref" href="#A:152"><span class="id" title="binder">A</span></a>} <a id="f:153" class="idref" href="#f:153"><span class="id" title="binder">f</span></a> <a id="g:154" class="idref" href="#g:154"><span class="id" title="binder">g</span></a> <a id="m:155" class="idref" href="#m:155"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#A:152"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:155"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MMaps.RBT.html#f:153"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">b</span><br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#g:154"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:155"><span class="id" title="variable">m</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="MakeRaw.rspec" class="idref" href="#MakeRaw.rspec"><span class="id" title="inductive">rspec</span></a> {<a id="A:157" class="idref" href="#A:157"><span class="id" title="binder">A</span></a>} <a id="f:158" class="idref" href="#f:158"><span class="id" title="binder">f</span></a> <a id="g:159" class="idref" href="#g:159"><span class="id" title="binder">g</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;| <a id="MakeRaw.rred" class="idref" href="#MakeRaw.rred"><span class="id" title="constructor">rred</span></a> <a id="a:162" class="idref" href="#a:162"><span class="id" title="binder">a</span></a> <a id="x:163" class="idref" href="#x:163"><span class="id" title="binder">x</span></a> <a id="v:164" class="idref" href="#v:164"><span class="id" title="binder">v</span></a> <a id="b:165" class="idref" href="#b:165"><span class="id" title="binder">b</span></a> : <a class="idref" href="MMaps.RBT.html#rspec:160"><span class="id" title="inductive">rspec</span></a> <a class="idref" href="MMaps.RBT.html#f:158"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:159"><span class="id" title="variable">g</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#a:162"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.RBT.html#x:163"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:164"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#b:165"><span class="id" title="variable">b</span></a>) (<a class="idref" href="MMaps.RBT.html#f:158"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#a:162"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.RBT.html#x:163"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:164"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#b:165"><span class="id" title="variable">b</span></a>)<br/>
&nbsp;| <a id="MakeRaw.relse" class="idref" href="#MakeRaw.relse"><span class="id" title="constructor">relse</span></a> <a id="t:166" class="idref" href="#t:166"><span class="id" title="binder">t</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.notred"><span class="id" title="definition">notred</span></a> <a class="idref" href="MMaps.RBT.html#t:166"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#rspec:160"><span class="id" title="inductive">rspec</span></a> <a class="idref" href="MMaps.RBT.html#f:158"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:159"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#t:166"><span class="id" title="variable">t</span></a> (<a class="idref" href="MMaps.RBT.html#g:159"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#t:166"><span class="id" title="variable">t</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="MakeRaw.rmatch" class="idref" href="#MakeRaw.rmatch"><span class="id" title="lemma">rmatch</span></a> {<a id="A:167" class="idref" href="#A:167"><span class="id" title="binder">A</span></a>} <a id="f:168" class="idref" href="#f:168"><span class="id" title="binder">f</span></a> <a id="g:169" class="idref" href="#g:169"><span class="id" title="binder">g</span></a> <a id="m:170" class="idref" href="#m:170"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.rspec"><span class="id" title="inductive">rspec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="MMaps.RBT.html#A:167"><span class="id" title="variable">A</span></a>) <a class="idref" href="MMaps.RBT.html#f:168"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:169"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:170"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rcase"><span class="id" title="definition">rcase</span></a> <a class="idref" href="MMaps.RBT.html#f:168"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:169"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:170"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rcase"><span class="id" title="definition">rcase</span></a>. <span class="id" title="var">destmatch</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.rrcase" class="idref" href="#MakeRaw.rrcase"><span class="id" title="definition">rrcase</span></a> {<a id="A:171" class="idref" href="#A:171"><span class="id" title="binder">A</span></a>} <a id="f:172" class="idref" href="#f:172"><span class="id" title="binder">f</span></a> <a id="g:173" class="idref" href="#g:173"><span class="id" title="binder">g</span></a> <a id="m:174" class="idref" href="#m:174"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#A:171"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:174"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MMaps.RBT.html#f:172"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span>) ⇒ <a class="idref" href="MMaps.RBT.html#f:172"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span>  <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span><br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#g:173"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:174"><span class="id" title="variable">m</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Notation</span> <a id="MakeRaw.notredred" class="idref" href="#MakeRaw.notredred"><span class="id" title="abbreviation">notredred</span></a> := (<a class="idref" href="MMaps.RBT.html#MakeRaw.rrcase"><span class="id" title="definition">rrcase</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#False"><span class="id" title="inductive">False</span></a>) (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#True"><span class="id" title="inductive">True</span></a>)).<br/>

<br/>
<span class="id" title="keyword">Inductive</span> <a id="MakeRaw.rrspec" class="idref" href="#MakeRaw.rrspec"><span class="id" title="inductive">rrspec</span></a> {<a id="A:176" class="idref" href="#A:176"><span class="id" title="binder">A</span></a>} <a id="f:177" class="idref" href="#f:177"><span class="id" title="binder">f</span></a> <a id="g:178" class="idref" href="#g:178"><span class="id" title="binder">g</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="var">A</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;| <a id="MakeRaw.rrleft" class="idref" href="#MakeRaw.rrleft"><span class="id" title="constructor">rrleft</span></a> <a id="a:181" class="idref" href="#a:181"><span class="id" title="binder">a</span></a> <a id="x:182" class="idref" href="#x:182"><span class="id" title="binder">x</span></a> <a id="vx:183" class="idref" href="#vx:183"><span class="id" title="binder">vx</span></a> <a id="b:184" class="idref" href="#b:184"><span class="id" title="binder">b</span></a> <a id="y:185" class="idref" href="#y:185"><span class="id" title="binder">y</span></a> <a id="vy:186" class="idref" href="#vy:186"><span class="id" title="binder">vy</span></a> <a id="c:187" class="idref" href="#c:187"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#rrspec:179"><span class="id" title="inductive">rrspec</span></a> <a class="idref" href="MMaps.RBT.html#f:177"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:178"><span class="id" title="variable">g</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#a:181"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.RBT.html#x:182"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:183"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#b:184"><span class="id" title="variable">b</span></a>) <a class="idref" href="MMaps.RBT.html#y:185"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#vy:186"><span class="id" title="variable">vy</span></a> <a class="idref" href="MMaps.RBT.html#c:187"><span class="id" title="variable">c</span></a>) (<a class="idref" href="MMaps.RBT.html#f:177"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#a:181"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.RBT.html#x:182"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:183"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#b:184"><span class="id" title="variable">b</span></a> <a class="idref" href="MMaps.RBT.html#y:185"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#vy:186"><span class="id" title="variable">vy</span></a> <a class="idref" href="MMaps.RBT.html#c:187"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;| <a id="MakeRaw.rrright" class="idref" href="#MakeRaw.rrright"><span class="id" title="constructor">rrright</span></a> <a id="a:188" class="idref" href="#a:188"><span class="id" title="binder">a</span></a> <a id="x:189" class="idref" href="#x:189"><span class="id" title="binder">x</span></a> <a id="vx:190" class="idref" href="#vx:190"><span class="id" title="binder">vx</span></a> <a id="b:191" class="idref" href="#b:191"><span class="id" title="binder">b</span></a> <a id="y:192" class="idref" href="#y:192"><span class="id" title="binder">y</span></a> <a id="vy:193" class="idref" href="#vy:193"><span class="id" title="binder">vy</span></a> <a id="c:194" class="idref" href="#c:194"><span class="id" title="binder">c</span></a> :<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#rrspec:179"><span class="id" title="inductive">rrspec</span></a> <a class="idref" href="MMaps.RBT.html#f:177"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:178"><span class="id" title="variable">g</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#a:188"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.RBT.html#x:189"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:190"><span class="id" title="variable">vx</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#b:191"><span class="id" title="variable">b</span></a> <a class="idref" href="MMaps.RBT.html#y:192"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#vy:193"><span class="id" title="variable">vy</span></a> <a class="idref" href="MMaps.RBT.html#c:194"><span class="id" title="variable">c</span></a>)) (<a class="idref" href="MMaps.RBT.html#f:177"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#a:188"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.RBT.html#x:189"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:190"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#b:191"><span class="id" title="variable">b</span></a> <a class="idref" href="MMaps.RBT.html#y:192"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#vy:193"><span class="id" title="variable">vy</span></a> <a class="idref" href="MMaps.RBT.html#c:194"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;| <a id="MakeRaw.rrelse" class="idref" href="#MakeRaw.rrelse"><span class="id" title="constructor">rrelse</span></a> <a id="m:195" class="idref" href="#m:195"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.notredred"><span class="id" title="abbreviation">notredred</span></a> <a class="idref" href="MMaps.RBT.html#m:195"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#rrspec:179"><span class="id" title="inductive">rrspec</span></a> <a class="idref" href="MMaps.RBT.html#f:177"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:178"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:195"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.RBT.html#g:178"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:195"><span class="id" title="variable">m</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="MakeRaw.rrmatch" class="idref" href="#MakeRaw.rrmatch"><span class="id" title="lemma">rrmatch</span></a> {<a id="A:196" class="idref" href="#A:196"><span class="id" title="binder">A</span></a>} <a id="f:197" class="idref" href="#f:197"><span class="id" title="binder">f</span></a> <a id="g:198" class="idref" href="#g:198"><span class="id" title="binder">g</span></a> <a id="m:199" class="idref" href="#m:199"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.rrspec"><span class="id" title="inductive">rrspec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="MMaps.RBT.html#A:196"><span class="id" title="variable">A</span></a>) <a class="idref" href="MMaps.RBT.html#f:197"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:198"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:199"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rrcase"><span class="id" title="definition">rrcase</span></a> <a class="idref" href="MMaps.RBT.html#f:197"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:198"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:199"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rrcase"><span class="id" title="definition">rrcase</span></a>. <span class="id" title="var">destmatch</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.rrcase'" class="idref" href="#MakeRaw.rrcase'"><span class="id" title="definition">rrcase'</span></a> {<a id="A:200" class="idref" href="#A:200"><span class="id" title="binder">A</span></a>} <a id="f:201" class="idref" href="#f:201"><span class="id" title="binder">f</span></a> <a id="g:202" class="idref" href="#g:202"><span class="id" title="binder">g</span></a> <a id="m:203" class="idref" href="#m:203"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#A:200"><span class="id" title="variable">A</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:203"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span>) ⇒ <a class="idref" href="MMaps.RBT.html#f:201"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span> ⇒ <a class="idref" href="MMaps.RBT.html#f:201"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> <span class="id" title="var">x</span> <span class="id" title="var">vx</span> <span class="id" title="var">b</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">c</span><br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#g:202"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:203"><span class="id" title="variable">m</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="MakeRaw.rrmatch'" class="idref" href="#MakeRaw.rrmatch'"><span class="id" title="lemma">rrmatch'</span></a> {<a id="A:205" class="idref" href="#A:205"><span class="id" title="binder">A</span></a>} <a id="f:206" class="idref" href="#f:206"><span class="id" title="binder">f</span></a> <a id="g:207" class="idref" href="#g:207"><span class="id" title="binder">g</span></a> <a id="m:208" class="idref" href="#m:208"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.rrspec"><span class="id" title="inductive">rrspec</span></a> (<span class="id" title="var">A</span>:=<a class="idref" href="MMaps.RBT.html#A:205"><span class="id" title="variable">A</span></a>) <a class="idref" href="MMaps.RBT.html#f:206"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:207"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:208"><span class="id" title="variable">m</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rrcase'"><span class="id" title="definition">rrcase'</span></a> <a class="idref" href="MMaps.RBT.html#f:206"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:207"><span class="id" title="variable">g</span></a> <a class="idref" href="MMaps.RBT.html#m:208"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rrcase'"><span class="id" title="definition">rrcase'</span></a>. <span class="id" title="var">destmatch</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">constructor</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Balancing operations are instances of generic match 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fact</span> <a id="MakeRaw.lbal_match" class="idref" href="#MakeRaw.lbal_match"><span class="id" title="lemma">lbal_match</span></a> <a id="l:209" class="idref" href="#l:209"><span class="id" title="binder">l</span></a> <a id="k:210" class="idref" href="#k:210"><span class="id" title="binder">k</span></a> <a id="v:211" class="idref" href="#v:211"><span class="id" title="binder">v</span></a> <a id="r:212" class="idref" href="#r:212"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.rrspec"><span class="id" title="inductive">rrspec</span></a><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a:214" class="idref" href="#a:214"><span class="id" title="binder">a</span></a> <a id="x:215" class="idref" href="#x:215"><span class="id" title="binder">x</span></a> <a id="vx:216" class="idref" href="#vx:216"><span class="id" title="binder">vx</span></a> <a id="b:217" class="idref" href="#b:217"><span class="id" title="binder">b</span></a> <a id="y:218" class="idref" href="#y:218"><span class="id" title="binder">y</span></a> <a id="vy:219" class="idref" href="#vy:219"><span class="id" title="binder">vy</span></a> <a id="c:220" class="idref" href="#c:220"><span class="id" title="binder">c</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#a:214"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.RBT.html#x:215"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:216"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#b:217"><span class="id" title="variable">b</span></a>) <a class="idref" href="MMaps.RBT.html#y:218"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#vy:219"><span class="id" title="variable">vy</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#c:220"><span class="id" title="variable">c</span></a> <a class="idref" href="MMaps.RBT.html#k:210"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:211"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:212"><span class="id" title="variable">r</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="l:213" class="idref" href="#l:213"><span class="id" title="binder">l</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:213"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:210"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:211"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:212"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#l:209"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> <a class="idref" href="MMaps.RBT.html#l:209"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:210"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:211"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:212"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rrmatch"><span class="id" title="lemma">rrmatch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="MakeRaw.rbal_match" class="idref" href="#MakeRaw.rbal_match"><span class="id" title="lemma">rbal_match</span></a> <a id="l:221" class="idref" href="#l:221"><span class="id" title="binder">l</span></a> <a id="k:222" class="idref" href="#k:222"><span class="id" title="binder">k</span></a> <a id="v:223" class="idref" href="#v:223"><span class="id" title="binder">v</span></a> <a id="r:224" class="idref" href="#r:224"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.rrspec"><span class="id" title="inductive">rrspec</span></a><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a:226" class="idref" href="#a:226"><span class="id" title="binder">a</span></a> <a id="x:227" class="idref" href="#x:227"><span class="id" title="binder">x</span></a> <a id="vx:228" class="idref" href="#vx:228"><span class="id" title="binder">vx</span></a> <a id="b:229" class="idref" href="#b:229"><span class="id" title="binder">b</span></a> <a id="y:230" class="idref" href="#y:230"><span class="id" title="binder">y</span></a> <a id="vy:231" class="idref" href="#vy:231"><span class="id" title="binder">vy</span></a> <a id="c:232" class="idref" href="#c:232"><span class="id" title="binder">c</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:221"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:222"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:223"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#a:226"><span class="id" title="variable">a</span></a>) <a class="idref" href="MMaps.RBT.html#x:227"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:228"><span class="id" title="variable">vx</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#b:229"><span class="id" title="variable">b</span></a> <a class="idref" href="MMaps.RBT.html#y:230"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#vy:231"><span class="id" title="variable">vy</span></a> <a class="idref" href="MMaps.RBT.html#c:232"><span class="id" title="variable">c</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="r:225" class="idref" href="#r:225"><span class="id" title="binder">r</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:221"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:222"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:223"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:225"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#r:224"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal"><span class="id" title="definition">rbal</span></a> <a class="idref" href="MMaps.RBT.html#l:221"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:222"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:223"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:224"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rrmatch"><span class="id" title="lemma">rrmatch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="MakeRaw.rbal'_match" class="idref" href="#MakeRaw.rbal'_match"><span class="id" title="lemma">rbal'_match</span></a> <a id="l:233" class="idref" href="#l:233"><span class="id" title="binder">l</span></a> <a id="k:234" class="idref" href="#k:234"><span class="id" title="binder">k</span></a> <a id="v:235" class="idref" href="#v:235"><span class="id" title="binder">v</span></a> <a id="r:236" class="idref" href="#r:236"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.rrspec"><span class="id" title="inductive">rrspec</span></a><br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a:238" class="idref" href="#a:238"><span class="id" title="binder">a</span></a> <a id="x:239" class="idref" href="#x:239"><span class="id" title="binder">x</span></a> <a id="vx:240" class="idref" href="#vx:240"><span class="id" title="binder">vx</span></a> <a id="b:241" class="idref" href="#b:241"><span class="id" title="binder">b</span></a> <a id="y:242" class="idref" href="#y:242"><span class="id" title="binder">y</span></a> <a id="vy:243" class="idref" href="#vy:243"><span class="id" title="binder">vy</span></a> <a id="c:244" class="idref" href="#c:244"><span class="id" title="binder">c</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:233"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:234"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:235"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#a:238"><span class="id" title="variable">a</span></a>) <a class="idref" href="MMaps.RBT.html#x:239"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:240"><span class="id" title="variable">vx</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#b:241"><span class="id" title="variable">b</span></a> <a class="idref" href="MMaps.RBT.html#y:242"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#vy:243"><span class="id" title="variable">vy</span></a> <a class="idref" href="MMaps.RBT.html#c:244"><span class="id" title="variable">c</span></a>))<br/>
&nbsp;&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="r:237" class="idref" href="#r:237"><span class="id" title="binder">r</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:233"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:234"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:235"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:237"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#r:236"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <a class="idref" href="MMaps.RBT.html#l:233"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#k:234"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:235"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:236"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rrmatch'"><span class="id" title="lemma">rrmatch'</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="MakeRaw.lbalS_match" class="idref" href="#MakeRaw.lbalS_match"><span class="id" title="lemma">lbalS_match</span></a> <a id="l:245" class="idref" href="#l:245"><span class="id" title="binder">l</span></a> <a id="x:246" class="idref" href="#x:246"><span class="id" title="binder">x</span></a> <a id="vx:247" class="idref" href="#vx:247"><span class="id" title="binder">vx</span></a> <a id="r:248" class="idref" href="#r:248"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.rspec"><span class="id" title="inductive">rspec</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a:251" class="idref" href="#a:251"><span class="id" title="binder">a</span></a> <a id="y:252" class="idref" href="#y:252"><span class="id" title="binder">y</span></a> <a id="vy:253" class="idref" href="#vy:253"><span class="id" title="binder">vy</span></a> <a id="b:254" class="idref" href="#b:254"><span class="id" title="binder">b</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#a:251"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.RBT.html#y:252"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#vy:253"><span class="id" title="variable">vy</span></a> <a class="idref" href="MMaps.RBT.html#b:254"><span class="id" title="variable">b</span></a>) <a class="idref" href="MMaps.RBT.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:247"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:248"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="l:249" class="idref" href="#l:249"><span class="id" title="binder">l</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#r:248"><span class="id" title="variable">r</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <a class="idref" href="MMaps.RBT.html#l:249"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:247"><span class="id" title="variable">vx</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">b</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">b</span>) <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">c</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#l:249"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:247"><span class="id" title="variable">vx</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <span class="id" title="var">b</span> <span class="id" title="var">z</span> <span class="id" title="var">vz</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed"><span class="id" title="definition">makeRed</span></a> <span class="id" title="var">c</span>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:249"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:247"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:248"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#l:245"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS"><span class="id" title="definition">lbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:245"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:246"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:247"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:248"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rmatch"><span class="id" title="lemma">rmatch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Fact</span> <a id="MakeRaw.rbalS_match" class="idref" href="#MakeRaw.rbalS_match"><span class="id" title="lemma">rbalS_match</span></a> <a id="l:255" class="idref" href="#l:255"><span class="id" title="binder">l</span></a> <a id="x:256" class="idref" href="#x:256"><span class="id" title="binder">x</span></a> <a id="vx:257" class="idref" href="#vx:257"><span class="id" title="binder">vx</span></a> <a id="r:258" class="idref" href="#r:258"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.rspec"><span class="id" title="inductive">rspec</span></a><br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="a:261" class="idref" href="#a:261"><span class="id" title="binder">a</span></a> <a id="y:262" class="idref" href="#y:262"><span class="id" title="binder">y</span></a> <a id="vy:263" class="idref" href="#vy:263"><span class="id" title="binder">vy</span></a> <a id="b:264" class="idref" href="#b:264"><span class="id" title="binder">b</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:255"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:256"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:257"><span class="id" title="variable">vx</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <a class="idref" href="MMaps.RBT.html#a:261"><span class="id" title="variable">a</span></a> <a class="idref" href="MMaps.RBT.html#y:262"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#vy:263"><span class="id" title="variable">vy</span></a> <a class="idref" href="MMaps.RBT.html#b:264"><span class="id" title="variable">b</span></a>))<br/>
&nbsp;&nbsp;(<span class="id" title="keyword">fun</span> <a id="r:259" class="idref" href="#r:259"><span class="id" title="binder">r</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l:255"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">b</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">b</span>) <a class="idref" href="MMaps.RBT.html#x:256"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:257"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:259"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <span class="id" title="var">a</span> <span class="id" title="var">y</span> <span class="id" title="var">vy</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">b</span> <span class="id" title="var">z</span> <span class="id" title="var">vz</span> <span class="id" title="var">c</span>) ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed"><span class="id" title="definition">makeRed</span></a> <span class="id" title="var">a</span>) <span class="id" title="var">y</span> <span class="id" title="var">vy</span> <span class="id" title="var">b</span>) <span class="id" title="var">z</span> <span class="id" title="var">vz</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">c</span> <a class="idref" href="MMaps.RBT.html#x:256"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:257"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:259"><span class="id" title="variable">r</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:255"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:256"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:257"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:259"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span>)<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#r:258"><span class="id" title="variable">r</span></a><br/>
&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS"><span class="id" title="definition">rbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:255"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:256"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:257"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:258"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">exact</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rmatch"><span class="id" title="lemma">rmatch</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab124"></a><h3 class="section">Balancing for insertion</h3>

</div>
<div class="code">

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.lbal_ok" class="idref" href="#MakeRaw.lbal_ok"><span class="id" title="instance">lbal_ok</span></a> <a id="l:265" class="idref" href="#l:265"><span class="id" title="binder">l</span></a> <a id="x:266" class="idref" href="#x:266"><span class="id" title="binder">x</span></a> <a id="v:267" class="idref" href="#v:267"><span class="id" title="binder">v</span></a> <a id="r:268" class="idref" href="#r:268"><span class="id" title="binder">r</span></a> `(<a id="Ok0:269" class="idref" href="#Ok0:269"><span class="id" title="binder">!</span></a><a id="Ok0:269" class="idref" href="#Ok0:269"><span class="id" title="binder">Ok</span></a> <a id="Ok0:269" class="idref" href="#Ok0:269"><span class="id" title="binder">l</span></a>, <a id="Ok1:270" class="idref" href="#Ok1:270"><span class="id" title="binder">!</span></a><a id="Ok1:270" class="idref" href="#Ok1:270"><span class="id" title="binder">Ok</span></a> <a id="Ok1:270" class="idref" href="#Ok1:270"><span class="id" title="binder">r</span></a>, <a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">l</span></a> <a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">&lt;</span></a> <a id="H:271" class="idref" href="#H:271"><span class="id" title="binder">x</span></a>, <a id="H0:272" class="idref" href="#H0:272"><span class="id" title="binder">x</span></a> <a id="H0:272" class="idref" href="#H0:272"><span class="id" title="binder">&lt;</span></a> <a id="H0:272" class="idref" href="#H0:272"><span class="id" title="binder">r</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> <a class="idref" href="MMaps.RBT.html#l:265"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:266"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:267"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:268"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_match"><span class="id" title="lemma">lbal_match</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">r</span>); <span class="id" title="var">ok</span>; <span class="id" title="var">invlt</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="var">eautom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.rbal_ok" class="idref" href="#MakeRaw.rbal_ok"><span class="id" title="instance">rbal_ok</span></a> <a id="l:273" class="idref" href="#l:273"><span class="id" title="binder">l</span></a> <a id="x:274" class="idref" href="#x:274"><span class="id" title="binder">x</span></a> <a id="v:275" class="idref" href="#v:275"><span class="id" title="binder">v</span></a> <a id="r:276" class="idref" href="#r:276"><span class="id" title="binder">r</span></a> `(<a id="Ok0:277" class="idref" href="#Ok0:277"><span class="id" title="binder">!</span></a><a id="Ok0:277" class="idref" href="#Ok0:277"><span class="id" title="binder">Ok</span></a> <a id="Ok0:277" class="idref" href="#Ok0:277"><span class="id" title="binder">l</span></a>, <a id="Ok1:278" class="idref" href="#Ok1:278"><span class="id" title="binder">!</span></a><a id="Ok1:278" class="idref" href="#Ok1:278"><span class="id" title="binder">Ok</span></a> <a id="Ok1:278" class="idref" href="#Ok1:278"><span class="id" title="binder">r</span></a>, <a id="H:279" class="idref" href="#H:279"><span class="id" title="binder">l</span></a> <a id="H:279" class="idref" href="#H:279"><span class="id" title="binder">&lt;</span></a> <a id="H:279" class="idref" href="#H:279"><span class="id" title="binder">x</span></a>, <a id="H0:280" class="idref" href="#H0:280"><span class="id" title="binder">x</span></a> <a id="H0:280" class="idref" href="#H0:280"><span class="id" title="binder">&lt;</span></a> <a id="H0:280" class="idref" href="#H0:280"><span class="id" title="binder">r</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal"><span class="id" title="definition">rbal</span></a> <a class="idref" href="MMaps.RBT.html#l:273"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:274"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:275"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:276"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal_match"><span class="id" title="lemma">rbal_match</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">r</span>); <span class="id" title="var">ok</span>; <span class="id" title="var">invlt</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="var">eautom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.rbal'_ok" class="idref" href="#MakeRaw.rbal'_ok"><span class="id" title="instance">rbal'_ok</span></a> <a id="l:281" class="idref" href="#l:281"><span class="id" title="binder">l</span></a> <a id="x:282" class="idref" href="#x:282"><span class="id" title="binder">x</span></a> <a id="v:283" class="idref" href="#v:283"><span class="id" title="binder">v</span></a> <a id="r:284" class="idref" href="#r:284"><span class="id" title="binder">r</span></a> `(<a id="Ok0:285" class="idref" href="#Ok0:285"><span class="id" title="binder">!</span></a><a id="Ok0:285" class="idref" href="#Ok0:285"><span class="id" title="binder">Ok</span></a> <a id="Ok0:285" class="idref" href="#Ok0:285"><span class="id" title="binder">l</span></a>, <a id="Ok1:286" class="idref" href="#Ok1:286"><span class="id" title="binder">!</span></a><a id="Ok1:286" class="idref" href="#Ok1:286"><span class="id" title="binder">Ok</span></a> <a id="Ok1:286" class="idref" href="#Ok1:286"><span class="id" title="binder">r</span></a>, <a id="H:287" class="idref" href="#H:287"><span class="id" title="binder">l</span></a> <a id="H:287" class="idref" href="#H:287"><span class="id" title="binder">&lt;</span></a> <a id="H:287" class="idref" href="#H:287"><span class="id" title="binder">x</span></a>, <a id="H0:288" class="idref" href="#H0:288"><span class="id" title="binder">x</span></a> <a id="H0:288" class="idref" href="#H0:288"><span class="id" title="binder">&lt;</span></a> <a id="H0:288" class="idref" href="#H0:288"><span class="id" title="binder">r</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <a class="idref" href="MMaps.RBT.html#l:281"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:282"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:283"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:284"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'_match"><span class="id" title="lemma">rbal'_match</span></a> <span class="id" title="var">l</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">r</span>); <span class="id" title="var">ok</span>; <span class="id" title="var">invlt</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="var">eautom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Note : Rd is arbitrary here and in all similar results below 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.lbal_mapsto" class="idref" href="#MakeRaw.lbal_mapsto"><span class="id" title="lemma">lbal_mapsto</span></a> <a id="l:289" class="idref" href="#l:289"><span class="id" title="binder">l</span></a> <a id="x:290" class="idref" href="#x:290"><span class="id" title="binder">x</span></a> <a id="vx:291" class="idref" href="#vx:291"><span class="id" title="binder">vx</span></a> <a id="r:292" class="idref" href="#r:292"><span class="id" title="binder">r</span></a> <a id="y:293" class="idref" href="#y:293"><span class="id" title="binder">y</span></a> <a id="vy:294" class="idref" href="#vy:294"><span class="id" title="binder">vy</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> <a class="idref" href="MMaps.RBT.html#l:289"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:291"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:292"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:293"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:294"><span class="id" title="variable">vy</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:289"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:290"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:291"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:292"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:293"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:294"><span class="id" title="variable">vy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_match"><span class="id" title="lemma">lbal_match</span></a>; <span class="id" title="var">intuition_m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.rbal_mapsto" class="idref" href="#MakeRaw.rbal_mapsto"><span class="id" title="lemma">rbal_mapsto</span></a> <a id="l:295" class="idref" href="#l:295"><span class="id" title="binder">l</span></a> <a id="x:296" class="idref" href="#x:296"><span class="id" title="binder">x</span></a> <a id="vx:297" class="idref" href="#vx:297"><span class="id" title="binder">vx</span></a> <a id="r:298" class="idref" href="#r:298"><span class="id" title="binder">r</span></a> <a id="y:299" class="idref" href="#y:299"><span class="id" title="binder">y</span></a> <a id="vy:300" class="idref" href="#vy:300"><span class="id" title="binder">vy</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.rbal"><span class="id" title="definition">rbal</span></a> <a class="idref" href="MMaps.RBT.html#l:295"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:296"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:297"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:298"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:299"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:300"><span class="id" title="variable">vy</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:295"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:296"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:297"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:298"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:299"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:300"><span class="id" title="variable">vy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal_match"><span class="id" title="lemma">rbal_match</span></a>; <span class="id" title="var">intuition_m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.rbal'_mapsto" class="idref" href="#MakeRaw.rbal'_mapsto"><span class="id" title="lemma">rbal'_mapsto</span></a> <a id="l:301" class="idref" href="#l:301"><span class="id" title="binder">l</span></a> <a id="x:302" class="idref" href="#x:302"><span class="id" title="binder">x</span></a> <a id="vx:303" class="idref" href="#vx:303"><span class="id" title="binder">vx</span></a> <a id="r:304" class="idref" href="#r:304"><span class="id" title="binder">r</span></a> <a id="y:305" class="idref" href="#y:305"><span class="id" title="binder">y</span></a> <a id="vy:306" class="idref" href="#vy:306"><span class="id" title="binder">vy</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <a class="idref" href="MMaps.RBT.html#l:301"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:302"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:303"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:304"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:305"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:306"><span class="id" title="variable">vy</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:301"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:302"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#vx:303"><span class="id" title="variable">vx</span></a> <a class="idref" href="MMaps.RBT.html#r:304"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:305"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:306"><span class="id" title="variable">vy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'_match"><span class="id" title="lemma">rbal'_match</span></a>; <span class="id" title="var">intuition_m</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.lbal_in" class="idref" href="#MakeRaw.lbal_in"><span class="id" title="lemma">lbal_in</span></a> <a id="l:307" class="idref" href="#l:307"><span class="id" title="binder">l</span></a> <a id="x:308" class="idref" href="#x:308"><span class="id" title="binder">x</span></a> <a id="v:309" class="idref" href="#v:309"><span class="id" title="binder">v</span></a> <a id="r:310" class="idref" href="#r:310"><span class="id" title="binder">r</span></a> <a id="y:311" class="idref" href="#y:311"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#y:311"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> <a class="idref" href="MMaps.RBT.html#l:307"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:308"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:309"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:310"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#y:311"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:308"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:311"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#l:307"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:311"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#r:310"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> "∈". <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_mapsto"><span class="id" title="lemma">lbal_mapsto</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>.<br/>
&nbsp;<span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.rbal_in" class="idref" href="#MakeRaw.rbal_in"><span class="id" title="lemma">rbal_in</span></a> <a id="l:312" class="idref" href="#l:312"><span class="id" title="binder">l</span></a> <a id="x:313" class="idref" href="#x:313"><span class="id" title="binder">x</span></a> <a id="v:314" class="idref" href="#v:314"><span class="id" title="binder">v</span></a> <a id="r:315" class="idref" href="#r:315"><span class="id" title="binder">r</span></a> <a id="y:316" class="idref" href="#y:316"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#y:316"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.rbal"><span class="id" title="definition">rbal</span></a> <a class="idref" href="MMaps.RBT.html#l:312"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:313"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:314"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:315"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#y:316"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:313"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:316"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#l:312"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:316"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#r:315"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> "∈". <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal_mapsto"><span class="id" title="lemma">rbal_mapsto</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>.<br/>
&nbsp;<span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.rbal'_in" class="idref" href="#MakeRaw.rbal'_in"><span class="id" title="lemma">rbal'_in</span></a> <a id="l:317" class="idref" href="#l:317"><span class="id" title="binder">l</span></a> <a id="x:318" class="idref" href="#x:318"><span class="id" title="binder">x</span></a> <a id="r:319" class="idref" href="#r:319"><span class="id" title="binder">r</span></a> <a id="v:320" class="idref" href="#v:320"><span class="id" title="binder">v</span></a> <a id="y:321" class="idref" href="#y:321"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#y:321"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <a class="idref" href="MMaps.RBT.html#l:317"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:318"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:320"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:319"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#y:321"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:318"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:321"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#l:317"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:321"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#r:319"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> "∈". <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'_mapsto"><span class="id" title="lemma">rbal'_mapsto</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>.<br/>
&nbsp;<span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.lbal_find" class="idref" href="#MakeRaw.lbal_find"><span class="id" title="lemma">lbal_find</span></a> <a id="l:322" class="idref" href="#l:322"><span class="id" title="binder">l</span></a> <a id="x:323" class="idref" href="#x:323"><span class="id" title="binder">x</span></a> <a id="v:324" class="idref" href="#v:324"><span class="id" title="binder">v</span></a> <a id="r:325" class="idref" href="#r:325"><span class="id" title="binder">r</span></a> `{<a id="Ok0:326" class="idref" href="#Ok0:326"><span class="id" title="binder">!</span></a><a id="Ok0:326" class="idref" href="#Ok0:326"><span class="id" title="binder">Ok</span></a> <a id="Ok0:326" class="idref" href="#Ok0:326"><span class="id" title="binder">l</span></a>, <a id="Ok1:327" class="idref" href="#Ok1:327"><span class="id" title="binder">!</span></a><a id="Ok1:327" class="idref" href="#Ok1:327"><span class="id" title="binder">Ok</span></a> <a id="Ok1:327" class="idref" href="#Ok1:327"><span class="id" title="binder">r</span></a>} :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#l:322"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#r:325"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.lbal"><span class="id" title="definition">lbal</span></a> <a class="idref" href="MMaps.RBT.html#l:322"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:324"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:325"><span class="id" title="variable">r</span></a> <a class="idref" href="MMaps.RBT.html#21058370111cfb2fe3db7e710ade69fb"><span class="id" title="notation">===</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:322"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:323"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:324"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:325"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hr</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_mapsto"><span class="id" title="lemma">lbal_mapsto</span></a>; <span class="id" title="var">autok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.rbal_find" class="idref" href="#MakeRaw.rbal_find"><span class="id" title="lemma">rbal_find</span></a> <a id="l:328" class="idref" href="#l:328"><span class="id" title="binder">l</span></a> <a id="x:329" class="idref" href="#x:329"><span class="id" title="binder">x</span></a> <a id="v:330" class="idref" href="#v:330"><span class="id" title="binder">v</span></a> <a id="r:331" class="idref" href="#r:331"><span class="id" title="binder">r</span></a> `{<a id="Ok0:332" class="idref" href="#Ok0:332"><span class="id" title="binder">!</span></a><a id="Ok0:332" class="idref" href="#Ok0:332"><span class="id" title="binder">Ok</span></a> <a id="Ok0:332" class="idref" href="#Ok0:332"><span class="id" title="binder">l</span></a>, <a id="Ok1:333" class="idref" href="#Ok1:333"><span class="id" title="binder">!</span></a><a id="Ok1:333" class="idref" href="#Ok1:333"><span class="id" title="binder">Ok</span></a> <a id="Ok1:333" class="idref" href="#Ok1:333"><span class="id" title="binder">r</span></a>} :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#l:328"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#x:329"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#x:329"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#r:331"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal"><span class="id" title="definition">rbal</span></a> <a class="idref" href="MMaps.RBT.html#l:328"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:329"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:330"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:331"><span class="id" title="variable">r</span></a> <a class="idref" href="MMaps.RBT.html#21058370111cfb2fe3db7e710ade69fb"><span class="id" title="notation">===</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:328"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:329"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:330"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:331"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hr</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal_mapsto"><span class="id" title="lemma">rbal_mapsto</span></a>; <span class="id" title="var">autok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.rbal'_find" class="idref" href="#MakeRaw.rbal'_find"><span class="id" title="lemma">rbal'_find</span></a> <a id="l:334" class="idref" href="#l:334"><span class="id" title="binder">l</span></a> <a id="x:335" class="idref" href="#x:335"><span class="id" title="binder">x</span></a> <a id="v:336" class="idref" href="#v:336"><span class="id" title="binder">v</span></a> <a id="r:337" class="idref" href="#r:337"><span class="id" title="binder">r</span></a> `{<a id="Ok0:338" class="idref" href="#Ok0:338"><span class="id" title="binder">!</span></a><a id="Ok0:338" class="idref" href="#Ok0:338"><span class="id" title="binder">Ok</span></a> <a id="Ok0:338" class="idref" href="#Ok0:338"><span class="id" title="binder">l</span></a>, <a id="Ok1:339" class="idref" href="#Ok1:339"><span class="id" title="binder">!</span></a><a id="Ok1:339" class="idref" href="#Ok1:339"><span class="id" title="binder">Ok</span></a> <a id="Ok1:339" class="idref" href="#Ok1:339"><span class="id" title="binder">r</span></a>} :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#l:334"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#x:335"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#x:335"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#r:337"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'"><span class="id" title="definition">rbal'</span></a> <a class="idref" href="MMaps.RBT.html#l:334"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:335"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:336"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:337"><span class="id" title="variable">r</span></a> <a class="idref" href="MMaps.RBT.html#21058370111cfb2fe3db7e710ade69fb"><span class="id" title="notation">===</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:334"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:335"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:336"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:337"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hr</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'_mapsto"><span class="id" title="lemma">rbal'_mapsto</span></a>; <span class="id" title="var">autok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.in_node"><span class="id" title="lemma">in_node</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) <a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed_in"><span class="id" title="lemma">makeRed_in</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack_in"><span class="id" title="lemma">makeBlack_in</span></a> : <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_in"><span class="id" title="lemma">lbal_in</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal_in"><span class="id" title="lemma">rbal_in</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'_in"><span class="id" title="lemma">rbal'_in</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab125"></a><h3 class="section">Insertion</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ins_in" class="idref" href="#MakeRaw.ins_in"><span class="id" title="lemma">ins_in</span></a> <a id="m:340" class="idref" href="#m:340"><span class="id" title="binder">m</span></a> <a id="x:341" class="idref" href="#x:341"><span class="id" title="binder">x</span></a> <a id="v:342" class="idref" href="#v:342"><span class="id" title="binder">v</span></a> <a id="y:343" class="idref" href="#y:343"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#y:343"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.ins"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:341"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:342"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:340"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#y:343"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:341"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:343"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m:340"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">induct</span> <span class="id" title="var">m</span>; <span class="id" title="var">destmatch</span>; <span class="id" title="var">autorew</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">IHl</span>, ?<span class="id" title="var">IHr</span>; <span class="id" title="var">intuition_in</span>.<br/>
&nbsp;<span class="id" title="tactic">setoid_replace</span> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">eauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ins_in"><span class="id" title="lemma">ins_in</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ins_above" class="idref" href="#MakeRaw.ins_above"><span class="id" title="lemma">ins_above</span></a> <a id="m:344" class="idref" href="#m:344"><span class="id" title="binder">m</span></a> <a id="x:345" class="idref" href="#x:345"><span class="id" title="binder">x</span></a> <a id="v:346" class="idref" href="#v:346"><span class="id" title="binder">v</span></a> <a id="y:347" class="idref" href="#y:347"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.RBT.html#m:344"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#y:347"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#x:345"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#y:347"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ins"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:345"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:346"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:344"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#y:347"><span class="id" title="variable">y</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">treeorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ins_below" class="idref" href="#MakeRaw.ins_below"><span class="id" title="lemma">ins_below</span></a> <a id="m:348" class="idref" href="#m:348"><span class="id" title="binder">m</span></a> <a id="x:349" class="idref" href="#x:349"><span class="id" title="binder">x</span></a> <a id="v:350" class="idref" href="#v:350"><span class="id" title="binder">v</span></a> <a id="y:351" class="idref" href="#y:351"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.RBT.html#y:351"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#m:348"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#y:351"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#x:349"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#y:351"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ins"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:349"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:350"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:348"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">treeorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Local Hint Resolve</span> <span class="id" title="var">ins_above</span> <span class="id" title="var">ins_below</span> : <span class="id" title="var">map</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.ins_ok" class="idref" href="#MakeRaw.ins_ok"><span class="id" title="instance">ins_ok</span></a> <a id="m:352" class="idref" href="#m:352"><span class="id" title="binder">m</span></a> <a id="x:353" class="idref" href="#x:353"><span class="id" title="binder">x</span></a> <a id="v:354" class="idref" href="#v:354"><span class="id" title="binder">v</span></a> `{<a id="Ok0:355" class="idref" href="#Ok0:355"><span class="id" title="binder">!</span></a><a id="Ok0:355" class="idref" href="#Ok0:355"><span class="id" title="binder">Ok</span></a> <a id="Ok0:355" class="idref" href="#Ok0:355"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ins"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:353"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:354"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:352"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">induct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">destmatch</span>;<br/>
&nbsp;(<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_ok"><span class="id" title="instance">lbal_ok</span></a> || <span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal_ok"><span class="id" title="instance">rbal_ok</span></a> || <span class="id" title="var">ok</span>); <span class="id" title="tactic">auto</span>; <span class="id" title="var">treeorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ins_spec1" class="idref" href="#MakeRaw.ins_spec1"><span class="id" title="lemma">ins_spec1</span></a> <a id="m:356" class="idref" href="#m:356"><span class="id" title="binder">m</span></a> <a id="x:357" class="idref" href="#x:357"><span class="id" title="binder">x</span></a> <a id="v:358" class="idref" href="#v:358"><span class="id" title="binder">v</span></a> `{<a id="Ok0:359" class="idref" href="#Ok0:359"><span class="id" title="binder">!</span></a><a id="Ok0:359" class="idref" href="#Ok0:359"><span class="id" title="binder">Ok</span></a> <a id="Ok0:359" class="idref" href="#Ok0:359"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:357"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ins"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:357"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:358"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:356"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v:358"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">induct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">destmatch</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_find"><span class="id" title="lemma">lbal_find</span></a>, ?<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal_find"><span class="id" title="lemma">rbal_find</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ins_spec2" class="idref" href="#MakeRaw.ins_spec2"><span class="id" title="lemma">ins_spec2</span></a> <a id="m:360" class="idref" href="#m:360"><span class="id" title="binder">m</span></a> <a id="x:361" class="idref" href="#x:361"><span class="id" title="binder">x</span></a> <a id="y:362" class="idref" href="#y:362"><span class="id" title="binder">y</span></a> <a id="v:363" class="idref" href="#v:363"><span class="id" title="binder">v</span></a> `{<a id="Ok0:364" class="idref" href="#Ok0:364"><span class="id" title="binder">!</span></a><a id="Ok0:364" class="idref" href="#Ok0:364"><span class="id" title="binder">Ok</span></a> <a id="Ok0:364" class="idref" href="#Ok0:364"><span class="id" title="binder">m</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.RBT.html#x:361"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#y:362"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:362"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ins"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:361"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:363"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:360"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:362"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#m:360"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">induct</span> <span class="id" title="var">m</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">destmatch</span>;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_find"><span class="id" title="lemma">lbal_find</span></a>, ?<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal_find"><span class="id" title="lemma">rbal_find</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">with</span> *;<br/>
&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>; <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ins_find" class="idref" href="#MakeRaw.ins_find"><span class="id" title="lemma">ins_find</span></a> <a id="m:365" class="idref" href="#m:365"><span class="id" title="binder">m</span></a> <a id="x:366" class="idref" href="#x:366"><span class="id" title="binder">x</span></a> <a id="y:367" class="idref" href="#y:367"><span class="id" title="binder">y</span></a> <a id="v:368" class="idref" href="#v:368"><span class="id" title="binder">v</span></a> `{<a id="Ok0:369" class="idref" href="#Ok0:369"><span class="id" title="binder">!</span></a><a id="Ok0:369" class="idref" href="#Ok0:369"><span class="id" title="binder">Ok</span></a> <a id="Ok0:369" class="idref" href="#Ok0:369"><span class="id" title="binder">m</span></a>} :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:367"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ins"><span class="id" title="definition">ins</span></a> <a class="idref" href="MMaps.RBT.html#x:366"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:368"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:365"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#K.compare"><span class="id" title="axiom">K.compare</span></a> <a class="idref" href="MMaps.RBT.html#y:367"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#x:366"><span class="id" title="variable">x</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v:368"><span class="id" title="variable">v</span></a> | <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:367"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#m:365"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">E</span>.<br/>
&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.find_spec"><span class="id" title="lemma">find_spec</span></a>; <span class="id" title="var">autok</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.find_spec"><span class="id" title="lemma">find_spec</span></a>; <span class="id" title="var">autok</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ins_spec1"><span class="id" title="lemma">ins_spec1</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ins_spec2"><span class="id" title="lemma">ins_spec2</span></a>; <span class="id" title="tactic">trivial</span>; <span class="id" title="var">order</span>.<br/>
&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ins_spec2"><span class="id" title="lemma">ins_spec2</span></a>; <span class="id" title="tactic">trivial</span>; <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.add_ok" class="idref" href="#MakeRaw.add_ok"><span class="id" title="instance">add_ok</span></a> <a id="m:370" class="idref" href="#m:370"><span class="id" title="binder">m</span></a> <a id="x:371" class="idref" href="#x:371"><span class="id" title="binder">x</span></a> <a id="v:372" class="idref" href="#v:372"><span class="id" title="binder">v</span></a> `{<a id="Ok0:373" class="idref" href="#Ok0:373"><span class="id" title="binder">!</span></a><a id="Ok0:373" class="idref" href="#Ok0:373"><span class="id" title="binder">Ok</span></a> <a id="Ok0:373" class="idref" href="#Ok0:373"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a> <a class="idref" href="MMaps.RBT.html#x:371"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:372"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:370"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a>; <span class="id" title="var">autok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.add_in" class="idref" href="#MakeRaw.add_in"><span class="id" title="lemma">add_in</span></a> <a id="m:374" class="idref" href="#m:374"><span class="id" title="binder">m</span></a> <a id="x:375" class="idref" href="#x:375"><span class="id" title="binder">x</span></a> <a id="v:376" class="idref" href="#v:376"><span class="id" title="binder">v</span></a> <a id="y:377" class="idref" href="#y:377"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#y:377"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a> <a class="idref" href="MMaps.RBT.html#x:375"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:376"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:374"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#y:377"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:375"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:377"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m:374"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">autorew</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.add_in"><span class="id" title="lemma">add_in</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.add_spec1" class="idref" href="#MakeRaw.add_spec1"><span class="id" title="lemma">add_spec1</span></a> <a id="m:378" class="idref" href="#m:378"><span class="id" title="binder">m</span></a> <a id="x:379" class="idref" href="#x:379"><span class="id" title="binder">x</span></a> <a id="v:380" class="idref" href="#v:380"><span class="id" title="binder">v</span></a> `{<a id="Ok0:381" class="idref" href="#Ok0:381"><span class="id" title="binder">!</span></a><a id="Ok0:381" class="idref" href="#Ok0:381"><span class="id" title="binder">Ok</span></a> <a id="Ok0:381" class="idref" href="#Ok0:381"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:379"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a> <a class="idref" href="MMaps.RBT.html#x:379"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:380"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:378"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v:380"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack_find"><span class="id" title="lemma">makeBlack_find</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ins_spec1"><span class="id" title="lemma">ins_spec1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.add_spec2" class="idref" href="#MakeRaw.add_spec2"><span class="id" title="lemma">add_spec2</span></a> <a id="m:382" class="idref" href="#m:382"><span class="id" title="binder">m</span></a> <a id="x:383" class="idref" href="#x:383"><span class="id" title="binder">x</span></a> <a id="y:384" class="idref" href="#y:384"><span class="id" title="binder">y</span></a> <a id="v:385" class="idref" href="#v:385"><span class="id" title="binder">v</span></a> `{<a id="Ok0:386" class="idref" href="#Ok0:386"><span class="id" title="binder">!</span></a><a id="Ok0:386" class="idref" href="#Ok0:386"><span class="id" title="binder">Ok</span></a> <a id="Ok0:386" class="idref" href="#Ok0:386"><span class="id" title="binder">m</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.RBT.html#x:383"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#y:384"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:384"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a> <a class="idref" href="MMaps.RBT.html#x:383"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:385"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:382"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:384"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#m:382"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.add"><span class="id" title="definition">add</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack_find"><span class="id" title="lemma">makeBlack_find</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ins_spec2"><span class="id" title="lemma">ins_spec2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab126"></a><h3 class="section">Balancing for deletion</h3>

</div>
<div class="code">

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.lbalS_ok" class="idref" href="#MakeRaw.lbalS_ok"><span class="id" title="instance">lbalS_ok</span></a> <a id="l:387" class="idref" href="#l:387"><span class="id" title="binder">l</span></a> <a id="x:388" class="idref" href="#x:388"><span class="id" title="binder">x</span></a> <a id="v:389" class="idref" href="#v:389"><span class="id" title="binder">v</span></a> <a id="r:390" class="idref" href="#r:390"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;&nbsp;<span class="id" title="keyword">∀</span> `(<a id="Ok0:391" class="idref" href="#Ok0:391"><span class="id" title="binder">!</span></a><a id="Ok0:391" class="idref" href="#Ok0:391"><span class="id" title="binder">Ok</span></a> <a id="Ok0:391" class="idref" href="#Ok0:391"><span class="id" title="binder">l</span></a>, <a id="Ok1:392" class="idref" href="#Ok1:392"><span class="id" title="binder">!</span></a><a id="Ok1:392" class="idref" href="#Ok1:392"><span class="id" title="binder">Ok</span></a> <a id="Ok1:392" class="idref" href="#Ok1:392"><span class="id" title="binder">r</span></a>, <a id="H:393" class="idref" href="#H:393"><span class="id" title="binder">l</span></a> <a id="H:393" class="idref" href="#H:393"><span class="id" title="binder">&lt;</span></a> <a id="H:393" class="idref" href="#H:393"><span class="id" title="binder">x</span></a>, <a id="H0:394" class="idref" href="#H0:394"><span class="id" title="binder">x</span></a> <a id="H0:394" class="idref" href="#H0:394"><span class="id" title="binder">&lt;</span></a> <a id="H0:394" class="idref" href="#H0:394"><span class="id" title="binder">r</span></a>), <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS"><span class="id" title="definition">lbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:387"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:388"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:389"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:390"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS_match"><span class="id" title="lemma">lbalS_match</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">treeorder</span>; <span class="id" title="var">invok</span>; <span class="id" title="var">invlt</span>.<br/>
&nbsp;- <span class="id" title="var">ok</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="var">chok</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">treeorder</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'_ok"><span class="id" title="instance">rbal'_ok</span></a>; <span class="id" title="var">treeorder</span>.<br/>
&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'_ok"><span class="id" title="instance">rbal'_ok</span></a>; <span class="id" title="var">treeorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.rbalS_ok" class="idref" href="#MakeRaw.rbalS_ok"><span class="id" title="instance">rbalS_ok</span></a> <a id="l:395" class="idref" href="#l:395"><span class="id" title="binder">l</span></a> <a id="x:396" class="idref" href="#x:396"><span class="id" title="binder">x</span></a> <a id="v:397" class="idref" href="#v:397"><span class="id" title="binder">v</span></a> <a id="r:398" class="idref" href="#r:398"><span class="id" title="binder">r</span></a> :<br/>
&nbsp;<span class="id" title="keyword">∀</span> `(<a id="Ok0:399" class="idref" href="#Ok0:399"><span class="id" title="binder">!</span></a><a id="Ok0:399" class="idref" href="#Ok0:399"><span class="id" title="binder">Ok</span></a> <a id="Ok0:399" class="idref" href="#Ok0:399"><span class="id" title="binder">l</span></a>, <a id="Ok1:400" class="idref" href="#Ok1:400"><span class="id" title="binder">!</span></a><a id="Ok1:400" class="idref" href="#Ok1:400"><span class="id" title="binder">Ok</span></a> <a id="Ok1:400" class="idref" href="#Ok1:400"><span class="id" title="binder">r</span></a>, <a id="H:401" class="idref" href="#H:401"><span class="id" title="binder">l</span></a> <a id="H:401" class="idref" href="#H:401"><span class="id" title="binder">&lt;</span></a> <a id="H:401" class="idref" href="#H:401"><span class="id" title="binder">x</span></a>, <a id="H0:402" class="idref" href="#H0:402"><span class="id" title="binder">x</span></a> <a id="H0:402" class="idref" href="#H0:402"><span class="id" title="binder">&lt;</span></a> <a id="H0:402" class="idref" href="#H0:402"><span class="id" title="binder">r</span></a>), <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS"><span class="id" title="definition">rbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:395"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:396"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:397"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:398"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS_match"><span class="id" title="lemma">rbalS_match</span></a>; <span class="id" title="tactic">intros</span>; <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">treeorder</span>; <span class="id" title="var">invok</span>; <span class="id" title="var">invlt</span>.<br/>
&nbsp;- <span class="id" title="var">ok</span>; <span class="id" title="tactic">intuition</span>.<br/>
&nbsp;- <span class="id" title="tactic">constructor</span>; <span class="id" title="var">chok</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">treeorder</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_ok"><span class="id" title="instance">lbal_ok</span></a>; <span class="id" title="var">treeorder</span>.<br/>
&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_ok"><span class="id" title="instance">lbal_ok</span></a>; <span class="id" title="var">treeorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.lbalS_mapsto" class="idref" href="#MakeRaw.lbalS_mapsto"><span class="id" title="lemma">lbalS_mapsto</span></a> <a id="l:403" class="idref" href="#l:403"><span class="id" title="binder">l</span></a> <a id="x:404" class="idref" href="#x:404"><span class="id" title="binder">x</span></a> <a id="v:405" class="idref" href="#v:405"><span class="id" title="binder">v</span></a> <a id="r:406" class="idref" href="#r:406"><span class="id" title="binder">r</span></a> <a id="y:407" class="idref" href="#y:407"><span class="id" title="binder">y</span></a> <a id="vy:408" class="idref" href="#vy:408"><span class="id" title="binder">vy</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS"><span class="id" title="definition">lbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:403"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:404"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:405"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:406"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:407"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:408"><span class="id" title="variable">vy</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:403"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:404"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:405"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:406"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:407"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:408"><span class="id" title="variable">vy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS_match"><span class="id" title="lemma">lbalS_match</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;- <span class="id" title="var">intuition_m</span>.<br/>
&nbsp;- <span class="id" title="var">destmatch</span>; <span class="id" title="var">intuition_m</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'_mapsto"><span class="id" title="lemma">rbal'_mapsto</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">intuition_m</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed_mapsto"><span class="id" title="lemma">makeRed_mapsto</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">intuition_m</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.MapsRight"><span class="id" title="constructor">MapsRight</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbal'_mapsto"><span class="id" title="lemma">rbal'_mapsto</span></a>; <span class="id" title="var">intuition_m</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.MapsRight"><span class="id" title="constructor">MapsRight</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed_mapsto"><span class="id" title="lemma">makeRed_mapsto</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.rbalS_mapsto" class="idref" href="#MakeRaw.rbalS_mapsto"><span class="id" title="lemma">rbalS_mapsto</span></a> <a id="l:409" class="idref" href="#l:409"><span class="id" title="binder">l</span></a> <a id="x:410" class="idref" href="#x:410"><span class="id" title="binder">x</span></a> <a id="v:411" class="idref" href="#v:411"><span class="id" title="binder">v</span></a> <a id="r:412" class="idref" href="#r:412"><span class="id" title="binder">r</span></a> <a id="y:413" class="idref" href="#y:413"><span class="id" title="binder">y</span></a> <a id="vy:414" class="idref" href="#vy:414"><span class="id" title="binder">vy</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS"><span class="id" title="definition">rbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:409"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:410"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:411"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:412"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:413"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:414"><span class="id" title="variable">vy</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:409"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:410"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:411"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:412"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:413"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#vy:414"><span class="id" title="variable">vy</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">case</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS_match"><span class="id" title="lemma">rbalS_match</span></a>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;- <span class="id" title="var">intuition_m</span>.<br/>
&nbsp;- <span class="id" title="var">destmatch</span>; <span class="id" title="var">intuition_m</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_mapsto"><span class="id" title="lemma">lbal_mapsto</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">intuition_m</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed_mapsto"><span class="id" title="lemma">makeRed_mapsto</span></a> <span class="id" title="tactic">in</span> *; <span class="id" title="var">intuition_m</span>;<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.MapsLeft"><span class="id" title="constructor">MapsLeft</span></a>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbal_mapsto"><span class="id" title="lemma">lbal_mapsto</span></a>; <span class="id" title="var">intuition_m</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.MapsLeft"><span class="id" title="constructor">MapsLeft</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.makeRed_mapsto"><span class="id" title="lemma">makeRed_mapsto</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.lbalS_in" class="idref" href="#MakeRaw.lbalS_in"><span class="id" title="lemma">lbalS_in</span></a> <a id="l:415" class="idref" href="#l:415"><span class="id" title="binder">l</span></a> <a id="x:416" class="idref" href="#x:416"><span class="id" title="binder">x</span></a> <a id="v:417" class="idref" href="#v:417"><span class="id" title="binder">v</span></a> <a id="r:418" class="idref" href="#r:418"><span class="id" title="binder">r</span></a> <a id="y:419" class="idref" href="#y:419"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#y:419"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS"><span class="id" title="definition">lbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:415"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:416"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:417"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:418"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#y:419"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:416"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:419"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#l:415"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:419"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#r:418"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> "∈"; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS_mapsto"><span class="id" title="lemma">lbalS_mapsto</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>.<br/>
&nbsp;<span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.rbalS_in" class="idref" href="#MakeRaw.rbalS_in"><span class="id" title="lemma">rbalS_in</span></a> <a id="l:420" class="idref" href="#l:420"><span class="id" title="binder">l</span></a> <a id="x:421" class="idref" href="#x:421"><span class="id" title="binder">x</span></a> <a id="r:422" class="idref" href="#r:422"><span class="id" title="binder">r</span></a> <a id="v:423" class="idref" href="#v:423"><span class="id" title="binder">v</span></a> <a id="y:424" class="idref" href="#y:424"><span class="id" title="binder">y</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#y:424"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS"><span class="id" title="definition">rbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:420"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:421"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:423"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:422"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#y:424"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:421"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:424"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#l:420"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#y:424"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#r:422"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> "∈"; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS_mapsto"><span class="id" title="lemma">rbalS_mapsto</span></a>; <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>.<br/>
&nbsp;<span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.lbalS_find" class="idref" href="#MakeRaw.lbalS_find"><span class="id" title="lemma">lbalS_find</span></a> <a id="l:425" class="idref" href="#l:425"><span class="id" title="binder">l</span></a> <a id="x:426" class="idref" href="#x:426"><span class="id" title="binder">x</span></a> <a id="v:427" class="idref" href="#v:427"><span class="id" title="binder">v</span></a> <a id="r:428" class="idref" href="#r:428"><span class="id" title="binder">r</span></a> `{<a id="Ok0:429" class="idref" href="#Ok0:429"><span class="id" title="binder">!</span></a><a id="Ok0:429" class="idref" href="#Ok0:429"><span class="id" title="binder">Ok</span></a> <a id="Ok0:429" class="idref" href="#Ok0:429"><span class="id" title="binder">l</span></a>, <a id="Ok1:430" class="idref" href="#Ok1:430"><span class="id" title="binder">!</span></a><a id="Ok1:430" class="idref" href="#Ok1:430"><span class="id" title="binder">Ok</span></a> <a id="Ok1:430" class="idref" href="#Ok1:430"><span class="id" title="binder">r</span></a>} : <a class="idref" href="MMaps.RBT.html#l:425"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#x:426"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#x:426"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#r:428"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS"><span class="id" title="definition">lbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:425"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:426"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:427"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:428"><span class="id" title="variable">r</span></a> <a class="idref" href="MMaps.RBT.html#21058370111cfb2fe3db7e710ade69fb"><span class="id" title="notation">===</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:425"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:426"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:427"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:428"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hr</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS_mapsto"><span class="id" title="lemma">lbalS_mapsto</span></a>; <span class="id" title="var">autok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.rbalS_find" class="idref" href="#MakeRaw.rbalS_find"><span class="id" title="lemma">rbalS_find</span></a> <a id="l:431" class="idref" href="#l:431"><span class="id" title="binder">l</span></a> <a id="x:432" class="idref" href="#x:432"><span class="id" title="binder">x</span></a> <a id="v:433" class="idref" href="#v:433"><span class="id" title="binder">v</span></a> <a id="r:434" class="idref" href="#r:434"><span class="id" title="binder">r</span></a> `{<a id="Ok0:435" class="idref" href="#Ok0:435"><span class="id" title="binder">!</span></a><a id="Ok0:435" class="idref" href="#Ok0:435"><span class="id" title="binder">Ok</span></a> <a id="Ok0:435" class="idref" href="#Ok0:435"><span class="id" title="binder">l</span></a>, <a id="Ok1:436" class="idref" href="#Ok1:436"><span class="id" title="binder">!</span></a><a id="Ok1:436" class="idref" href="#Ok1:436"><span class="id" title="binder">Ok</span></a> <a id="Ok1:436" class="idref" href="#Ok1:436"><span class="id" title="binder">r</span></a>} : <a class="idref" href="MMaps.RBT.html#l:431"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#x:432"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#x:432"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#r:434"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS"><span class="id" title="definition">rbalS</span></a> <a class="idref" href="MMaps.RBT.html#l:431"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:432"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:433"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:434"><span class="id" title="variable">r</span></a> <a class="idref" href="MMaps.RBT.html#21058370111cfb2fe3db7e710ade69fb"><span class="id" title="notation">===</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> <a class="idref" href="MMaps.RBT.html#l:431"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#x:432"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:433"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#r:434"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hl</span> <span class="id" title="var">Hr</span> <span class="id" title="var">y</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS_mapsto"><span class="id" title="lemma">rbalS_mapsto</span></a>; <span class="id" title="var">autok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS_in"><span class="id" title="lemma">lbalS_in</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS_in"><span class="id" title="lemma">rbalS_in</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab127"></a><h3 class="section">Append for deletion</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">append_tac</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span> :=<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">lc</span> <span class="id" title="var">ll</span> <span class="id" title="var">_</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> <span class="id" title="var">lr</span> <span class="id" title="var">IHlr</span>];<br/>
&nbsp;[<span class="id" title="tactic">intro</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">simpl</span><br/>
&nbsp;|<span class="id" title="tactic">induction</span> <span class="id" title="var">r</span> <span class="id" title="keyword">as</span> [| <span class="id" title="var">rc</span> <span class="id" title="var">rl</span> <span class="id" title="var">IHrl</span> <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span> <span class="id" title="var">_</span>];<br/>
&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">simpl</span><br/>
&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">destruct</span> <span class="id" title="var">lc</span>, <span class="id" title="var">rc</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHlr</span> <span class="id" title="var">rl</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">IHrl</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hr</span>:<a class="idref" href="MMaps.RBT.html#MakeRaw.notred"><span class="id" title="definition">notred</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">rl</span> <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">r</span>:=<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">rl</span> <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span>) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHrl</span> <span class="id" title="var">rl</span> <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHlr</span> <span class="id" title="var">r</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Rd"><span class="id" title="abbreviation">Rd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> <span class="id" title="var">lr</span>) <span class="id" title="var">rl</span>) <span class="id" title="var">rx</span> <span class="id" title="var">rv</span> <span class="id" title="var">rr</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Hl</span>:<a class="idref" href="MMaps.RBT.html#MakeRaw.notred"><span class="id" title="definition">notred</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> <span class="id" title="var">lr</span>)) <span class="id" title="tactic">by</span> (<span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">trivial</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">l</span>:=<a class="idref" href="MMaps.RBT.html#MakeRaw.Bk"><span class="id" title="abbreviation">Bk</span></a> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> <span class="id" title="var">lr</span>) <span class="id" title="tactic">in</span> *; <span class="id" title="var">clearbody</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHlr</span> <span class="id" title="var">ll</span> <span class="id" title="var">lx</span> <span class="id" title="var">lv</span> <span class="id" title="var">lr</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;|<span class="id" title="tactic">specialize</span> (<span class="id" title="var">IHlr</span> <span class="id" title="var">rl</span>); <span class="id" title="tactic">clear</span> <span class="id" title="var">IHrl</span>]]].<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mapsto_2levels" class="idref" href="#MakeRaw.mapsto_2levels"><span class="id" title="lemma">mapsto_2levels</span></a> <a id="c:437" class="idref" href="#c:437"><span class="id" title="binder">c</span></a> <a id="cl:438" class="idref" href="#cl:438"><span class="id" title="binder">cl</span></a> <a id="ll:439" class="idref" href="#ll:439"><span class="id" title="binder">ll</span></a> <a id="lx:440" class="idref" href="#lx:440"><span class="id" title="binder">lx</span></a> <a id="lv:441" class="idref" href="#lv:441"><span class="id" title="binder">lv</span></a> <a id="lr:442" class="idref" href="#lr:442"><span class="id" title="binder">lr</span></a> <a id="x:443" class="idref" href="#x:443"><span class="id" title="binder">x</span></a> <a id="v:444" class="idref" href="#v:444"><span class="id" title="binder">v</span></a> <a id="cr:445" class="idref" href="#cr:445"><span class="id" title="binder">cr</span></a> <a id="rl:446" class="idref" href="#rl:446"><span class="id" title="binder">rl</span></a> <a id="rx:447" class="idref" href="#rx:447"><span class="id" title="binder">rx</span></a> <a id="rv:448" class="idref" href="#rv:448"><span class="id" title="binder">rv</span></a> <a id="rr:449" class="idref" href="#rr:449"><span class="id" title="binder">rr</span></a> <a id="y:450" class="idref" href="#y:450"><span class="id" title="binder">y</span></a> <a id="e:451" class="idref" href="#e:451"><span class="id" title="binder">e</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="MMaps.RBT.html#c:437"><span class="id" title="variable">c</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="MMaps.RBT.html#cl:438"><span class="id" title="variable">cl</span></a> <a class="idref" href="MMaps.RBT.html#ll:439"><span class="id" title="variable">ll</span></a> <a class="idref" href="MMaps.RBT.html#lx:440"><span class="id" title="variable">lx</span></a> <a class="idref" href="MMaps.RBT.html#lv:441"><span class="id" title="variable">lv</span></a> <a class="idref" href="MMaps.RBT.html#lr:442"><span class="id" title="variable">lr</span></a>) <a class="idref" href="MMaps.RBT.html#x:443"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:444"><span class="id" title="variable">v</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="MMaps.RBT.html#cr:445"><span class="id" title="variable">cr</span></a> <a class="idref" href="MMaps.RBT.html#rl:446"><span class="id" title="variable">rl</span></a> <a class="idref" href="MMaps.RBT.html#rx:447"><span class="id" title="variable">rx</span></a> <a class="idref" href="MMaps.RBT.html#rv:448"><span class="id" title="variable">rv</span></a> <a class="idref" href="MMaps.RBT.html#rr:449"><span class="id" title="variable">rr</span></a>)<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:450"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#e:451"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="MMaps.RBT.html#cl:438"><span class="id" title="variable">cl</span></a> <a class="idref" href="MMaps.RBT.html#ll:439"><span class="id" title="variable">ll</span></a> <a class="idref" href="MMaps.RBT.html#lx:440"><span class="id" title="variable">lx</span></a> <a class="idref" href="MMaps.RBT.html#lv:441"><span class="id" title="variable">lv</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:450"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#e:451"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="MMaps.RBT.html#c:437"><span class="id" title="variable">c</span></a> <a class="idref" href="MMaps.RBT.html#lr:442"><span class="id" title="variable">lr</span></a> <a class="idref" href="MMaps.RBT.html#x:443"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#v:444"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#rl:446"><span class="id" title="variable">rl</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:450"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#e:451"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <a class="idref" href="MMaps.RBT.html#cr:445"><span class="id" title="variable">cr</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> <a class="idref" href="MMaps.RBT.html#rx:447"><span class="id" title="variable">rx</span></a> <a class="idref" href="MMaps.RBT.html#rv:448"><span class="id" title="variable">rv</span></a> <a class="idref" href="MMaps.RBT.html#rr:449"><span class="id" title="variable">rr</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:450"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#e:451"><span class="id" title="variable">e</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>, !<a class="idref" href="MMaps.RBT.html#MakeRaw.leaf_mapsto"><span class="id" title="lemma">leaf_mapsto</span></a>. <span class="id" title="var">rtauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.append_mapsto" class="idref" href="#MakeRaw.append_mapsto"><span class="id" title="lemma">append_mapsto</span></a> <a id="l:452" class="idref" href="#l:452"><span class="id" title="binder">l</span></a> <a id="r:453" class="idref" href="#r:453"><span class="id" title="binder">r</span></a> <a id="y:454" class="idref" href="#y:454"><span class="id" title="binder">y</span></a> <a id="v:455" class="idref" href="#v:455"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <a class="idref" href="MMaps.RBT.html#l:452"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#r:453"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#y:454"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v:455"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#l:452"><span class="id" title="variable">l@y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v:455"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#r:453"><span class="id" title="variable">r@y</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v:455"><span class="id" title="variable">v</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">r</span>.<br/>
&nbsp;<span class="id" title="var">append_tac</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">try</span> (<span class="id" title="var">intuition_m</span>; <span class="id" title="tactic">fail</span>).<br/>
&nbsp;- <span class="comment">(*&nbsp;Rd&nbsp;/&nbsp;Rd&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">destmatch</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">intuition_m</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapsto_2levels"><span class="id" title="lemma">mapsto_2levels</span></a>. <span class="id" title="var">factornode</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>, !<a class="idref" href="MMaps.RBT.html#MakeRaw.leaf_mapsto"><span class="id" title="lemma">leaf_mapsto</span></a>. <span class="id" title="var">rtauto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">factornode</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>. <span class="id" title="var">rtauto</span>.<br/>
&nbsp;- <span class="comment">(*&nbsp;Bk&nbsp;/&nbsp;Bk&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS_mapsto"><span class="id" title="lemma">lbalS_mapsto</span></a>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">intuition_m</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapsto_2levels"><span class="id" title="lemma">mapsto_2levels</span></a>. <span class="id" title="var">factornode</span> <span class="id" title="var">m</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>, !<a class="idref" href="MMaps.RBT.html#MakeRaw.leaf_mapsto"><span class="id" title="lemma">leaf_mapsto</span></a>. <span class="id" title="var">rtauto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="var">factornode</span> <span class="id" title="var">m</span>. <span class="id" title="tactic">rewrite</span> !<a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>. <span class="id" title="var">rtauto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.append_in" class="idref" href="#MakeRaw.append_in"><span class="id" title="lemma">append_in</span></a> (<a id="l:456" class="idref" href="#l:456"><span class="id" title="binder">l</span></a> <a id="r:457" class="idref" href="#r:457"><span class="id" title="binder">r</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) <a id="x:458" class="idref" href="#x:458"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#x:458"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <a class="idref" href="MMaps.RBT.html#l:456"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#r:457"><span class="id" title="variable">r</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#x:458"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#l:456"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#x:458"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#r:457"><span class="id" title="variable">r</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> "∈". <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.append_mapsto"><span class="id" title="lemma">append_mapsto</span></a>. <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.append_in"><span class="id" title="lemma">append_in</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.append_ok" class="idref" href="#MakeRaw.append_ok"><span class="id" title="instance">append_ok</span></a> : <span class="id" title="keyword">∀</span> <a id="l:459" class="idref" href="#l:459"><span class="id" title="binder">l</span></a> <a id="r:460" class="idref" href="#r:460"><span class="id" title="binder">r</span></a> `{<a id="Ok0:461" class="idref" href="#Ok0:461"><span class="id" title="binder">!</span></a><a id="Ok0:461" class="idref" href="#Ok0:461"><span class="id" title="binder">Ok</span></a> <a id="Ok0:461" class="idref" href="#Ok0:461"><span class="id" title="binder">l</span></a>, <a id="Ok1:462" class="idref" href="#Ok1:462"><span class="id" title="binder">!</span></a><a id="Ok1:462" class="idref" href="#Ok1:462"><span class="id" title="binder">Ok</span></a> <a id="Ok1:462" class="idref" href="#Ok1:462"><span class="id" title="binder">r</span></a>},<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#l:459"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#r:460"><span class="id" title="variable">r</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.RBT.html#l:459"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#r:460"><span class="id" title="variable">r</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">append_tac</span> <span class="id" title="var">l</span> <span class="id" title="var">r</span>; <span class="id" title="tactic">trivial</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">OK</span> <span class="id" title="var">OK'</span> <span class="id" title="var">AP</span>;<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.RBT.html#MakeRaw.apart_node_l"><span class="id" title="lemma">apart_node_l</span></a>, ?<a class="idref" href="MMaps.RBT.html#MakeRaw.apart_node_r"><span class="id" title="lemma">apart_node_r</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">AP</span>;<br/>
&nbsp;<span class="id" title="var">decompose</span> [<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#and"><span class="id" title="inductive">and</span></a>] <span class="id" title="var">AP</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">AP</span>; <span class="id" title="var">ok</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">treeorder</span>.<br/>
&nbsp;- <span class="comment">(*&nbsp;Rd&nbsp;/&nbsp;Rd&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">U</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <span class="id" title="var">lr</span> <span class="id" title="var">rl</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">V</span> : <span class="id" title="var">lx</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <span class="id" title="var">lr</span> <span class="id" title="var">rl</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">invlt</span>;<span class="id" title="var">treeorder</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">W</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <span class="id" title="var">lr</span> <span class="id" title="var">rl</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">rx</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">invlt</span>;<span class="id" title="var">treeorder</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">destmatch</span>; <span class="id" title="var">invlt</span>; <span class="id" title="var">ok</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="var">eautom</span>.<br/>
&nbsp;- <span class="comment">(*&nbsp;Bk&nbsp;/&nbsp;Bk&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">U</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <span class="id" title="var">lr</span> <span class="id" title="var">rl</span>)) <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">V</span> : <span class="id" title="var">lx</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <span class="id" title="var">lr</span> <span class="id" title="var">rl</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">invlt</span>;<span class="id" title="var">treeorder</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">W</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.append"><span class="id" title="definition">append</span></a> <span class="id" title="var">lr</span> <span class="id" title="var">rl</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">rx</span>) <span class="id" title="tactic">by</span> (<span class="id" title="var">invlt</span>;<span class="id" title="var">treeorder</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS_ok"><span class="id" title="instance">lbalS_ok</span></a>; <span class="id" title="var">invlt</span>; <span class="id" title="var">ok</span>; <span class="id" title="tactic">intuition</span>; <span class="id" title="var">eautom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab128"></a><h3 class="section">Deletion</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.del_in" class="idref" href="#MakeRaw.del_in"><span class="id" title="lemma">del_in</span></a> <a id="m:463" class="idref" href="#m:463"><span class="id" title="binder">m</span></a> <a id="x:464" class="idref" href="#x:464"><span class="id" title="binder">x</span></a> <a id="y:465" class="idref" href="#y:465"><span class="id" title="binder">y</span></a> `{<a id="Ok0:466" class="idref" href="#Ok0:466"><span class="id" title="binder">!</span></a><a id="Ok0:466" class="idref" href="#Ok0:466"><span class="id" title="binder">Ok</span></a> <a id="Ok0:466" class="idref" href="#Ok0:466"><span class="id" title="binder">m</span></a>} :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#y:465"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.del"><span class="id" title="definition">del</span></a> <a class="idref" href="MMaps.RBT.html#x:464"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:463"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#y:465"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m:463"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.RBT.html#y:465"><span class="id" title="variable">y</span></a><a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a><a class="idref" href="MMaps.RBT.html#x:464"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">induct</span> <span class="id" title="var">m</span>; <span class="id" title="var">destmatch</span>; <span class="id" title="var">autorew</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHr</span>;<br/>
&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">clear</span> <span class="id" title="var">IHl</span> <span class="id" title="var">IHr</span>; <span class="id" title="var">treeorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.del_in"><span class="id" title="lemma">del_in</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.del_ok" class="idref" href="#MakeRaw.del_ok"><span class="id" title="instance">del_ok</span></a> <a id="m:467" class="idref" href="#m:467"><span class="id" title="binder">m</span></a> <a id="x:468" class="idref" href="#x:468"><span class="id" title="binder">x</span></a> `{<a id="Ok0:469" class="idref" href="#Ok0:469"><span class="id" title="binder">!</span></a><a id="Ok0:469" class="idref" href="#Ok0:469"><span class="id" title="binder">Ok</span></a> <a id="Ok0:469" class="idref" href="#Ok0:469"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.del"><span class="id" title="definition">del</span></a> <a class="idref" href="MMaps.RBT.html#x:468"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:467"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="var">induct</span> <span class="id" title="var">m</span>.<br/>
- <span class="id" title="tactic">trivial</span>.<br/>
- <span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.append_ok"><span class="id" title="instance">append_ok</span></a>; <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.between"><span class="id" title="lemma">between</span></a>.<br/>
- <span class="id" title="tactic">assert</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.del"><span class="id" title="definition">del</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">x'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">treeorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="var">ok</span>.<br/>
- <span class="id" title="tactic">assert</span> (<span class="id" title="var">x'</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.del"><span class="id" title="definition">del</span></a> <span class="id" title="var">x</span> <span class="id" title="var">r</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">treeorder</span>.<br/>
&nbsp;&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="var">ok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.del_spec1" class="idref" href="#MakeRaw.del_spec1"><span class="id" title="lemma">del_spec1</span></a> <a id="m:470" class="idref" href="#m:470"><span class="id" title="binder">m</span></a> <a id="x:471" class="idref" href="#x:471"><span class="id" title="binder">x</span></a> `{<a id="Ok0:472" class="idref" href="#Ok0:472"><span class="id" title="binder">!</span></a><a id="Ok0:472" class="idref" href="#Ok0:472"><span class="id" title="binder">Ok</span></a> <a id="Ok0:472" class="idref" href="#Ok0:472"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:471"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.del"><span class="id" title="definition">del</span></a> <a class="idref" href="MMaps.RBT.html#x:471"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:470"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.not_find_iff"><span class="id" title="lemma">not_find_iff</span></a>; <span class="id" title="var">ok</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.del_in"><span class="id" title="lemma">del_in</span></a>; <span class="id" title="var">treeorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.del_spec2" class="idref" href="#MakeRaw.del_spec2"><span class="id" title="lemma">del_spec2</span></a> <a id="m:473" class="idref" href="#m:473"><span class="id" title="binder">m</span></a> <a id="x:474" class="idref" href="#x:474"><span class="id" title="binder">x</span></a> <a id="y:475" class="idref" href="#y:475"><span class="id" title="binder">y</span></a> `{<a id="Ok0:476" class="idref" href="#Ok0:476"><span class="id" title="binder">!</span></a><a id="Ok0:476" class="idref" href="#Ok0:476"><span class="id" title="binder">Ok</span></a> <a id="Ok0:476" class="idref" href="#Ok0:476"><span class="id" title="binder">m</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.RBT.html#x:474"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#y:475"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:475"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.del"><span class="id" title="definition">del</span></a> <a class="idref" href="MMaps.RBT.html#x:474"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:473"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:475"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#m:473"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">intros</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.find_mapsto_equiv"><span class="id" title="lemma">find_mapsto_equiv</span></a>; <span class="id" title="var">ok</span>.<br/>
<span class="id" title="var">induct</span> <span class="id" title="var">m</span>.<br/>
- <span class="id" title="var">easy</span>.<br/>
- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.append_mapsto"><span class="id" title="lemma">append_mapsto</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>. <span class="id" title="var">treeorder</span>.<br/>
- <span class="id" title="var">destmatch</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">intuition_m</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>. <span class="id" title="var">factornode</span> <span class="id" title="var">l</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ok</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.lbalS_mapsto"><span class="id" title="lemma">lbalS_mapsto</span></a>, 2 <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>. <span class="id" title="var">factornode</span> <span class="id" title="var">l</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ok</span>.<br/>
- <span class="id" title="var">destmatch</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">simpl</span>. <span class="id" title="var">intuition_m</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> 2 <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>. <span class="id" title="var">factornode</span> <span class="id" title="var">r</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHr</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ok</span>.<br/>
&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rbalS_mapsto"><span class="id" title="lemma">rbalS_mapsto</span></a>, 2 <a class="idref" href="MMaps.RBT.html#MakeRaw.node_mapsto"><span class="id" title="lemma">node_mapsto</span></a>. <span class="id" title="var">factornode</span> <span class="id" title="var">r</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHr</span> <span class="id" title="tactic">by</span> <span class="id" title="var">ok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.remove_in" class="idref" href="#MakeRaw.remove_in"><span class="id" title="lemma">remove_in</span></a> <a id="m:477" class="idref" href="#m:477"><span class="id" title="binder">m</span></a> <a id="x:478" class="idref" href="#x:478"><span class="id" title="binder">x</span></a> <a id="y:479" class="idref" href="#y:479"><span class="id" title="binder">y</span></a> `{<a id="Ok0:480" class="idref" href="#Ok0:480"><span class="id" title="binder">!</span></a><a id="Ok0:480" class="idref" href="#Ok0:480"><span class="id" title="binder">Ok</span></a> <a id="Ok0:480" class="idref" href="#Ok0:480"><span class="id" title="binder">m</span></a>} :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#y:479"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="MMaps.RBT.html#x:478"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:477"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#y:479"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m:477"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.RBT.html#y:479"><span class="id" title="variable">y</span></a><a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a><a class="idref" href="MMaps.RBT.html#x:478"><span class="id" title="variable">x</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.remove"><span class="id" title="definition">remove</span></a>. <span class="id" title="var">now</span> <span class="id" title="var">autorew</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Hint Rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.remove_in"><span class="id" title="lemma">remove_in</span></a> : <span class="id" title="var">map</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.remove_ok" class="idref" href="#MakeRaw.remove_ok"><span class="id" title="instance">remove_ok</span></a> <a id="m:481" class="idref" href="#m:481"><span class="id" title="binder">m</span></a> <a id="x:482" class="idref" href="#x:482"><span class="id" title="binder">x</span></a> `{<a id="Ok0:483" class="idref" href="#Ok0:483"><span class="id" title="binder">!</span></a><a id="Ok0:483" class="idref" href="#Ok0:483"><span class="id" title="binder">Ok</span></a> <a id="Ok0:483" class="idref" href="#Ok0:483"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="MMaps.RBT.html#x:482"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:481"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.remove"><span class="id" title="definition">remove</span></a>; <span class="id" title="var">ok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.remove_spec1" class="idref" href="#MakeRaw.remove_spec1"><span class="id" title="lemma">remove_spec1</span></a> <a id="m:484" class="idref" href="#m:484"><span class="id" title="binder">m</span></a> <a id="x:485" class="idref" href="#x:485"><span class="id" title="binder">x</span></a> `{<a id="Ok0:486" class="idref" href="#Ok0:486"><span class="id" title="binder">!</span></a><a id="Ok0:486" class="idref" href="#Ok0:486"><span class="id" title="binder">Ok</span></a> <a id="Ok0:486" class="idref" href="#Ok0:486"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:485"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="MMaps.RBT.html#x:485"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:484"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.remove"><span class="id" title="definition">remove</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack_find"><span class="id" title="lemma">makeBlack_find</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.del_spec1"><span class="id" title="lemma">del_spec1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.remove_spec2" class="idref" href="#MakeRaw.remove_spec2"><span class="id" title="lemma">remove_spec2</span></a> <a id="m:487" class="idref" href="#m:487"><span class="id" title="binder">m</span></a> <a id="x:488" class="idref" href="#x:488"><span class="id" title="binder">x</span></a> <a id="y:489" class="idref" href="#y:489"><span class="id" title="binder">y</span></a> `{<a id="Ok0:490" class="idref" href="#Ok0:490"><span class="id" title="binder">!</span></a><a id="Ok0:490" class="idref" href="#Ok0:490"><span class="id" title="binder">Ok</span></a> <a id="Ok0:490" class="idref" href="#Ok0:490"><span class="id" title="binder">m</span></a>} : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">¬</span></a> <a class="idref" href="MMaps.RBT.html#x:488"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#y:489"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:489"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.remove"><span class="id" title="definition">remove</span></a> <a class="idref" href="MMaps.RBT.html#x:488"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:487"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#y:489"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#m:487"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.remove"><span class="id" title="definition">remove</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.makeBlack_find"><span class="id" title="lemma">makeBlack_find</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.del_spec2"><span class="id" title="lemma">del_spec2</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab129"></a><h3 class="section">Treeify</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Local Notation</span> <a id="MakeRaw.ifpred" class="idref" href="#MakeRaw.ifpred"><span class="id" title="abbreviation">ifpred</span></a> <span class="id" title="var">p</span> <span class="id" title="var">n</span> := (<span class="id" title="keyword">if</span> <span class="id" title="var">p</span> <span class="id" title="keyword">then</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Peano.html#pred"><span class="id" title="abbreviation">pred</span></a> <span class="id" title="var">n</span> <span class="id" title="keyword">else</span> <span class="id" title="var">n</span>%<span class="id" title="var">nat</span>).<br/>
<span class="id" title="keyword">Local Notation</span> <a id="MakeRaw.treeify_t" class="idref" href="#MakeRaw.treeify_t"><span class="id" title="abbreviation">treeify_t</span></a> := (<a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.treeify_invariant" class="idref" href="#MakeRaw.treeify_invariant"><span class="id" title="definition">treeify_invariant</span></a> <a id="size:491" class="idref" href="#size:491"><span class="id" title="binder">size</span></a> (<a id="f:492" class="idref" href="#f:492"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_t"><span class="id" title="abbreviation">treeify_t</span></a>) :=<br/>
&nbsp;<span class="id" title="keyword">∀</span> <a id="acc:493" class="idref" href="#acc:493"><span class="id" title="binder">acc</span></a>,<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#size:491"><span class="id" title="variable">size</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Peano.html#cb53cf0ee22c036a03b4a9281c68b5a3"><span class="id" title="notation">≤</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MMaps.RBT.html#acc:493"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<span class="id" title="keyword">let</span> (<a id="m:494" class="idref" href="#m:494"><span class="id" title="binder">m</span></a>,<a id="acc':495" class="idref" href="#acc':495"><span class="id" title="binder">acc'</span></a>) := <a class="idref" href="MMaps.RBT.html#f:492"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#acc:493"><span class="id" title="variable">acc</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.cardinal"><span class="id" title="definition">cardinal</span></a> <a class="idref" href="MMaps.RBT.html#m:494"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#size:491"><span class="id" title="variable">size</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#acc:493"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:494"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MMaps.RBT.html#acc':495"><span class="id" title="variable">acc'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.treeify_zero_spec" class="idref" href="#MakeRaw.treeify_zero_spec"><span class="id" title="lemma">treeify_zero_spec</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_invariant"><span class="id" title="definition">treeify_invariant</span></a> 0 (@<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_zero"><span class="id" title="definition">treeify_zero</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intro</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.treeify_one_spec" class="idref" href="#MakeRaw.treeify_one_spec"><span class="id" title="lemma">treeify_one_spec</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_invariant"><span class="id" title="definition">treeify_invariant</span></a> 1 (@<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_one"><span class="id" title="definition">treeify_one</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> [|<span class="id" title="var">x</span> <span class="id" title="var">acc</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">inversion</span> 1.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>. <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.treeify_cont_spec" class="idref" href="#MakeRaw.treeify_cont_spec"><span class="id" title="lemma">treeify_cont_spec</span></a> <a id="f:496" class="idref" href="#f:496"><span class="id" title="binder">f</span></a> <a id="g:497" class="idref" href="#g:497"><span class="id" title="binder">g</span></a> <a id="size1:498" class="idref" href="#size1:498"><span class="id" title="binder">size1</span></a> <a id="size2:499" class="idref" href="#size2:499"><span class="id" title="binder">size2</span></a> <a id="size:500" class="idref" href="#size:500"><span class="id" title="binder">size</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_invariant"><span class="id" title="definition">treeify_invariant</span></a> <a class="idref" href="MMaps.RBT.html#size1:498"><span class="id" title="variable">size1</span></a> <a class="idref" href="MMaps.RBT.html#f:496"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_invariant"><span class="id" title="definition">treeify_invariant</span></a> <a class="idref" href="MMaps.RBT.html#size2:499"><span class="id" title="variable">size2</span></a> <a class="idref" href="MMaps.RBT.html#g:497"><span class="id" title="variable">g</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#size:500"><span class="id" title="variable">size</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="MMaps.RBT.html#size1:498"><span class="id" title="variable">size1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="MMaps.RBT.html#size2:499"><span class="id" title="variable">size2</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_invariant"><span class="id" title="definition">treeify_invariant</span></a> <a class="idref" href="MMaps.RBT.html#size:500"><span class="id" title="variable">size</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_cont"><span class="id" title="definition">treeify_cont</span></a> <a class="idref" href="MMaps.RBT.html#f:496"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#g:497"><span class="id" title="variable">g</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">Hg</span> <span class="id" title="var">EQ</span> <span class="id" title="var">acc</span> <span class="id" title="var">LE</span>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_cont"><span class="id" title="definition">treeify_cont</span></a>.<br/>
&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hf</span> <span class="id" title="var">acc</span>).<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">acc</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">t1</span>,<span class="id" title="var">acc1</span>).<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hf</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hf1</span>,<span class="id" title="var">Hf2</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="tactic">transitivity</span> <span class="id" title="var">size</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">subst</span>. <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>. }<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">acc1</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">x</span> <span class="id" title="var">acc1</span>].<br/>
&nbsp;&nbsp;{ <span class="id" title="var">exfalso</span>. <span class="id" title="var">revert</span> <span class="id" title="var">LE</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.lt_nge"><span class="id" title="lemma">Nat.lt_nge</span></a>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>, &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.cardinal_spec"><span class="id" title="lemma">cardinal_spec</span></a>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">with</span> <span class="id" title="var">arith</span>. }<br/>
&nbsp;<span class="id" title="tactic">specialize</span> (<span class="id" title="var">Hg</span> <span class="id" title="var">acc1</span>).<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">g</span> <span class="id" title="var">acc1</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">t2</span>,<span class="id" title="var">acc2</span>).<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Hg</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Hg1</span>,<span class="id" title="var">Hg2</span>).<br/>
&nbsp;&nbsp;{ <span class="id" title="var">revert</span> <span class="id" title="var">LE</span>. <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="abbreviation">app_length</span></a>, &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.cardinal_spec"><span class="id" title="lemma">cardinal_spec</span></a>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>, &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.succ_le_mono"><span class="id" title="lemma">Nat.succ_le_mono</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_le_mono_l"><span class="id" title="lemma">Nat.add_le_mono_l</span></a>. }<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">x</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_node_acc"><span class="id" title="lemma">bindings_node_acc</span></a>. <span class="id" title="tactic">subst</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.treeify_aux_spec" class="idref" href="#MakeRaw.treeify_aux_spec"><span class="id" title="lemma">treeify_aux_spec</span></a> <a id="n:501" class="idref" href="#n:501"><span class="id" title="binder">n</span></a> (<a id="p:502" class="idref" href="#p:502"><span class="id" title="binder">p</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_invariant"><span class="id" title="definition">treeify_invariant</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ifpred"><span class="id" title="abbreviation">ifpred</span></a> <a class="idref" href="MMaps.RBT.html#p:502"><span class="id" title="variable">p</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.BinPos.html#Pos.to_nat"><span class="id" title="definition">Pos.to_nat</span></a> <a class="idref" href="MMaps.RBT.html#n:501"><span class="id" title="variable">n</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_aux"><span class="id" title="definition">treeify_aux</span></a> <a class="idref" href="MMaps.RBT.html#p:502"><span class="id" title="variable">p</span></a> <a class="idref" href="MMaps.RBT.html#n:501"><span class="id" title="variable">n</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">p</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">n</span> <span class="id" title="keyword">as</span> [<span class="id" title="var">n</span>|<span class="id" title="var">n</span>|]; <span class="id" title="tactic">intros</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_aux"><span class="id" title="definition">treeify_aux</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_cont_spec"><span class="id" title="lemma">treeify_cont_spec</span></a>; [ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHn</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#false"><span class="id" title="constructor">false</span></a>) | <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">p</span>) | ].<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.Pnat.html#Pos2Nat.inj_xI"><span class="id" title="lemma">Pos2Nat.inj_xI</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.Pnat.html#Pos2Nat.is_pos"><span class="id" title="lemma">Pos2Nat.is_pos</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.neq_0_lt_0"><span class="id" title="lemma">Nat.neq_0_lt_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.succ_pred"><span class="id" title="lemma">Nat.succ_pred</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;- <span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_cont_spec"><span class="id" title="lemma">treeify_cont_spec</span></a>; [ <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHn</span> <span class="id" title="var">p</span>) | <span class="id" title="tactic">apply</span> (<span class="id" title="var">IHn</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>) | ].<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.Pnat.html#Pos2Nat.inj_xO"><span class="id" title="lemma">Pos2Nat.inj_xO</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.Pnat.html#Pos2Nat.is_pos"><span class="id" title="lemma">Pos2Nat.is_pos</span></a> <span class="id" title="var">n</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.neq_0_lt_0"><span class="id" title="lemma">Nat.neq_0_lt_0</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.succ_pred"><span class="id" title="lemma">Nat.succ_pred</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_0_r"><span class="id" title="lemma">Nat.add_0_r</span></a>; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">symmetry</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_pred_l"><span class="id" title="lemma">Nat.add_pred_l</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>; [ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_zero_spec"><span class="id" title="lemma">treeify_zero_spec</span></a> | <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_one_spec"><span class="id" title="lemma">treeify_one_spec</span></a> ].<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.plength_aux_spec" class="idref" href="#MakeRaw.plength_aux_spec"><span class="id" title="lemma">plength_aux_spec</span></a> <a id="l:503" class="idref" href="#l:503"><span class="id" title="binder">l</span></a> <a id="p:504" class="idref" href="#p:504"><span class="id" title="binder">p</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.BinPos.html#Pos.to_nat"><span class="id" title="definition">Pos.to_nat</span></a> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.plength_aux"><span class="id" title="definition">plength_aux</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.RBT.html#l:503"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#p:504"><span class="id" title="variable">p</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MMaps.RBT.html#l:503"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Peano.html#0dacc1786c5ba797d47dd85006231633"><span class="id" title="notation">+</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.BinPos.html#Pos.to_nat"><span class="id" title="definition">Pos.to_nat</span></a> <a class="idref" href="MMaps.RBT.html#p:504"><span class="id" title="variable">p</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">p</span>. <span class="id" title="tactic">induction</span> <span class="id" title="var">l</span>; <span class="id" title="tactic">trivial</span>. <span class="id" title="tactic">simpl</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.plength_aux"><span class="id" title="definition">plength_aux</span></a>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.Pnat.html#Pos2Nat.inj_succ"><span class="id" title="lemma">Pos2Nat.inj_succ</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.plength_spec" class="idref" href="#MakeRaw.plength_spec"><span class="id" title="lemma">plength_spec</span></a> <a id="l:505" class="idref" href="#l:505"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.PArith.BinPos.html#Pos.to_nat"><span class="id" title="definition">Pos.to_nat</span></a> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.plength"><span class="id" title="definition">plength</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.RBT.html#l:505"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#length"><span class="id" title="definition">length</span></a> <a class="idref" href="MMaps.RBT.html#l:505"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.plength"><span class="id" title="definition">plength</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.plength_aux_spec"><span class="id" title="lemma">plength_aux_spec</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_1_r"><span class="id" title="lemma">Nat.add_1_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.treeify_bindings" class="idref" href="#MakeRaw.treeify_bindings"><span class="id" title="lemma">treeify_bindings</span></a> <a id="l:506" class="idref" href="#l:506"><span class="id" title="binder">l</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.RBT.html#l:506"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#l:506"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">H</span> := @<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_aux_spec"><span class="id" title="lemma">treeify_aux_spec</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.plength"><span class="id" title="definition">plength</span></a> <span class="id" title="var">l</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a> <span class="id" title="var">l</span>).<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_aux"><span class="id" title="definition">treeify_aux</span></a> <span class="id" title="keyword">as</span> (<span class="id" title="var">t</span>,<span class="id" title="var">acc</span>); <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">H</span>,<span class="id" title="var">H'</span>). { <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.plength_spec"><span class="id" title="lemma">plength_spec</span></a>. }<br/>
&nbsp;<span class="id" title="tactic">subst</span> <span class="id" title="var">l</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.plength_spec"><span class="id" title="lemma">plength_spec</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#app_length"><span class="id" title="abbreviation">app_length</span></a>, &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.cardinal_spec"><span class="id" title="lemma">cardinal_spec</span></a> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;× <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
&nbsp;× <span class="id" title="var">exfalso</span>. <span class="id" title="var">revert</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_succ_r"><span class="id" title="lemma">Nat.add_succ_r</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.add_comm"><span class="id" title="lemma">Nat.add_comm</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Arith.PeanoNat.html#Nat.succ_add_discr"><span class="id" title="lemma">Nat.succ_add_discr</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.treeify_mapsto" class="idref" href="#MakeRaw.treeify_mapsto"><span class="id" title="lemma">treeify_mapsto</span></a> <a id="x:507" class="idref" href="#x:507"><span class="id" title="binder">x</span></a> <a id="v:508" class="idref" href="#v:508"><span class="id" title="binder">v</span></a> <a id="l:509" class="idref" href="#l:509"><span class="id" title="binder">l</span></a> : <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a> <a class="idref" href="MMaps.RBT.html#l:509"><span class="id" title="variable">l</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#x:507"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v:508"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:507"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v:508"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#l:509"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_bindings"><span class="id" title="lemma">treeify_bindings</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
Apart predicate on lists 
</div>
<div class="code">

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.lt_klist" class="idref" href="#MakeRaw.lt_klist"><span class="id" title="instance">lt_klist</span></a> <a id="A:510" class="idref" href="#A:510"><span class="id" title="binder">A</span></a> <a id="B:511" class="idref" href="#B:511"><span class="id" title="binder">B</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.LessThan"><span class="id" title="class">LessThan</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#A:510"><span class="id" title="variable">A</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#B:511"><span class="id" title="variable">B</span></a>)<br/>
&nbsp;&nbsp;:= <span class="id" title="keyword">fun</span> <a id="lA:512" class="idref" href="#lA:512"><span class="id" title="binder">lA</span></a> <a id="lB:513" class="idref" href="#lB:513"><span class="id" title="binder">lB</span></a> ⇒<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">∀</span> <a id="ka:514" class="idref" href="#ka:514"><span class="id" title="binder">ka</span></a> <a id="kb:515" class="idref" href="#kb:515"><span class="id" title="binder">kb</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="MMaps.RBT.html#ka:514"><span class="id" title="variable">ka</span></a> <a class="idref" href="MMaps.RBT.html#lA:512"><span class="id" title="variable">lA</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="MMaps.RBT.html#kb:515"><span class="id" title="variable">kb</span></a> <a class="idref" href="MMaps.RBT.html#lB:513"><span class="id" title="variable">lB</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#ka:514"><span class="id" title="variable">ka</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#kb:515"><span class="id" title="variable">kb</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MakeRaw.Elt.ApartList" class="idref" href="#MakeRaw.Elt.ApartList"><span class="id" title="section">ApartList</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Elt.ApartList.A" class="idref" href="#MakeRaw.Elt.ApartList.A"><span class="id" title="variable">A</span></a> <a id="MakeRaw.Elt.ApartList.B" class="idref" href="#MakeRaw.Elt.ApartList.B"><span class="id" title="variable">B</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">lA</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.ApartList.A"><span class="id" title="variable">A</span></a>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">lB</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.ApartList.B"><span class="id" title="variable">B</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ApartL_rev" class="idref" href="#MakeRaw.ApartL_rev"><span class="id" title="lemma">ApartL_rev</span></a> <a id="lA:520" class="idref" href="#lA:520"><span class="id" title="binder">lA</span></a> <a id="lB:521" class="idref" href="#lB:521"><span class="id" title="binder">lB</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#lA:520"><span class="id" title="variable">lA</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:521"><span class="id" title="variable">lB</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#lA:520"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:521"><span class="id" title="variable">lB</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> "&lt;", <a class="idref" href="MMaps.RBT.html#MakeRaw.lt_klist"><span class="id" title="instance">lt_klist</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">setoid_rewrite</span> &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_rev"><span class="id" title="lemma">in_rev</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ApartL_appl" class="idref" href="#MakeRaw.ApartL_appl"><span class="id" title="lemma">ApartL_appl</span></a> <a id="lA:522" class="idref" href="#lA:522"><span class="id" title="binder">lA</span></a> <a id="lA':523" class="idref" href="#lA':523"><span class="id" title="binder">lA'</span></a> <a id="lB:524" class="idref" href="#lB:524"><span class="id" title="binder">lB</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#lA:522"><span class="id" title="variable">lA</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="MMaps.RBT.html#lA':523"><span class="id" title="variable">lA'</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:524"><span class="id" title="variable">lB</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#lA:522"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:524"><span class="id" title="variable">lB</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#lA':523"><span class="id" title="variable">lA'</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:524"><span class="id" title="variable">lB</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> "&lt;", <a class="idref" href="MMaps.RBT.html#MakeRaw.lt_klist"><span class="id" title="instance">lt_klist</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ApartL_appr" class="idref" href="#MakeRaw.ApartL_appr"><span class="id" title="lemma">ApartL_appr</span></a> <a id="lA:525" class="idref" href="#lA:525"><span class="id" title="binder">lA</span></a> <a id="lB:526" class="idref" href="#lB:526"><span class="id" title="binder">lB</span></a> <a id="lB':527" class="idref" href="#lB':527"><span class="id" title="binder">lB'</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#lA:525"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:526"><span class="id" title="variable">lB</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="MMaps.RBT.html#lB':527"><span class="id" title="variable">lB'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#lA:525"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:526"><span class="id" title="variable">lB</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#lA:525"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB':527"><span class="id" title="variable">lB'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> "&lt;", <a class="idref" href="MMaps.RBT.html#MakeRaw.lt_klist"><span class="id" title="instance">lt_klist</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a>; <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ApartL_consl" class="idref" href="#MakeRaw.ApartL_consl"><span class="id" title="lemma">ApartL_consl</span></a> <a id="ka:528" class="idref" href="#ka:528"><span class="id" title="binder">ka</span></a> <a id="lA:529" class="idref" href="#lA:529"><span class="id" title="binder">lA</span></a> <a id="lB:530" class="idref" href="#lB:530"><span class="id" title="binder">lB</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#ka:528"><span class="id" title="variable">ka</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#lA:529"><span class="id" title="variable">lA</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:530"><span class="id" title="variable">lB</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#ka:528"><span class="id" title="variable">ka</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:530"><span class="id" title="variable">lB</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#lA:529"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:530"><span class="id" title="variable">lB</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_appl"><span class="id" title="lemma">ApartL_appl</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">ka</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ApartL_consr" class="idref" href="#MakeRaw.ApartL_consr"><span class="id" title="lemma">ApartL_consr</span></a> <a id="kb:531" class="idref" href="#kb:531"><span class="id" title="binder">kb</span></a> <a id="lA:532" class="idref" href="#lA:532"><span class="id" title="binder">lA</span></a> <a id="lB:533" class="idref" href="#lB:533"><span class="id" title="binder">lB</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#lA:532"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#kb:531"><span class="id" title="variable">kb</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#lB:533"><span class="id" title="variable">lB</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#lA:532"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#kb:531"><span class="id" title="variable">kb</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#lA:532"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lB:533"><span class="id" title="variable">lB</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_appr"><span class="id" title="lemma">ApartL_appr</span></a> <span class="id" title="var">lA</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">kb</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>).<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.ApartList"><span class="id" title="section">ApartList</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ApartL_eqk_l" class="idref" href="#MakeRaw.ApartL_eqk_l"><span class="id" title="lemma">ApartL_eqk_l</span></a> <a id="A:534" class="idref" href="#A:534"><span class="id" title="binder">A</span></a> <a id="B:535" class="idref" href="#B:535"><span class="id" title="binder">B</span></a> <a id="B':536" class="idref" href="#B':536"><span class="id" title="binder">B'</span></a> (<a id="lA:537" class="idref" href="#lA:537"><span class="id" title="binder">lA</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#A:534"><span class="id" title="variable">A</span></a>) (<a id="kb:538" class="idref" href="#kb:538"><span class="id" title="binder">kb</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.RBT.html#B:535"><span class="id" title="variable">B</span></a>) (<a id="kb':539" class="idref" href="#kb':539"><span class="id" title="binder">kb'</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.RBT.html#B':536"><span class="id" title="variable">B'</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#kb:538"><span class="id" title="variable">kb</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lA:537"><span class="id" title="variable">lA</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#kb:538"><span class="id" title="variable">kb</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#kb':539"><span class="id" title="variable">kb'</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#kb':539"><span class="id" title="variable">kb'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lA:537"><span class="id" title="variable">lA</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AP</span> <span class="id" title="var">E</span> (<span class="id" title="var">k</span>,<span class="id" title="var">b'</span>) (<span class="id" title="var">k'</span>,<span class="id" title="var">a</span>) [&lt;-|[ ]] <span class="id" title="var">Hy</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">E</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">AP</span> <span class="id" title="var">kb</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ApartL_ltk_l" class="idref" href="#MakeRaw.ApartL_ltk_l"><span class="id" title="lemma">ApartL_ltk_l</span></a> <a id="A:540" class="idref" href="#A:540"><span class="id" title="binder">A</span></a> <a id="B:541" class="idref" href="#B:541"><span class="id" title="binder">B</span></a> <a id="B':542" class="idref" href="#B':542"><span class="id" title="binder">B'</span></a> (<a id="lA:543" class="idref" href="#lA:543"><span class="id" title="binder">lA</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#A:540"><span class="id" title="variable">A</span></a>) (<a id="kb:544" class="idref" href="#kb:544"><span class="id" title="binder">kb</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.RBT.html#B:541"><span class="id" title="variable">B</span></a>) (<a id="kb':545" class="idref" href="#kb':545"><span class="id" title="binder">kb'</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.RBT.html#B':542"><span class="id" title="variable">B'</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#kb:544"><span class="id" title="variable">kb</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lA:543"><span class="id" title="variable">lA</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#kb':545"><span class="id" title="variable">kb'</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#kb:544"><span class="id" title="variable">kb</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#kb':545"><span class="id" title="variable">kb'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#lA:543"><span class="id" title="variable">lA</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AP</span> <span class="id" title="var">LT</span> (<span class="id" title="var">k</span>,<span class="id" title="var">b'</span>) (<span class="id" title="var">k'</span>,<span class="id" title="var">a</span>) [&lt;-|[ ]] <span class="id" title="var">Hy</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">LT</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">AP</span> <span class="id" title="var">kb</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ApartL_eqk_r" class="idref" href="#MakeRaw.ApartL_eqk_r"><span class="id" title="lemma">ApartL_eqk_r</span></a> <a id="A:546" class="idref" href="#A:546"><span class="id" title="binder">A</span></a> <a id="B:547" class="idref" href="#B:547"><span class="id" title="binder">B</span></a> <a id="B':548" class="idref" href="#B':548"><span class="id" title="binder">B'</span></a> (<a id="lA:549" class="idref" href="#lA:549"><span class="id" title="binder">lA</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#A:546"><span class="id" title="variable">A</span></a>) (<a id="kb:550" class="idref" href="#kb:550"><span class="id" title="binder">kb</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.RBT.html#B:547"><span class="id" title="variable">B</span></a>) (<a id="kb':551" class="idref" href="#kb':551"><span class="id" title="binder">kb'</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.RBT.html#B':548"><span class="id" title="variable">B'</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#lA:549"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#kb:550"><span class="id" title="variable">kb</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#kb:550"><span class="id" title="variable">kb</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#kb':551"><span class="id" title="variable">kb'</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#lA:549"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#kb':551"><span class="id" title="variable">kb'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AP</span> <span class="id" title="var">E</span> (<span class="id" title="var">k</span>,<span class="id" title="var">a</span>) (<span class="id" title="var">k'</span>,<span class="id" title="var">b'</span>) <span class="id" title="var">Hx</span> [&lt;-|[ ]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">E</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">AP</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">kb</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.ApartL_ltk_r" class="idref" href="#MakeRaw.ApartL_ltk_r"><span class="id" title="lemma">ApartL_ltk_r</span></a> <a id="A:552" class="idref" href="#A:552"><span class="id" title="binder">A</span></a> <a id="B:553" class="idref" href="#B:553"><span class="id" title="binder">B</span></a> <a id="B':554" class="idref" href="#B':554"><span class="id" title="binder">B'</span></a> (<a id="lA:555" class="idref" href="#lA:555"><span class="id" title="binder">lA</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#A:552"><span class="id" title="variable">A</span></a>) (<a id="kb:556" class="idref" href="#kb:556"><span class="id" title="binder">kb</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.RBT.html#B:553"><span class="id" title="variable">B</span></a>) (<a id="kb':557" class="idref" href="#kb':557"><span class="id" title="binder">kb'</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">×</span></a><a class="idref" href="MMaps.RBT.html#B':554"><span class="id" title="variable">B'</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#lA:555"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#kb:556"><span class="id" title="variable">kb</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#kb:556"><span class="id" title="variable">kb</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#kb':557"><span class="id" title="variable">kb'</span></a><a class="idref" href="MMaps.GenTree.html#6498f4b98d8d188be6bde7da0b9ffb6f"><span class="id" title="notation">#1</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#lA:555"><span class="id" title="variable">lA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#kb':557"><span class="id" title="variable">kb'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">AP</span> <span class="id" title="var">LT</span> (<span class="id" title="var">k</span>,<span class="id" title="var">a</span>) (<span class="id" title="var">k'</span>,<span class="id" title="var">b'</span>) <span class="id" title="var">Hx</span> [&lt;-|[ ]]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;-<span class="id" title="var">LT</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">AP</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">a</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <span class="id" title="var">kb</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.sort_app_key" class="idref" href="#MakeRaw.sort_app_key"><span class="id" title="lemma">sort_app_key</span></a> (<a id="l:558" class="idref" href="#l:558"><span class="id" title="binder">l</span></a> <a id="l':559" class="idref" href="#l':559"><span class="id" title="binder">l'</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="MMaps.RBT.html#l:558"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="MMaps.RBT.html#l':559"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> <a class="idref" href="MMaps.RBT.html#l:558"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> <a class="idref" href="MMaps.RBT.html#l':559"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#l:558"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#l':559"><span class="id" title="variable">l'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.Utils.html#SortA_app_iff"><span class="id" title="lemma">SortA_app_iff</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.RBT.html#MakeRaw.eqk"><span class="id" title="definition">O.eqk</span></a>)(<span class="id" title="var">ltA</span>:=<a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a>); <span class="id" title="var">ok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.sort_cons_key" class="idref" href="#MakeRaw.sort_cons_key"><span class="id" title="lemma">sort_cons_key</span></a> <a id="p:560" class="idref" href="#p:560"><span class="id" title="binder">p</span></a> (<a id="l:561" class="idref" href="#l:561"><span class="id" title="binder">l</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="MMaps.RBT.html#p:560"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#l:561"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> <a class="idref" href="MMaps.RBT.html#l:561"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="MMaps.RBT.html#p:560"><span class="id" title="variable">p</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#l:561"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.sort_app_key"><span class="id" title="lemma">sort_app_key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><span class="id" title="var">p</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <span class="id" title="var">l</span>). <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.bindings_above" class="idref" href="#MakeRaw.bindings_above"><span class="id" title="lemma">bindings_above</span></a> <a id="x:562" class="idref" href="#x:562"><span class="id" title="binder">x</span></a> (<a id="e:563" class="idref" href="#e:563"><span class="id" title="binder">e</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) (<a id="m:564" class="idref" href="#m:564"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#m:564"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#x:562"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:564"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:562"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#e:563"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> <span class="id" title="var">Hp</span> [&lt;-|[ ]]. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">p</span><a class="idref" href="MMaps.GenTree.html#030f3fafcfea0e4883e66553a16aff42"><span class="id" title="notation">#2</span></a>). <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#In_InA"><span class="id" title="lemma">In_InA</span></a>; <span class="id" title="var">ok</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">p</span>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span> (<span class="id" title="var">v</span>,<span class="id" title="var">M</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">M</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p</span> &amp; <span class="id" title="var">E</span> &amp; <span class="id" title="var">IN</span>). <span class="id" title="var">redk</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> (-&gt;,-&gt;).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <span class="id" title="var">_</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.bindings_below" class="idref" href="#MakeRaw.bindings_below"><span class="id" title="lemma">bindings_below</span></a> <a id="x:565" class="idref" href="#x:565"><span class="id" title="binder">x</span></a> (<a id="e:566" class="idref" href="#e:566"><span class="id" title="binder">e</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) (<a id="m:567" class="idref" href="#m:567"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#x:565"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#m:567"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:565"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#e:566"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:567"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">split</span>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">p</span> <span class="id" title="var">q</span> [&lt;-|[ ]] <span class="id" title="var">Hq</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">apply</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> (<span class="id" title="var">q</span><a class="idref" href="MMaps.GenTree.html#030f3fafcfea0e4883e66553a16aff42"><span class="id" title="notation">#2</span></a>). <span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#In_InA"><span class="id" title="lemma">In_InA</span></a>; <span class="id" title="var">ok</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">q</span>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">H</span> <span class="id" title="var">y</span> (<span class="id" title="var">v</span>,<span class="id" title="var">M</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">M</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">M</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">p</span> &amp; <span class="id" title="var">E</span> &amp; <span class="id" title="var">IN</span>). <span class="id" title="var">redk</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">E</span> <span class="id" title="keyword">as</span> (-&gt;,-&gt;).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">H</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.bindings_sort" class="idref" href="#MakeRaw.bindings_sort"><span class="id" title="lemma">bindings_sort</span></a> (<a id="m:568" class="idref" href="#m:568"><span class="id" title="binder">m</span></a>:<a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:568"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> <a class="idref" href="MMaps.RBT.html#m:568"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec2"><span class="id" title="lemma">bindings_spec2</span></a>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">IHl</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">r</span> <span class="id" title="var">IHr</span>].<br/>
&nbsp;- <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">constructor</span>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_node"><span class="id" title="lemma">bindings_node</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.sort_app_key"><span class="id" title="lemma">sort_app_key</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.sort_cons_key"><span class="id" title="lemma">sort_cons_key</span></a>, (@<a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_consr"><span class="id" title="lemma">ApartL_consr</span></a> <span class="id" title="var">_</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a>). <span class="comment">(*&nbsp;TODO&nbsp;*)</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_above"><span class="id" title="lemma">bindings_above</span></a>, &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_below"><span class="id" title="lemma">bindings_below</span></a>. <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">auto</span>; <span class="id" title="var">ok</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.treeify_ok" class="idref" href="#MakeRaw.treeify_ok"><span class="id" title="instance">treeify_ok</span></a> <a id="l:569" class="idref" href="#l:569"><span class="id" title="binder">l</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> <a class="idref" href="MMaps.RBT.html#l:569"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="MMaps.RBT.html#l:569"><span class="id" title="variable">l</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_sort"><span class="id" title="lemma">bindings_sort</span></a>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_bindings"><span class="id" title="lemma">treeify_bindings</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Elt"><span class="id" title="section">Elt</span></a>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.oelse" class="idref" href="#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a> {<a id="A:570" class="idref" href="#A:570"><span class="id" title="binder">A</span></a>} (<a id="o:571" class="idref" href="#o:571"><span class="id" title="binder">o</span></a> <a id="o':572" class="idref" href="#o':572"><span class="id" title="binder">o'</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#A:570"><span class="id" title="variable">A</span></a>) :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#o:571"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#o':572"><span class="id" title="variable">o'</span></a><br/>
&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#o:571"><span class="id" title="variable">o</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.obind" class="idref" href="#MakeRaw.obind"><span class="id" title="definition">obind</span></a> {<a id="A:574" class="idref" href="#A:574"><span class="id" title="binder">A</span></a> <a id="B:575" class="idref" href="#B:575"><span class="id" title="binder">B</span></a>} (<a id="o:576" class="idref" href="#o:576"><span class="id" title="binder">o</span></a>:<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#A:574"><span class="id" title="variable">A</span></a>) (<a id="f:577" class="idref" href="#f:577"><span class="id" title="binder">f</span></a>:<a class="idref" href="MMaps.RBT.html#A:574"><span class="id" title="variable">A</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#B:575"><span class="id" title="variable">B</span></a>) :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#o:576"><span class="id" title="variable">o</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">a</span> ⇒ <a class="idref" href="MMaps.RBT.html#f:577"><span class="id" title="variable">f</span></a> <span class="id" title="var">a</span> | <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <span class="id" title="keyword">end</span>.<br/>

<br/>
</div>

<div class="doc">
<span class="inlinecode"><a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a></span> : List assoc based on <span class="inlinecode"><span class="id" title="var">K.compare</span></span> 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.findL" class="idref" href="#MakeRaw.findL"><span class="id" title="definition">findL</span></a> {<a id="elt:579" class="idref" href="#elt:579"><span class="id" title="binder">elt</span></a>} <a id="x:580" class="idref" href="#x:580"><span class="id" title="binder">x</span></a> (<a id="l:581" class="idref" href="#l:581"><span class="id" title="binder">l</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#elt:579"><span class="id" title="variable">elt</span></a>) :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#l:581"><span class="id" title="variable">l</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ae9a5e1034e143b218b09d8e454472bd"><span class="id" title="notation">[]</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a> <span class="id" title="var">l</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#K.compare"><span class="id" title="axiom">K.compare</span></a> <a class="idref" href="MMaps.RBT.html#x:580"><span class="id" title="variable">x</span></a> <span class="id" title="var">y</span> <span class="id" title="keyword">with</span><br/>
&nbsp;&nbsp;&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <span class="id" title="var">v</span><br/>
&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span> ⇒ <a class="idref" href="MMaps.RBT.html#findL:582"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:580"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#l:581"><span class="id" title="variable">l</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">end</span><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.findL_app" class="idref" href="#MakeRaw.findL_app"><span class="id" title="lemma">findL_app</span></a> {<a id="elt:584" class="idref" href="#elt:584"><span class="id" title="binder">elt</span></a>} <a id="x:585" class="idref" href="#x:585"><span class="id" title="binder">x</span></a> (<a id="l:586" class="idref" href="#l:586"><span class="id" title="binder">l</span></a> <a id="l':587" class="idref" href="#l':587"><span class="id" title="binder">l'</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#elt:584"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:585"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#l:586"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="MMaps.RBT.html#l':587"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:585"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#l:586"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:585"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#l':587"><span class="id" title="variable">l'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">y</span>,<span class="id" title="var">v</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>. <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.findL_inA" class="idref" href="#MakeRaw.findL_inA"><span class="id" title="lemma">findL_inA</span></a> {<a id="elt:588" class="idref" href="#elt:588"><span class="id" title="binder">elt</span></a>} <a id="x:589" class="idref" href="#x:589"><span class="id" title="binder">x</span></a> <a id="e:590" class="idref" href="#e:590"><span class="id" title="binder">e</span></a> (<a id="l:591" class="idref" href="#l:591"><span class="id" title="binder">l</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#elt:588"><span class="id" title="variable">elt</span></a>) :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:589"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#l:591"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#e:590"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:589"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#e:590"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#l:591"><span class="id" title="variable">l</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">k</span>,<span class="id" title="var">v</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="tactic">intro</span> <span class="id" title="var">E</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">intros</span> [= -&gt;]; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.findL_inA_iff" class="idref" href="#MakeRaw.findL_inA_iff"><span class="id" title="lemma">findL_inA_iff</span></a> {<a id="elt:592" class="idref" href="#elt:592"><span class="id" title="binder">elt</span></a>} <a id="x:593" class="idref" href="#x:593"><span class="id" title="binder">x</span></a> <a id="e:594" class="idref" href="#e:594"><span class="id" title="binder">e</span></a> (<a id="l:595" class="idref" href="#l:595"><span class="id" title="binder">l</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.klist"><span class="id" title="definition">klist</span></a> <a class="idref" href="MMaps.RBT.html#elt:592"><span class="id" title="variable">elt</span></a>) : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> <a class="idref" href="MMaps.RBT.html#l:595"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:593"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#l:595"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#e:594"><span class="id" title="variable">e</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:593"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#e:594"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#l:595"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Sl</span>. <span class="id" title="tactic">split</span>; [<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_inA"><span class="id" title="lemma">findL_inA</span></a>| ]. <span class="id" title="var">revert</span> <span class="id" title="var">Sl</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">k</span>,<span class="id" title="var">v</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">easy</span>.<br/>
&nbsp;<span class="id" title="tactic">inversion_clear</span> 1. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>. <span class="id" title="var">redk</span>. <span class="id" title="tactic">intros</span> [(<span class="id" title="var">E</span>,-&gt;)|<span class="id" title="var">IN</span>].<br/>
&nbsp;- <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span> || <span class="id" title="var">order</span>.<br/>
&nbsp;- <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">LT</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">by</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#SortA_InfA_InA"><span class="id" title="lemma">SortA_InfA_InA</span></a> <span class="id" title="keyword">with</span> (<span class="id" title="var">eqA</span>:=<a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a>); <span class="id" title="var">ok</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">LT</span>. <span class="id" title="var">order</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.findL_find" class="idref" href="#MakeRaw.findL_find"><span class="id" title="lemma">findL_find</span></a> {<a id="elt:596" class="idref" href="#elt:596"><span class="id" title="binder">elt</span></a>} <a id="x:597" class="idref" href="#x:597"><span class="id" title="binder">x</span></a> (<a id="m:598" class="idref" href="#m:598"><span class="id" title="binder">m</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.t"><span class="id" title="definition">t</span></a> <a class="idref" href="MMaps.RBT.html#elt:596"><span class="id" title="variable">elt</span></a>) `{<a id="Ok0:599" class="idref" href="#Ok0:599"><span class="id" title="binder">!</span></a><a id="Ok0:599" class="idref" href="#Ok0:599"><span class="id" title="binder">Ok</span></a> <a id="Ok0:599" class="idref" href="#Ok0:599"><span class="id" title="binder">m</span></a>} :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:597"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:598"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:597"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:598"><span class="id" title="variable">m</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.eq_option_alt"><span class="id" title="lemma">eq_option_alt</span></a>. <span class="id" title="tactic">intro</span> <span class="id" title="var">e</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_inA_iff"><span class="id" title="lemma">findL_inA_iff</span></a> <span class="id" title="tactic">by</span> <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec2"><span class="id" title="lemma">bindings_spec2</span></a>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.find_spec"><span class="id" title="lemma">find_spec</span></a> <span class="id" title="tactic">by</span> <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MakeRaw.Mapo" class="idref" href="#MakeRaw.Mapo"><span class="id" title="section">Mapo</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Mapo.elt" class="idref" href="#MakeRaw.Mapo.elt"><span class="id" title="variable">elt</span></a> <a id="MakeRaw.Mapo.elt'" class="idref" href="#MakeRaw.Mapo.elt'"><span class="id" title="variable">elt'</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Mapo.f" class="idref" href="#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.elt'"><span class="id" title="variable">elt'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mapoL_sorted" class="idref" href="#MakeRaw.mapoL_sorted"><span class="id" title="lemma">mapoL_sorted</span></a> <a id="l:606" class="idref" href="#l:606"><span class="id" title="binder">l</span></a> <a id="acc:607" class="idref" href="#acc:607"><span class="id" title="binder">acc</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#l:606"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> <a class="idref" href="MMaps.RBT.html#acc:607"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#l:606"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#acc:607"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL"><span class="id" title="definition">mapoL</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#l:606"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#acc:607"><span class="id" title="variable">acc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">k</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">Sl</span> <span class="id" title="var">Sacc</span> <span class="id" title="var">AP</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.sort_app_key"><span class="id" title="lemma">sort_app_key</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Sl</span>; <span class="id" title="var">ok</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Sl</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Sl</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">AP'</span>).<br/>
&nbsp;<span class="id" title="tactic">apply</span> → <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_rev"><span class="id" title="lemma">ApartL_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">AP'</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> → <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_consl"><span class="id" title="lemma">ApartL_consl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">AP</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">AP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">AP1</span>,<span class="id" title="var">AP</span>).<br/>
&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.sort_cons_key"><span class="id" title="lemma">sort_cons_key</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_eqk_l"><span class="id" title="lemma">ApartL_eqk_l</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
&nbsp;- <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_consr"><span class="id" title="lemma">ApartL_consr</span></a>. <span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_eqk_r"><span class="id" title="lemma">ApartL_eqk_r</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.mapo_ok" class="idref" href="#MakeRaw.mapo_ok"><span class="id" title="instance">mapo_ok</span></a> <a id="m:608" class="idref" href="#m:608"><span class="id" title="binder">m</span></a> `{<a id="Ok0:609" class="idref" href="#Ok0:609"><span class="id" title="binder">!</span></a><a id="Ok0:609" class="idref" href="#Ok0:609"><span class="id" title="binder">Ok</span></a> <a id="Ok0:609" class="idref" href="#Ok0:609"><span class="id" title="binder">m</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mapo"><span class="id" title="definition">mapo</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:608"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapo"><span class="id" title="definition">mapo</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_ok"><span class="id" title="instance">treeify_ok</span></a>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL_sorted"><span class="id" title="lemma">mapoL_sorted</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec2"><span class="id" title="lemma">bindings_spec2</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">inversion</span> 2.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mapoL_find" class="idref" href="#MakeRaw.mapoL_find"><span class="id" title="lemma">mapoL_find</span></a> <a id="l:610" class="idref" href="#l:610"><span class="id" title="binder">l</span></a> <a id="acc:611" class="idref" href="#acc:611"><span class="id" title="binder">acc</span></a> <a id="x:612" class="idref" href="#x:612"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#l:610"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:613" class="idref" href="#y:613"><span class="id" title="binder">y</span></a> : <a class="idref" href="MMaps.RBT.html#K.t"><span class="id" title="axiom">K.t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#y:613"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:612"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:612"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL"><span class="id" title="definition">mapoL</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#l:610"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#acc:611"><span class="id" title="variable">acc</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.obind"><span class="id" title="definition">obind</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:612"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#l:610"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y:613"><span class="id" title="variable">y</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:612"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#acc:611"><span class="id" title="variable">acc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">k</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">Sl</span>.<br/>
&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">∃</span> <span class="id" title="var">x</span>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.sort_app_key"><span class="id" title="lemma">sort_app_key</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Sl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Sl</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Sl</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">AP</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> → <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_rev"><span class="id" title="lemma">ApartL_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">AP</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">IH</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <span class="id" title="var">k</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span>) <span class="id" title="var">acc</span>) <span class="id" title="var">Sl</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hy</span> &amp; <span class="id" title="var">E</span>). <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_app"><span class="id" title="lemma">findL_app</span></a>. <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">E</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">x</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <span class="id" title="var">l</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">El</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a>; <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_inA"><span class="id" title="lemma">findL_inA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">El</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">El</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">El</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">El</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">x'</span>,<span class="id" title="var">e'</span>) &amp; (<span class="id" title="var">Hx'</span>,<span class="id" title="var">_</span>) &amp; <span class="id" title="var">IN</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">x'</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">k</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">order</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">AP</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">l</span> <span class="id" title="var">Sl</span> <span class="id" title="var">AP</span> <span class="id" title="var">El</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Fk</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">intros</span>; <span class="id" title="tactic">firstorder</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Fk</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mapoL_mapsto" class="idref" href="#MakeRaw.mapoL_mapsto"><span class="id" title="lemma">mapoL_mapsto</span></a> <a id="l:614" class="idref" href="#l:614"><span class="id" title="binder">l</span></a> <a id="acc:615" class="idref" href="#acc:615"><span class="id" title="binder">acc</span></a> <a id="x:616" class="idref" href="#x:616"><span class="id" title="binder">x</span></a> <a id="v':617" class="idref" href="#v':617"><span class="id" title="binder">v'</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:616"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v':617"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL"><span class="id" title="definition">mapoL</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#l:614"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#acc:615"><span class="id" title="variable">acc</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:618" class="idref" href="#y:618"><span class="id" title="binder">y</span></a> <a id="v:619" class="idref" href="#v:619"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#y:618"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:616"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#In"><span class="id" title="definition">List.In</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y:618"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v:619"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#l:614"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y:618"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#v:619"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v':617"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:616"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v':617"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#acc:615"><span class="id" title="variable">acc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">k</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span> <span class="id" title="var">IH</span>]; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">intros</span>.<br/>
&nbsp;- <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;- <span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <span class="id" title="var">e</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Hf</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IH</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">firstorder</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">red</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H0</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">subst</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">k</span>, <span class="id" title="var">e</span>; <span class="id" title="var">autom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">injection</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> &lt;- &lt;-. <span class="id" title="tactic">right</span>; <span class="id" title="tactic">left</span>. <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">split</span>; <span class="id" title="var">autom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">congruence</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">firstorder</span>. <span class="id" title="tactic">injection</span> <span class="id" title="var">H0</span> <span class="id" title="keyword">as</span> &lt;- &lt;-. <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mapo_mapsto" class="idref" href="#MakeRaw.mapo_mapsto"><span class="id" title="lemma">mapo_mapsto</span></a> <a id="m:620" class="idref" href="#m:620"><span class="id" title="binder">m</span></a> <a id="x:621" class="idref" href="#x:621"><span class="id" title="binder">x</span></a> <a id="v':622" class="idref" href="#v':622"><span class="id" title="binder">v'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.mapo"><span class="id" title="definition">mapo</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:620"><span class="id" title="variable">m</span></a><a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">)@</span></a><a class="idref" href="MMaps.RBT.html#x:621"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v':622"><span class="id" title="variable">v'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:623" class="idref" href="#y:623"><span class="id" title="binder">y</span></a> <a id="v:624" class="idref" href="#v:624"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#y:623"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:621"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#m:620"><span class="id" title="variable">m@x</span></a> <a class="idref" href="MMaps.RBT.html#a97644d07168db193388b19cd1aad3cc"><span class="id" title="notation">↦</span></a> <a class="idref" href="MMaps.RBT.html#v:624"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y:623"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#v:624"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v':622"><span class="id" title="variable">v'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapo"><span class="id" title="definition">mapo</span></a>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_mapsto"><span class="id" title="lemma">treeify_mapsto</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL_mapsto"><span class="id" title="lemma">mapoL_mapsto</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_nil"><span class="id" title="lemma">InA_nil</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> [(<span class="id" title="var">y</span> &amp; <span class="id" title="var">v</span> &amp; <span class="id" title="var">E</span> &amp; <span class="id" title="var">IN</span> &amp; <span class="id" title="var">Hf</span>)|[ ]].<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, &lt;-<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#In_rev"><span class="id" title="abbreviation">In_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">IN</span>.<br/>
&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>, <span class="id" title="var">v</span>. <span class="id" title="tactic">repeat</span> <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>. <span class="id" title="tactic">split</span>; <span class="id" title="var">autom</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mapo_find" class="idref" href="#MakeRaw.mapo_find"><span class="id" title="lemma">mapo_find</span></a> <a id="m:625" class="idref" href="#m:625"><span class="id" title="binder">m</span></a> <a id="x:626" class="idref" href="#x:626"><span class="id" title="binder">x</span></a> `{<a id="Ok0:627" class="idref" href="#Ok0:627"><span class="id" title="binder">!</span></a><a id="Ok0:627" class="idref" href="#Ok0:627"><span class="id" title="binder">Ok</span></a> <a id="Ok0:627" class="idref" href="#Ok0:627"><span class="id" title="binder">m</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:628" class="idref" href="#y:628"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#y:628"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:626"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:626"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mapo"><span class="id" title="definition">mapo</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:625"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.obind"><span class="id" title="definition">obind</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:626"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:625"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y:628"><span class="id" title="variable">y</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mapo"><span class="id" title="definition">mapo</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo.f"><span class="id" title="variable">f</span></a> <span class="id" title="var">m</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">ok</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL_find"><span class="id" title="lemma">mapoL_find</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings"><span class="id" title="definition">rev_bindings</span></a> <span class="id" title="var">m</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hy</span> &amp; <span class="id" title="var">EQ</span>).<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec2"><span class="id" title="lemma">bindings_spec2</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapo"><span class="id" title="definition">mapo</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.RBT.html#MakeRaw.findL_find"><span class="id" title="lemma">findL_find</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_bindings"><span class="id" title="lemma">treeify_bindings</span></a>, <span class="id" title="var">EQ</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.obind"><span class="id" title="definition">obind</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Mapo"><span class="id" title="section">Mapo</span></a>.<br/>

<br/>
<span class="id" title="keyword">Section</span> <a id="MakeRaw.Merge" class="idref" href="#MakeRaw.Merge"><span class="id" title="section">Merge</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Merge.elt" class="idref" href="#MakeRaw.Merge.elt"><span class="id" title="variable">elt</span></a> <a id="MakeRaw.Merge.elt'" class="idref" href="#MakeRaw.Merge.elt'"><span class="id" title="variable">elt'</span></a> <a id="MakeRaw.Merge.elt''" class="idref" href="#MakeRaw.Merge.elt''"><span class="id" title="variable">elt''</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Type</span> <span class="id" title="var">f</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt'"><span class="id" title="variable">elt'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#option"><span class="id" title="inductive">option</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge.elt''"><span class="id" title="variable">elt''</span></a>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mergeL_eqn" class="idref" href="#MakeRaw.mergeL_eqn"><span class="id" title="lemma">mergeL_eqn</span></a> <a id="f:635" class="idref" href="#f:635"><span class="id" title="binder">f</span></a> <a id="l:636" class="idref" href="#l:636"><span class="id" title="binder">l</span></a> <a id="l':637" class="idref" href="#l':637"><span class="id" title="binder">l'</span></a> <a id="acc:638" class="idref" href="#acc:638"><span class="id" title="binder">acc</span></a> <a id="k:639" class="idref" href="#k:639"><span class="id" title="binder">k</span></a> <a id="k':640" class="idref" href="#k':640"><span class="id" title="binder">k'</span></a> <a id="v:641" class="idref" href="#v:641"><span class="id" title="binder">v</span></a> <a id="v':642" class="idref" href="#v':642"><span class="id" title="binder">v'</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL"><span class="id" title="definition">mergeL</span></a> <a class="idref" href="MMaps.RBT.html#f:635"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#k:639"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v:641"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#l:636"><span class="id" title="variable">l</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#k':640"><span class="id" title="variable">k'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v':642"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#l':637"><span class="id" title="variable">l'</span></a>) <a class="idref" href="MMaps.RBT.html#acc:638"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#K.compare"><span class="id" title="axiom">K.compare</span></a> <a class="idref" href="MMaps.RBT.html#k:639"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#k':640"><span class="id" title="variable">k'</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Eq"><span class="id" title="constructor">Eq</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL"><span class="id" title="definition">mergeL</span></a> <a class="idref" href="MMaps.RBT.html#f:635"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#l:636"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#l':637"><span class="id" title="variable">l'</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <a class="idref" href="MMaps.RBT.html#k:639"><span class="id" title="variable">k</span></a> (<a class="idref" href="MMaps.RBT.html#f:635"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:639"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v:641"><span class="id" title="variable">v</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v':642"><span class="id" title="variable">v'</span></a>)) <a class="idref" href="MMaps.RBT.html#acc:638"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Lt"><span class="id" title="constructor">Lt</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL"><span class="id" title="definition">mergeL</span></a> <a class="idref" href="MMaps.RBT.html#f:635"><span class="id" title="variable">f</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#k:639"><span class="id" title="variable">k</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v:641"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#l:636"><span class="id" title="variable">l</span></a>) <a class="idref" href="MMaps.RBT.html#l':637"><span class="id" title="variable">l'</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <a class="idref" href="MMaps.RBT.html#k':640"><span class="id" title="variable">k'</span></a> (<a class="idref" href="MMaps.RBT.html#f:635"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k':640"><span class="id" title="variable">k'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v':642"><span class="id" title="variable">v'</span></a>)) <a class="idref" href="MMaps.RBT.html#acc:638"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;| <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Gt"><span class="id" title="constructor">Gt</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL"><span class="id" title="definition">mergeL</span></a> <a class="idref" href="MMaps.RBT.html#f:635"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#l:636"><span class="id" title="variable">l</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#k':640"><span class="id" title="variable">k'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v':642"><span class="id" title="variable">v'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#l':637"><span class="id" title="variable">l'</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <a class="idref" href="MMaps.RBT.html#k:639"><span class="id" title="variable">k</span></a> (<a class="idref" href="MMaps.RBT.html#f:635"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:639"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v:641"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="MMaps.RBT.html#acc:638"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">reflexivity</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mergeL_sorted" class="idref" href="#MakeRaw.mergeL_sorted"><span class="id" title="lemma">mergeL_sorted</span></a> <a id="f:643" class="idref" href="#f:643"><span class="id" title="binder">f</span></a> <a id="l:644" class="idref" href="#l:644"><span class="id" title="binder">l</span></a> <a id="l':645" class="idref" href="#l':645"><span class="id" title="binder">l'</span></a> <a id="acc:646" class="idref" href="#acc:646"><span class="id" title="binder">acc</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#l:644"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#l':645"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> <a class="idref" href="MMaps.RBT.html#acc:646"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#l:644"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#acc:646"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#l':645"><span class="id" title="variable">l'</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#acc:646"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL"><span class="id" title="definition">mergeL</span></a> <a class="idref" href="MMaps.RBT.html#f:643"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#l:644"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#l':645"><span class="id" title="variable">l'</span></a> <a class="idref" href="MMaps.RBT.html#acc:646"><span class="id" title="variable">acc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l'</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">x</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span> <span class="id" title="var">IHl</span>].<br/>
&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL_sorted"><span class="id" title="lemma">mapoL_sorted</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">x'</span>,<span class="id" title="var">e'</span>) <span class="id" title="var">l'</span> <span class="id" title="var">IHl'</span>].<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL_sorted"><span class="id" title="lemma">mapoL_sorted</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">Sl</span> <span class="id" title="var">Sl'</span> <span class="id" title="var">Sacc</span> <span class="id" title="var">AP</span> <span class="id" title="var">AP'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Sl</span>, <span class="id" title="var">Sl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Sl0</span> := <span class="id" title="var">Sl</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">Sl0'</span> := <span class="id" title="var">Sl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">AP0</span> := <span class="id" title="var">AP</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">AP0'</span> := <span class="id" title="var">AP'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.sort_app_key"><span class="id" title="lemma">sort_app_key</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Sl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Sl</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Sl</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">APl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.sort_app_key"><span class="id" title="lemma">sort_app_key</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Sl'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">Sl'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Sl'</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">APl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> → <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_rev"><span class="id" title="lemma">ApartL_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">APl</span>. <span class="id" title="tactic">apply</span> → <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_rev"><span class="id" title="lemma">ApartL_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">APl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> → <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_consl"><span class="id" title="lemma">ApartL_consl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">AP</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">AP</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">AP1</span>,<span class="id" title="var">AP</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> → <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_consl"><span class="id" title="lemma">ApartL_consl</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">AP'</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">AP'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">AP1'</span>,<span class="id" title="var">AP'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL_eqn"><span class="id" title="lemma">mergeL_eqn</span></a>; <span class="id" title="var">destmatch</span>; [<span class="id" title="tactic">intro</span> <span class="id" title="var">EQ</span>|<span class="id" title="tactic">intro</span> <span class="id" title="var">LT</span>|<span class="id" title="tactic">intro</span> <span class="id" title="var">LT</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl'</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHl</span> <span class="id" title="var">IHl'</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.sort_cons_key"><span class="id" title="lemma">sort_cons_key</span></a>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_consr"><span class="id" title="lemma">ApartL_consr</span></a>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_consl"><span class="id" title="lemma">ApartL_consl</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">eauto</span> <span class="id" title="keyword">using</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_eqk_l"><span class="id" title="lemma">ApartL_eqk_l</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_eqk_r"><span class="id" title="lemma">ApartL_eqk_r</span></a> <span class="id" title="keyword">with</span> <span class="id" title="var">map</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_consl"><span class="id" title="lemma">ApartL_consl</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">try</span> (<span class="id" title="tactic">eapply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.ApartL_ltk_r"><span class="id" title="lemma">ApartL_ltk_r</span></a>; <span class="id" title="var">eautom</span>; <span class="id" title="tactic">fail</span>);<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">intros</span> (?,?) (?,?); <span class="id" title="tactic">compute</span>; <span class="id" title="tactic">intuition</span> <span class="id" title="tactic">congruence</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.merge_ok" class="idref" href="#MakeRaw.merge_ok"><span class="id" title="instance">merge_ok</span></a> <a id="f:647" class="idref" href="#f:647"><span class="id" title="binder">f</span></a> <a id="m:648" class="idref" href="#m:648"><span class="id" title="binder">m</span></a> <a id="m':649" class="idref" href="#m':649"><span class="id" title="binder">m'</span></a> `{<a id="Ok0:650" class="idref" href="#Ok0:650"><span class="id" title="binder">!</span></a><a id="Ok0:650" class="idref" href="#Ok0:650"><span class="id" title="binder">Ok</span></a> <a id="Ok0:650" class="idref" href="#Ok0:650"><span class="id" title="binder">m</span></a>, <a id="Ok1:651" class="idref" href="#Ok1:651"><span class="id" title="binder">!</span></a><a id="Ok1:651" class="idref" href="#Ok1:651"><span class="id" title="binder">Ok</span></a> <a id="Ok1:651" class="idref" href="#Ok1:651"><span class="id" title="binder">m'</span></a>} : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="MMaps.RBT.html#f:647"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:648"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#m':649"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_ok"><span class="id" title="instance">treeify_ok</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL_sorted"><span class="id" title="lemma">mergeL_sorted</span></a>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> ?<a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, ?<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>;<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_sort"><span class="id" title="lemma">bindings_sort</span></a> || <span class="id" title="tactic">firstorder</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mergeL_in" class="idref" href="#MakeRaw.mergeL_in"><span class="id" title="lemma">mergeL_in</span></a> <a id="f:652" class="idref" href="#f:652"><span class="id" title="binder">f</span></a> <a id="l:653" class="idref" href="#l:653"><span class="id" title="binder">l</span></a> <a id="l':654" class="idref" href="#l':654"><span class="id" title="binder">l'</span></a> <a id="acc:655" class="idref" href="#acc:655"><span class="id" title="binder">acc</span></a> <a id="x:656" class="idref" href="#x:656"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="v:657" class="idref" href="#v:657"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:656"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v:657"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL"><span class="id" title="definition">mergeL</span></a> <a class="idref" href="MMaps.RBT.html#f:652"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#l:653"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#l':654"><span class="id" title="variable">l'</span></a> <a class="idref" href="MMaps.RBT.html#acc:655"><span class="id" title="variable">acc</span></a>)<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="v:658" class="idref" href="#v:658"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:656"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v:658"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#l:653"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="v:659" class="idref" href="#v:659"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:656"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v:659"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#l':654"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">(</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="v:660" class="idref" href="#v:660"><span class="id" title="binder">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA"><span class="id" title="inductive">InA</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqke"><span class="id" title="definition">O.eqke</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:656"><span class="id" title="variable">x</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#v:660"><span class="id" title="variable">v</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="MMaps.RBT.html#acc:655"><span class="id" title="variable">acc</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l'</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">y</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span> <span class="id" title="var">IHl</span>].<br/>
&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span> <span class="id" title="var">acc</span> (<span class="id" title="var">v</span>,<span class="id" title="var">H</span>). <span class="id" title="tactic">right</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL_mapsto"><span class="id" title="lemma">mapoL_mapsto</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">y</span> &amp; <span class="id" title="var">v'</span> &amp; <span class="id" title="var">E</span> &amp; <span class="id" title="var">IN</span> &amp; <span class="id" title="var">_</span>)|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">left</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>. <span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="tactic">split</span>; <span class="id" title="var">autom</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">y'</span>,<span class="id" title="var">e'</span>) <span class="id" title="var">l'</span> <span class="id" title="var">IHl'</span>]; <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> (<span class="id" title="var">v</span>,<span class="id" title="var">H</span>). <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL_mapsto"><span class="id" title="lemma">mapoL_mapsto</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">y'</span> &amp; <span class="id" title="var">v'</span> &amp; <span class="id" title="var">E</span> &amp; [[= &lt;- &lt;-]|<span class="id" title="var">IN</span>] &amp; <span class="id" title="var">_</span>)|<span class="id" title="var">H</span>].<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>; <span class="id" title="var">eautom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">v'</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>. <span class="id" title="tactic">right</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>; <span class="id" title="var">autom</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">firstorder</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL_eqn"><span class="id" title="lemma">mergeL_eqn</span></a>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destmatch</span>; [<span class="id" title="tactic">intros</span> <span class="id" title="var">EQ</span> <span class="id" title="var">H</span>| <span class="id" title="tactic">intros</span> <span class="id" title="var">LT</span> <span class="id" title="var">H</span>|<span class="id" title="tactic">intros</span> <span class="id" title="var">LT</span> <span class="id" title="var">H</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> <span class="id" title="var">IHl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span> || <span class="id" title="tactic">apply</span> <span class="id" title="var">IHl'</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">IHl</span> <span class="id" title="var">IHl'</span>; <span class="id" title="tactic">firstorder</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a>; <span class="id" title="tactic">firstorder</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>; <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> *; <span class="id" title="tactic">firstorder</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_cons"><span class="id" title="lemma">InA_cons</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>; <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">H</span>,<span class="id" title="var">_</span>)|<span class="id" title="var">H</span>]; <span class="id" title="tactic">firstorder</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">right</span>;<span class="id" title="tactic">left</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e'</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">left</span>; <span class="id" title="tactic">∃</span> <span class="id" title="var">e</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">left</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.merge_spec2'" class="idref" href="#MakeRaw.merge_spec2'"><span class="id" title="lemma">merge_spec2'</span></a> <a id="f:661" class="idref" href="#f:661"><span class="id" title="binder">f</span></a> <a id="m:662" class="idref" href="#m:662"><span class="id" title="binder">m</span></a> <a id="m':663" class="idref" href="#m':663"><span class="id" title="binder">m'</span></a> <a id="x:664" class="idref" href="#x:664"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#x:664"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="MMaps.RBT.html#f:661"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:662"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#m':663"><span class="id" title="variable">m'</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#x:664"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m:662"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#x:664"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m':663"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a>, "∈".<br/>
&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_mapsto"><span class="id" title="lemma">treeify_mapsto</span></a>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL_in"><span class="id" title="lemma">mergeL_in</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [(<span class="id" title="var">v</span>,<span class="id" title="var">H</span>)|[(<span class="id" title="var">v</span>,<span class="id" title="var">H</span>)|(<span class="id" title="var">v</span>,<span class="id" title="var">H</span>)]].<br/>
&nbsp;- <span class="id" title="tactic">left</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">right</span>. <span class="id" title="tactic">∃</span> <span class="id" title="var">v</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_rev"><span class="id" title="lemma">InA_rev</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>.<br/>
&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_nil"><span class="id" title="lemma">InA_nil</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.merge_spec2" class="idref" href="#MakeRaw.merge_spec2"><span class="id" title="lemma">merge_spec2</span></a> <a id="f:665" class="idref" href="#f:665"><span class="id" title="binder">f</span></a> <a id="m:666" class="idref" href="#m:666"><span class="id" title="binder">m</span></a> <a id="m':667" class="idref" href="#m':667"><span class="id" title="binder">m'</span></a> <a id="x:668" class="idref" href="#x:668"><span class="id" title="binder">x</span></a> `{<a id="Ok0:669" class="idref" href="#Ok0:669"><span class="id" title="binder">!</span></a><a id="Ok0:669" class="idref" href="#Ok0:669"><span class="id" title="binder">Ok</span></a> <a id="Ok0:669" class="idref" href="#Ok0:669"><span class="id" title="binder">m</span></a>, <a id="Ok1:670" class="idref" href="#Ok1:670"><span class="id" title="binder">!</span></a><a id="Ok1:670" class="idref" href="#Ok1:670"><span class="id" title="binder">Ok</span></a> <a id="Ok1:670" class="idref" href="#Ok1:670"><span class="id" title="binder">m'</span></a>} :<br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#x:668"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="MMaps.RBT.html#f:665"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:666"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#m':667"><span class="id" title="variable">m'</span></a><a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#x:668"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m:666"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#x:668"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m':667"><span class="id" title="variable">m'</span></a>.<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.merge_spec2'"><span class="id" title="lemma">merge_spec2'</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Ltac</span> <span class="id" title="var">breako</span> :=<br/>
&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">order</span>;<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a>; <span class="id" title="var">destmatch</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>;<br/>
&nbsp;&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="var">order</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.merge_find_eq" class="idref" href="#MakeRaw.merge_find_eq"><span class="id" title="lemma">merge_find_eq</span></a> <a id="f:671" class="idref" href="#f:671"><span class="id" title="binder">f</span></a> <a id="l:672" class="idref" href="#l:672"><span class="id" title="binder">l</span></a> <a id="l':673" class="idref" href="#l':673"><span class="id" title="binder">l'</span></a> <a id="acc:674" class="idref" href="#acc:674"><span class="id" title="binder">acc</span></a> <a id="x:675" class="idref" href="#x:675"><span class="id" title="binder">x</span></a> <a id="y:676" class="idref" href="#y:676"><span class="id" title="binder">y</span></a> <a id="y':677" class="idref" href="#y':677"><span class="id" title="binder">y'</span></a> <a id="z:678" class="idref" href="#z:678"><span class="id" title="binder">z</span></a> <a id="e:679" class="idref" href="#e:679"><span class="id" title="binder">e</span></a> <a id="e':680" class="idref" href="#e':680"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:681" class="idref" href="#k:681"><span class="id" title="binder">k</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a>, <a class="idref" href="MMaps.RBT.html#f:671"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:681"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#l:672"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y:676"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e:679"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#l':673"><span class="id" title="variable">l'</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y':677"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e':680"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#y:676"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#y':677"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#z:678"><span class="id" title="variable">z</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:675"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y0:682" class="idref" href="#y0:682"><span class="id" title="binder">y0</span></a> : <a class="idref" href="MMaps.RBT.html#K.t"><span class="id" title="axiom">K.t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#y0:682"><span class="id" title="variable">y0</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:675"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a> (<a class="idref" href="MMaps.RBT.html#f:671"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#z:678"><span class="id" title="variable">z</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:675"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#l:672"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:675"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#l':673"><span class="id" title="variable">l'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:675"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <a class="idref" href="MMaps.RBT.html#y:676"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#f:671"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y:676"><span class="id" title="variable">y</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#e:679"><span class="id" title="variable">e</span></a>) (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#e':680"><span class="id" title="variable">e'</span></a>)) <a class="idref" href="MMaps.RBT.html#acc:674"><span class="id" title="variable">acc</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#f:671"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y0:682"><span class="id" title="variable">y0</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:675"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#l:672"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y:676"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e:679"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:675"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#l':673"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y':677"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e':680"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:675"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#acc:674"><span class="id" title="variable">acc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">AP</span> <span class="id" title="var">AP'</span> <span class="id" title="var">Ey</span> <span class="id" title="var">Ez</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_app"><span class="id" title="lemma">findL_app</span></a>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">INl</span>.<br/>
&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_inA"><span class="id" title="lemma">findL_inA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">INl</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">x'</span>,<span class="id" title="var">e0'</span>) &amp; (<span class="id" title="var">Hx'</span>,<span class="id" title="var">_</span>) &amp; <span class="id" title="var">INl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">AP</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l'</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">breako</span>.<br/>
&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">INl</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">INl'</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">x</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">y'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">breako</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_inA"><span class="id" title="lemma">findL_inA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">INl'</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">x'</span>,<span class="id" title="var">e0'</span>) &amp; (<span class="id" title="var">Hx'</span>,<span class="id" title="var">_</span>) &amp; <span class="id" title="var">INl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">AP'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">INl'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Fy</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="tactic">try</span> <span class="id" title="var">order</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">try</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">firstorder</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Fy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.merge_find_lt" class="idref" href="#MakeRaw.merge_find_lt"><span class="id" title="lemma">merge_find_lt</span></a> <a id="f:683" class="idref" href="#f:683"><span class="id" title="binder">f</span></a> <a id="l:684" class="idref" href="#l:684"><span class="id" title="binder">l</span></a> <a id="l':685" class="idref" href="#l':685"><span class="id" title="binder">l'</span></a> <a id="acc:686" class="idref" href="#acc:686"><span class="id" title="binder">acc</span></a> <a id="x:687" class="idref" href="#x:687"><span class="id" title="binder">x</span></a> <a id="y:688" class="idref" href="#y:688"><span class="id" title="binder">y</span></a> <a id="y':689" class="idref" href="#y':689"><span class="id" title="binder">y'</span></a> <a id="z:690" class="idref" href="#z:690"><span class="id" title="binder">z</span></a> <a id="e:691" class="idref" href="#e:691"><span class="id" title="binder">e</span></a> <a id="e':692" class="idref" href="#e':692"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:693" class="idref" href="#k:693"><span class="id" title="binder">k</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a>, <a class="idref" href="MMaps.RBT.html#f:683"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:693"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#l:684"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y:688"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e:691"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#l':685"><span class="id" title="variable">l'</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y':689"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e':692"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#y:688"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#y':689"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#z:690"><span class="id" title="variable">z</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:687"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y0:694" class="idref" href="#y0:694"><span class="id" title="binder">y0</span></a> : <a class="idref" href="MMaps.RBT.html#K.t"><span class="id" title="axiom">K.t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#y0:694"><span class="id" title="variable">y0</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:687"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a> (<a class="idref" href="MMaps.RBT.html#f:683"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#z:690"><span class="id" title="variable">z</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:687"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#l:684"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y:688"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#e:691"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:687"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#l':685"><span class="id" title="variable">l'</span></a>))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:687"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <a class="idref" href="MMaps.RBT.html#y':689"><span class="id" title="variable">y'</span></a> (<a class="idref" href="MMaps.RBT.html#f:683"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y':689"><span class="id" title="variable">y'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#e':692"><span class="id" title="variable">e'</span></a>)) <a class="idref" href="MMaps.RBT.html#acc:686"><span class="id" title="variable">acc</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#f:683"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y0:694"><span class="id" title="variable">y0</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:687"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#l:684"><span class="id" title="variable">l</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y:688"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e:691"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:687"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#l':685"><span class="id" title="variable">l'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y':689"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e':692"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:687"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#acc:686"><span class="id" title="variable">acc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">AP</span> <span class="id" title="var">AP'</span> <span class="id" title="var">Ey</span> <span class="id" title="var">Ez</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">INl</span>.<br/>
&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">y'</span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_inA"><span class="id" title="lemma">findL_inA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">INl</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">x'</span>,<span class="id" title="var">e0'</span>) &amp; (<span class="id" title="var">Hx'</span>,<span class="id" title="var">_</span>) &amp; <span class="id" title="var">INl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">INl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Ey</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">AP</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">H</span>. <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[= &lt;- <span class="id" title="var">_</span>]|[  ]]; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_app"><span class="id" title="lemma">findL_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l'</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">breako</span>.<br/>
&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">INl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_app"><span class="id" title="lemma">findL_app</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">INl'</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">x</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">y'</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">breako</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_inA"><span class="id" title="lemma">findL_inA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">INl'</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">x'</span>,<span class="id" title="var">e0'</span>) &amp; (<span class="id" title="var">Hx'</span>,<span class="id" title="var">_</span>) &amp; <span class="id" title="var">INl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">AP'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">INl'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">y'</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Fy'</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">firstorder</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y'</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Fy'</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.merge_find_gt" class="idref" href="#MakeRaw.merge_find_gt"><span class="id" title="lemma">merge_find_gt</span></a> <a id="f:695" class="idref" href="#f:695"><span class="id" title="binder">f</span></a> <a id="l:696" class="idref" href="#l:696"><span class="id" title="binder">l</span></a> <a id="l':697" class="idref" href="#l':697"><span class="id" title="binder">l'</span></a> <a id="acc:698" class="idref" href="#acc:698"><span class="id" title="binder">acc</span></a> <a id="x:699" class="idref" href="#x:699"><span class="id" title="binder">x</span></a> <a id="y:700" class="idref" href="#y:700"><span class="id" title="binder">y</span></a> <a id="y':701" class="idref" href="#y':701"><span class="id" title="binder">y'</span></a> <a id="z:702" class="idref" href="#z:702"><span class="id" title="binder">z</span></a> <a id="e:703" class="idref" href="#e:703"><span class="id" title="binder">e</span></a> <a id="e':704" class="idref" href="#e':704"><span class="id" title="binder">e'</span></a> :<br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:705" class="idref" href="#k:705"><span class="id" title="binder">k</span></a> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a>, <a class="idref" href="MMaps.RBT.html#f:695"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:705"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#l:696"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y:700"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e:703"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#l':697"><span class="id" title="variable">l'</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y':701"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e':704"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#y':701"><span class="id" title="variable">y'</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <a class="idref" href="MMaps.RBT.html#y:700"><span class="id" title="variable">y</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#z:702"><span class="id" title="variable">z</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:699"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y0:706" class="idref" href="#y0:706"><span class="id" title="binder">y0</span></a> : <a class="idref" href="MMaps.RBT.html#K.t"><span class="id" title="axiom">K.t</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#y0:706"><span class="id" title="variable">y0</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:699"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a> (<a class="idref" href="MMaps.RBT.html#f:695"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#z:702"><span class="id" title="variable">z</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:699"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#l:696"><span class="id" title="variable">l</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:699"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#l':697"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y':701"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#e':704"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:699"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <a class="idref" href="MMaps.RBT.html#y:700"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#f:695"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y:700"><span class="id" title="variable">y</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#e:703"><span class="id" title="variable">e</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <a class="idref" href="MMaps.RBT.html#acc:698"><span class="id" title="variable">acc</span></a>)) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#f:695"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y0:706"><span class="id" title="variable">y0</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:699"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#l:696"><span class="id" title="variable">l</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y:700"><span class="id" title="variable">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e:703"><span class="id" title="variable">e</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:699"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#l':697"><span class="id" title="variable">l'</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">[</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#y':701"><span class="id" title="variable">y'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#e':704"><span class="id" title="variable">e'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#ddd65c2f7ee73ecec433744948d846bb"><span class="id" title="notation">]</span></a>)))<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:699"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#acc:698"><span class="id" title="variable">acc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span> <span class="id" title="var">AP</span> <span class="id" title="var">AP'</span> <span class="id" title="var">Ey</span> <span class="id" title="var">Ez</span>.<br/>
&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">setoid_rewrite</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL_app"><span class="id" title="lemma">findL_app</span></a> <span class="id" title="var">x</span> <span class="id" title="var">l</span>).<br/>
&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">eqn</span>:<span class="id" title="var">INl</span>.<br/>
&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">x</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">y</span>).<br/>
&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_inA"><span class="id" title="lemma">findL_inA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">INl</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">x'</span>,<span class="id" title="var">e0'</span>) &amp; (<span class="id" title="var">Hx'</span>,<span class="id" title="var">_</span>) &amp; <span class="id" title="var">INl</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">apply</span> (<span class="id" title="var">AP</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">l'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span>)); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">breako</span>.<br/>
&nbsp;- <span class="id" title="tactic">clear</span> <span class="id" title="var">INl</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <span class="id" title="var">x</span> (<span class="id" title="var">l'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <span class="id" title="var">_</span>)) <span class="id" title="var">eqn</span>:<span class="id" title="var">INl'</span>; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">enough</span> (<span class="id" title="var">x</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.:::x_'&lt;'_x"><span class="id" title="notation">&lt;</span></a> <span class="id" title="var">y</span>) <span class="id" title="tactic">by</span> <span class="id" title="var">breako</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{ <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL_inA"><span class="id" title="lemma">findL_inA</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl'</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#InA_alt"><span class="id" title="lemma">InA_alt</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">INl'</span> <span class="id" title="keyword">as</span> ((<span class="id" title="var">x'</span>,<span class="id" title="var">e0'</span>) &amp; (<span class="id" title="var">Hx'</span>,<span class="id" title="var">_</span>) &amp; <span class="id" title="var">INl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">compute</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Hx'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hx'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#in_app_iff"><span class="id" title="lemma">in_app_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">INl'</span>. <span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">destruct</span> <span class="id" title="var">INl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">rewrite</span> &lt;- <span class="id" title="var">Ey</span>. <span class="id" title="tactic">apply</span> (<span class="id" title="var">AP'</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">x'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e0'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>); <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;- <span class="id" title="tactic">destruct</span> <span class="id" title="var">H</span> <span class="id" title="keyword">as</span> [[= &lt;- <span class="id" title="var">_</span>]|[  ]]; <span class="id" title="tactic">auto</span>. }<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">clear</span> <span class="id" title="var">INl'</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hf</span>. <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">y</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">Fy</span>; <span class="id" title="tactic">simpl</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="var">destmatch</span>; <span class="id" title="tactic">try</span> <span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">Hf</span>; <span class="id" title="tactic">firstorder</span>;<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Fy</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.mergeL_find" class="idref" href="#MakeRaw.mergeL_find"><span class="id" title="lemma">mergeL_find</span></a> <a id="f:707" class="idref" href="#f:707"><span class="id" title="binder">f</span></a> <a id="l:708" class="idref" href="#l:708"><span class="id" title="binder">l</span></a> <a id="l':709" class="idref" href="#l':709"><span class="id" title="binder">l'</span></a> <a id="acc:710" class="idref" href="#acc:710"><span class="id" title="binder">acc</span></a> <a id="x:711" class="idref" href="#x:711"><span class="id" title="binder">x</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:712" class="idref" href="#k:712"><span class="id" title="binder">k</span></a>, <a class="idref" href="MMaps.RBT.html#f:707"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:712"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#l:708"><span class="id" title="variable">l</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Sorting.Sorted.html#sort"><span class="id" title="abbreviation">sort</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.ltk"><span class="id" title="definition">O.ltk</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#l':709"><span class="id" title="variable">l'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:713" class="idref" href="#y:713"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#y:713"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:711"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:711"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL"><span class="id" title="definition">mergeL</span></a> <a class="idref" href="MMaps.RBT.html#f:707"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#l:708"><span class="id" title="variable">l</span></a> <a class="idref" href="MMaps.RBT.html#l':709"><span class="id" title="variable">l'</span></a> <a class="idref" href="MMaps.RBT.html#acc:710"><span class="id" title="variable">acc</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.oelse"><span class="id" title="definition">oelse</span></a> (<a class="idref" href="MMaps.RBT.html#f:707"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y:713"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:711"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#l:708"><span class="id" title="variable">l</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:711"><span class="id" title="variable">x</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev"><span class="id" title="definition">rev</span></a> <a class="idref" href="MMaps.RBT.html#l':709"><span class="id" title="variable">l'</span></a>))) (<a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a> <a class="idref" href="MMaps.RBT.html#x:711"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#acc:710"><span class="id" title="variable">acc</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">l'</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">l</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">y</span>,<span class="id" title="var">e</span>) <span class="id" title="var">l</span> <span class="id" title="var">IHl</span>].<br/>
&nbsp;- <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">intros</span> <span class="id" title="var">l'</span> <span class="id" title="var">acc</span> <span class="id" title="var">_</span> <span class="id" title="var">Sl'</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL_find"><span class="id" title="lemma">mapoL_find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="k:714" class="idref" href="#k:714"><span class="id" title="binder"><span id="k:716" class="id">k</span></span></a> <a id="v':715" class="idref" href="#v':715"><span class="id" title="binder"><span id="v':717" class="id">v'</span></span></a> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MMaps.RBT.html#k:714"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v':715"><span class="id" title="variable">v'</span></a>)) <span class="id" title="var">l'</span> <span class="id" title="var">acc</span> <span class="id" title="var">x</span> <span class="id" title="var">Sl'</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hy</span> &amp; <span class="id" title="var">EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>; <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">Hf</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;- <span class="id" title="tactic">induction</span> <span class="id" title="var">l'</span> <span class="id" title="keyword">as</span> [|(<span class="id" title="var">y'</span>,<span class="id" title="var">e'</span>) <span class="id" title="var">l'</span> <span class="id" title="var">IHl'</span>].<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">Sl</span> <span class="id" title="var">_</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">IHl</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL_find"><span class="id" title="lemma">mapoL_find</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> (<span class="id" title="keyword">fun</span> <a id="k:718" class="idref" href="#k:718"><span class="id" title="binder"><span id="k:720" class="id">k</span></span></a> <a id="v:719" class="idref" href="#v:719"><span class="id" title="binder"><span id="v:721" class="id">v</span></span></a> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MMaps.RBT.html#k:718"><span class="id" title="variable">k</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="MMaps.RBT.html#v:719"><span class="id" title="variable">v</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>) <span class="id" title="var">_</span> <span class="id" title="var">acc</span> <span class="id" title="var">x</span> <span class="id" title="var">Sl</span>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">z</span> &amp; <span class="id" title="var">Hz</span> &amp; <span class="id" title="var">EQ</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">z</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">cbn</span> - [<a class="idref" href="MMaps.RBT.html#MakeRaw.mapoL"><span class="id" title="definition">mapoL</span></a>]. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>; <span class="id" title="tactic">clear</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">destruct</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.findL"><span class="id" title="definition">findL</span></a>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">rewrite</span> ?<span class="id" title="var">Hf</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;+ <span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span> <span class="id" title="var">Sl</span> <span class="id" title="var">Sl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">simpl</span> <span class="id" title="tactic">in</span> <span class="id" title="var">Sl</span>, <span class="id" title="var">Sl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">assert</span> (<span class="id" title="var">Sl0</span> := <span class="id" title="var">Sl</span>). <span class="id" title="tactic">assert</span> (<span class="id" title="var">Sl0'</span> := <span class="id" title="var">Sl'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.sort_app_key"><span class="id" title="lemma">sort_app_key</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">Sl</span>, <span class="id" title="var">Sl'</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> <span class="id" title="var">Sl</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Sl</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">AP</span>). <span class="id" title="tactic">destruct</span> <span class="id" title="var">Sl'</span> <span class="id" title="keyword">as</span> (<span class="id" title="var">Sl'</span> &amp; <span class="id" title="var">_</span> &amp; <span class="id" title="var">AP'</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL_eqn"><span class="id" title="lemma">mergeL_eqn</span></a>. <span class="id" title="var">destmatch</span>; [<span class="id" title="tactic">intro</span> <span class="id" title="var">EQ</span> | <span class="id" title="tactic">intro</span> <span class="id" title="var">LT</span> | <span class="id" title="tactic">intro</span> <span class="id" title="var">LT</span>];<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">acc'</span> := <a class="idref" href="MMaps.RBT.html#MakeRaw.ocons"><span class="id" title="definition">ocons</span></a> <span class="id" title="var">_</span> <span class="id" title="var">_</span> <span class="id" title="var">_</span>).<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl</span> <span class="id" title="var">l'</span> <span class="id" title="var">acc'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">z</span> &amp; <span class="id" title="var">Hz</span> &amp; <span class="id" title="var">E</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.merge_find_eq"><span class="id" title="lemma">merge_find_eq</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl'</span> <span class="id" title="var">acc'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">z</span> &amp; <span class="id" title="var">Hz</span> &amp; <span class="id" title="var">E</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.merge_find_lt"><span class="id" title="lemma">merge_find_lt</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;× <span class="id" title="tactic">destruct</span> (<span class="id" title="var">IHl</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">y'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">e'</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><span class="id" title="var">l'</span>) <span class="id" title="var">acc'</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">z</span> &amp; <span class="id" title="var">Hz</span> &amp; <span class="id" title="var">E</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">setoid_rewrite</span> <span class="id" title="var">E</span>. <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.merge_find_gt"><span class="id" title="lemma">merge_find_gt</span></a>; <span class="id" title="tactic">auto</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.merge_spec1n" class="idref" href="#MakeRaw.merge_spec1n"><span class="id" title="lemma">merge_spec1n</span></a> <a id="f:722" class="idref" href="#f:722"><span class="id" title="binder">f</span></a> <a id="m:723" class="idref" href="#m:723"><span class="id" title="binder">m</span></a> <a id="m':724" class="idref" href="#m':724"><span class="id" title="binder">m'</span></a> <a id="x:725" class="idref" href="#x:725"><span class="id" title="binder">x</span></a> `{<a id="Ok0:726" class="idref" href="#Ok0:726"><span class="id" title="binder">!</span></a><a id="Ok0:726" class="idref" href="#Ok0:726"><span class="id" title="binder">Ok</span></a> <a id="Ok0:726" class="idref" href="#Ok0:726"><span class="id" title="binder">m</span></a>, <a id="Ok1:727" class="idref" href="#Ok1:727"><span class="id" title="binder">!</span></a><a id="Ok1:727" class="idref" href="#Ok1:727"><span class="id" title="binder">Ok</span></a> <a id="Ok1:727" class="idref" href="#Ok1:727"><span class="id" title="binder">m'</span></a>} :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><span class="id" title="keyword">∀</span> <a id="k:728" class="idref" href="#k:728"><span class="id" title="binder">k</span></a>, <a class="idref" href="MMaps.RBT.html#f:722"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:728"><span class="id" title="variable">k</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:729" class="idref" href="#y:729"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#y:729"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:725"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:725"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="MMaps.RBT.html#f:722"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:723"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#m':724"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#f:722"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y:729"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:725"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:723"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:725"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m':724"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">Hf</span>.<br/>
&nbsp;<span class="id" title="tactic">assert</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a> <span class="id" title="var">f</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span>)) <span class="id" title="tactic">by</span> <span class="id" title="var">ok</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.mergeL_find"><span class="id" title="lemma">mergeL_find</span></a> <span class="id" title="var">f</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings"><span class="id" title="definition">rev_bindings</span></a> <span class="id" title="var">m</span>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings"><span class="id" title="definition">rev_bindings</span></a> <span class="id" title="var">m'</span>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="var">x</span>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hy</span> &amp; <span class="id" title="var">EQ</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_sort"><span class="id" title="lemma">bindings_sort</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_sort"><span class="id" title="lemma">bindings_sort</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a> <span class="id" title="tactic">in</span> ×. <span class="id" title="tactic">rewrite</span> &lt;- !<a class="idref" href="MMaps.RBT.html#MakeRaw.findL_find"><span class="id" title="lemma">findL_find</span></a>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_bindings"><span class="id" title="lemma">treeify_bindings</span></a>, <span class="id" title="var">EQ</span>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">clear</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.rev_bindings_rev"><span class="id" title="lemma">rev_bindings_rev</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#rev_involutive"><span class="id" title="lemma">rev_involutive</span></a>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">destruct</span> <span class="id" title="var">f</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.merge_spec1" class="idref" href="#MakeRaw.merge_spec1"><span class="id" title="lemma">merge_spec1</span></a> <a id="f:730" class="idref" href="#f:730"><span class="id" title="binder">f</span></a> <a id="m:731" class="idref" href="#m:731"><span class="id" title="binder">m</span></a> <a id="m':732" class="idref" href="#m':732"><span class="id" title="binder">m'</span></a> <a id="x:733" class="idref" href="#x:733"><span class="id" title="binder">x</span></a> `{<a id="Ok0:734" class="idref" href="#Ok0:734"><span class="id" title="binder">!</span></a><a id="Ok0:734" class="idref" href="#Ok0:734"><span class="id" title="binder">Ok</span></a> <a id="Ok0:734" class="idref" href="#Ok0:734"><span class="id" title="binder">m</span></a>, <a id="Ok1:735" class="idref" href="#Ok1:735"><span class="id" title="binder">!</span></a><a id="Ok1:735" class="idref" href="#Ok1:735"><span class="id" title="binder">Ok</span></a> <a id="Ok1:735" class="idref" href="#Ok1:735"><span class="id" title="binder">m'</span></a>} :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#x:733"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m:731"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#f031fe1957c4a4a8e217aa46af2b4e25"><span class="id" title="notation">∨</span></a> <a class="idref" href="MMaps.RBT.html#x:733"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#614b6fdfcfcc3407ab169267969be7fa"><span class="id" title="notation">∈</span></a> <a class="idref" href="MMaps.RBT.html#m':732"><span class="id" title="variable">m'</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">)</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">∃</span></a> <a id="y:736" class="idref" href="#y:736"><span class="id" title="binder">y</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#y:736"><span class="id" title="variable">y</span></a> <a class="idref" href="MMaps.RBT.html#3bfccbf8a360975b3a5598ce76c32491"><span class="id" title="notation">==</span></a> <a class="idref" href="MMaps.RBT.html#x:733"><span class="id" title="variable">x</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:733"><span class="id" title="variable">x</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a> <a class="idref" href="MMaps.RBT.html#f:730"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:731"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#m':732"><span class="id" title="variable">m'</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="MMaps.RBT.html#f:730"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#y:736"><span class="id" title="variable">y</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:733"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m:731"><span class="id" title="variable">m</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <a class="idref" href="MMaps.RBT.html#x:733"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#m':732"><span class="id" title="variable">m'</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">set</span> (<span class="id" title="var">g</span> := <span class="id" title="keyword">fun</span> <a id="x:737" class="idref" href="#x:737"><span class="id" title="binder"><span id="x:742" class="id">x</span></span></a> <a id="o:738" class="idref" href="#o:738"><span class="id" title="binder"><span id="o:743" class="id">o</span></span></a> <a id="o':739" class="idref" href="#o':739"><span class="id" title="binder"><span id="o':744" class="id">o'</span></span></a> ⇒ <span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#o:738"><span class="id" title="variable">o</span></a>,<a class="idref" href="MMaps.RBT.html#o':739"><span class="id" title="variable">o'</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;| <span class="id" title="var">_</span>,<span class="id" title="var">_</span> ⇒ <span class="id" title="var">f</span> <a class="idref" href="MMaps.RBT.html#x:737"><span class="id" title="variable">x</span></a> <a class="idref" href="MMaps.RBT.html#o:738"><span class="id" title="variable">o</span></a> <a class="idref" href="MMaps.RBT.html#o':739"><span class="id" title="variable">o'</span></a> <span class="id" title="keyword">end</span>).<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.merge_spec1n"><span class="id" title="lemma">merge_spec1n</span></a> <span class="id" title="var">g</span> <span class="id" title="var">m</span> <span class="id" title="var">m'</span> <span class="id" title="var">x</span>) <span class="id" title="keyword">as</span> (<span class="id" title="var">y</span> &amp; <span class="id" title="var">Hy</span> &amp; <span class="id" title="var">EQ</span>); <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">change</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a> <span class="id" title="var">f</span>) <span class="id" title="keyword">with</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.merge"><span class="id" title="definition">merge</span></a> <span class="id" title="var">g</span>).<br/>
&nbsp;<span class="id" title="tactic">∃</span> <span class="id" title="var">y</span>; <span class="id" title="tactic">split</span>; <span class="id" title="tactic">auto</span>. <span class="id" title="tactic">rewrite</span> <span class="id" title="var">EQ</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">F</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<a class="idref" href="MMaps.RBT.html#MakeRaw.find"><span class="id" title="definition">find</span></a> <span class="id" title="var">x</span> <span class="id" title="var">m'</span>) <span class="id" title="var">eqn</span>:<span class="id" title="var">F'</span>; <span class="id" title="tactic">simpl</span>; <span class="id" title="tactic">auto</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.not_find_iff"><span class="id" title="lemma">not_find_iff</span></a> <span class="id" title="tactic">in</span> <span class="id" title="var">F</span>, <span class="id" title="var">F'</span>; <span class="id" title="tactic">intuition</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Merge"><span class="id" title="section">Merge</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab130"></a><h3 class="section">Filtering</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Section</span> <a id="MakeRaw.Filter" class="idref" href="#MakeRaw.Filter"><span class="id" title="section">Filter</span></a>.<br/>
<span class="id" title="keyword">Variable</span> <a id="MakeRaw.Filter.elt" class="idref" href="#MakeRaw.Filter.elt"><span class="id" title="variable">elt</span></a> : <span class="id" title="keyword">Type</span>.<br/>
<span class="id" title="keyword">Implicit</span> <span class="id" title="keyword">Types</span> <span class="id" title="var">f</span> : <a class="idref" href="MMaps.RBT.html#MakeRaw.key"><span class="id" title="definition">key</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.Filter.elt"><span class="id" title="variable">elt</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bool"><span class="id" title="inductive">bool</span></a>.<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.filter_aux" class="idref" href="#MakeRaw.filter_aux"><span class="id" title="definition">filter_aux</span></a> <a id="f:749" class="idref" href="#f:749"><span class="id" title="binder">f</span></a> <a id="m:750" class="idref" href="#m:750"><span class="id" title="binder">m</span></a> <a id="acc:751" class="idref" href="#acc:751"><span class="id" title="binder">acc</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:750"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#acc:751"><span class="id" title="variable">acc</span></a><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">r</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> <a id="acc:754" class="idref" href="#acc:754"><span class="id" title="binder">acc</span></a> := <a class="idref" href="MMaps.RBT.html#filter_aux:752"><span class="id" title="definition">filter_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:749"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span> <a class="idref" href="MMaps.RBT.html#acc:751"><span class="id" title="variable">acc</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="MMaps.RBT.html#f:749"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="keyword">then</span> <a class="idref" href="MMaps.RBT.html#filter_aux:752"><span class="id" title="definition">filter_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:749"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#acc:754"><span class="id" title="variable">acc</span></a>)<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="MMaps.RBT.html#filter_aux:752"><span class="id" title="definition">filter_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:749"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span> <a class="idref" href="MMaps.RBT.html#acc:754"><span class="id" title="variable">acc</span></a><br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.filter" class="idref" href="#MakeRaw.filter"><span class="id" title="definition">filter</span></a> <a id="f:755" class="idref" href="#f:755"><span class="id" title="binder">f</span></a> <a id="m:756" class="idref" href="#m:756"><span class="id" title="binder">m</span></a> := <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.filter_aux"><span class="id" title="definition">filter_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:755"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:756"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>).<br/>

<br/>
<span class="id" title="keyword">Fixpoint</span> <a id="MakeRaw.partition_aux" class="idref" href="#MakeRaw.partition_aux"><span class="id" title="definition">partition_aux</span></a> <a id="f:757" class="idref" href="#f:757"><span class="id" title="binder">f</span></a> <a id="m:758" class="idref" href="#m:758"><span class="id" title="binder">m</span></a> <a id="acc1:759" class="idref" href="#acc1:759"><span class="id" title="binder">acc1</span></a> <a id="acc2:760" class="idref" href="#acc2:760"><span class="id" title="binder">acc2</span></a> :=<br/>
&nbsp;<span class="id" title="keyword">match</span> <a class="idref" href="MMaps.RBT.html#m:758"><span class="id" title="variable">m</span></a> <span class="id" title="keyword">with</span><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Leaf"><span class="id" title="constructor">Leaf</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#acc1:759"><span class="id" title="variable">acc1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="MMaps.RBT.html#acc2:760"><span class="id" title="variable">acc2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><br/>
&nbsp;| <a class="idref" href="MMaps.RBT.html#MakeRaw.Node"><span class="id" title="constructor">Node</span></a> <span class="id" title="var">_</span> <span class="id" title="var">l</span> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="var">r</span> ⇒<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="acc1:763" class="idref" href="#acc1:763"><span class="id" title="binder">acc1</span></a>, <a id="acc2:764" class="idref" href="#acc2:764"><span class="id" title="binder">acc2</span></a>) := <a class="idref" href="MMaps.RBT.html#partition_aux:761"><span class="id" title="definition">partition_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:757"><span class="id" title="variable">f</span></a> <span class="id" title="var">r</span> <a class="idref" href="MMaps.RBT.html#acc1:759"><span class="id" title="variable">acc1</span></a> <a class="idref" href="MMaps.RBT.html#acc2:760"><span class="id" title="variable">acc2</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">if</span> <a class="idref" href="MMaps.RBT.html#f:757"><span class="id" title="variable">f</span></a> <span class="id" title="var">k</span> <span class="id" title="var">v</span> <span class="id" title="keyword">then</span> <a class="idref" href="MMaps.RBT.html#partition_aux:761"><span class="id" title="definition">partition_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:757"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#acc1:763"><span class="id" title="variable">acc1</span></a>) <a class="idref" href="MMaps.RBT.html#acc2:764"><span class="id" title="variable">acc2</span></a><br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">else</span> <a class="idref" href="MMaps.RBT.html#partition_aux:761"><span class="id" title="definition">partition_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:757"><span class="id" title="variable">f</span></a> <span class="id" title="var">l</span> <a class="idref" href="MMaps.RBT.html#acc1:763"><span class="id" title="variable">acc1</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><span class="id" title="var">k</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><span class="id" title="var">v</span><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#::list_scope:x_'::'_x"><span class="id" title="notation">::</span></a><a class="idref" href="MMaps.RBT.html#acc2:764"><span class="id" title="variable">acc2</span></a>)<br/>
&nbsp;<span class="id" title="keyword">end</span>.<br/>

<br/>
<span class="id" title="keyword">Definition</span> <a id="MakeRaw.partition" class="idref" href="#MakeRaw.partition"><span class="id" title="definition">partition</span></a> <a id="f:765" class="idref" href="#f:765"><span class="id" title="binder">f</span></a> <a id="m:766" class="idref" href="#m:766"><span class="id" title="binder">m</span></a> :=<br/>
&nbsp;&nbsp;<span class="id" title="keyword">let</span> (<a id="l1:767" class="idref" href="#l1:767"><span class="id" title="binder">l1</span></a>,<a id="l2:768" class="idref" href="#l2:768"><span class="id" title="binder">l2</span></a>) := <a class="idref" href="MMaps.RBT.html#MakeRaw.partition_aux"><span class="id" title="definition">partition_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:765"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:766"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a> <span class="id" title="tactic">in</span><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a> <a class="idref" href="MMaps.RBT.html#l1:767"><span class="id" title="variable">l1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify"><span class="id" title="definition">treeify</span></a> <a class="idref" href="MMaps.RBT.html#l2:768"><span class="id" title="variable">l2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab131"></a><h3 class="section">Filter</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.filter_aux_bindings" class="idref" href="#MakeRaw.filter_aux_bindings"><span class="id" title="lemma">filter_aux_bindings</span></a> <a id="f:769" class="idref" href="#f:769"><span class="id" title="binder">f</span></a> <a id="m:770" class="idref" href="#m:770"><span class="id" title="binder">m</span></a> <a id="acc:771" class="idref" href="#acc:771"><span class="id" title="binder">acc</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.filter_aux"><span class="id" title="definition">filter_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:769"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:770"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#acc:771"><span class="id" title="variable">acc</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:774" class="idref" href="#pat:774"><span class="id" title="binder">(</span></a><a id="k:773" class="idref" href="#k:773"><span class="id" title="binder"><span id="pat:774" class="id">k</span></span></a><a id="pat:774" class="idref" href="#pat:774"><span class="id" title="binder">,</span></a><a id="e:772" class="idref" href="#e:772"><span class="id" title="binder"><span id="pat:774" class="id">e</span></span></a><a id="pat:774" class="idref" href="#pat:774"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#f:769"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:773"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#e:772"><span class="id" title="variable">e</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:770"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#bc347c51eaf667706ae54503b26d52c6"><span class="id" title="notation">++</span></a> <a class="idref" href="MMaps.RBT.html#acc:771"><span class="id" title="variable">acc</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [|<span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">IHl</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span> <span class="id" title="var">r</span> <span class="id" title="var">IHr</span>]; <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> <span class="id" title="var">acc</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <span class="id" title="var">_</span>)).<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_node"><span class="id" title="lemma">bindings_node</span></a>, !<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter_app"><span class="id" title="lemma">filter_app</span></a>. <span class="id" title="tactic">simpl</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">List.app_nil_r</span></a>.<br/>
&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">v</span>); <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">IHl</span>, <span class="id" title="var">IHr</span>, &lt;- <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#app_assoc"><span class="id" title="lemma">app_assoc</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.filter_spec0" class="idref" href="#MakeRaw.filter_spec0"><span class="id" title="lemma">filter_spec0</span></a> <a id="f:775" class="idref" href="#f:775"><span class="id" title="binder">f</span></a> <a id="m:776" class="idref" href="#m:776"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="MMaps.RBT.html#f:775"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:776"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:779" class="idref" href="#pat:779"><span class="id" title="binder">(</span></a><a id="k:778" class="idref" href="#k:778"><span class="id" title="binder"><span id="pat:779" class="id">k</span></span></a><a id="pat:779" class="idref" href="#pat:779"><span class="id" title="binder">,</span></a><a id="e:777" class="idref" href="#e:777"><span class="id" title="binder"><span id="pat:779" class="id">e</span></span></a><a id="pat:779" class="idref" href="#pat:779"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#f:775"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:778"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#e:777"><span class="id" title="variable">e</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:776"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_bindings"><span class="id" title="lemma">treeify_bindings</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.filter_aux_bindings"><span class="id" title="lemma">filter_aux_bindings</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.filter_spec" class="idref" href="#MakeRaw.filter_spec"><span class="id" title="lemma">filter_spec</span></a> <a id="f:780" class="idref" href="#f:780"><span class="id" title="binder">f</span></a> <a id="m:781" class="idref" href="#m:781"><span class="id" title="binder">m</span></a> `{<a id="Ok0:782" class="idref" href="#Ok0:782"><span class="id" title="binder">!</span></a><a id="Ok0:782" class="idref" href="#Ok0:782"><span class="id" title="binder">Ok</span></a> <a id="Ok0:782" class="idref" href="#Ok0:782"><span class="id" title="binder">m</span></a>} :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="MMaps.RBT.html#f:780"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:781"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#filter"><span class="id" title="definition">List.filter</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:785" class="idref" href="#pat:785"><span class="id" title="binder">(</span></a><a id="k:784" class="idref" href="#k:784"><span class="id" title="binder"><span id="pat:785" class="id">k</span></span></a><a id="pat:785" class="idref" href="#pat:785"><span class="id" title="binder">,</span></a><a id="e:783" class="idref" href="#e:783"><span class="id" title="binder"><span id="pat:785" class="id">e</span></span></a><a id="pat:785" class="idref" href="#pat:785"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#f:780"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:784"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#e:783"><span class="id" title="variable">e</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:781"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a>.<br/>
&nbsp;<span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.treeify_bindings"><span class="id" title="lemma">treeify_bindings</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.filter_aux_bindings"><span class="id" title="lemma">filter_aux_bindings</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#app_nil_r"><span class="id" title="lemma">app_nil_r</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
&nbsp;#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.filter_ok" class="idref" href="#MakeRaw.filter_ok"><span class="id" title="instance">filter_ok</span></a> <a id="f:786" class="idref" href="#f:786"><span class="id" title="binder">f</span></a> <a id="m:787" class="idref" href="#m:787"><span class="id" title="binder">m</span></a> `(<a id="Ok0:788" class="idref" href="#Ok0:788"><span class="id" title="binder">!</span></a><a id="Ok0:788" class="idref" href="#Ok0:788"><span class="id" title="binder">Ok</span></a> <a id="Ok0:788" class="idref" href="#Ok0:788"><span class="id" title="binder">m</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="MMaps.RBT.html#f:786"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:787"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_sort"><span class="id" title="lemma">bindings_sort</span></a>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.filter_spec0"><span class="id" title="lemma">filter_spec0</span></a>.<br/>
&nbsp;<span class="id" title="tactic">apply</span> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_sort"><span class="id" title="lemma">filter_sort</span></a> <span class="id" title="keyword">with</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.eqk"><span class="id" title="definition">O.eqk</span></a>; <span class="id" title="var">ok</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_sort"><span class="id" title="lemma">bindings_sort</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.filter_mapsto" class="idref" href="#MakeRaw.filter_mapsto"><span class="id" title="lemma">filter_mapsto</span></a> <a id="f:789" class="idref" href="#f:789"><span class="id" title="binder">f</span></a> <a id="m:790" class="idref" href="#m:790"><span class="id" title="binder">m</span></a> (<a id="Hf:791" class="idref" href="#Hf:791"><span class="id" title="binder">Hf</span></a> : <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.RBT.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.RBT.html#f:789"><span class="id" title="variable">f</span></a>) <a id="k:792" class="idref" href="#k:792"><span class="id" title="binder">k</span></a> <a id="v:793" class="idref" href="#v:793"><span class="id" title="binder">v</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="MMaps.RBT.html#k:792"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:793"><span class="id" title="variable">v</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="MMaps.RBT.html#f:789"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:790"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'&lt;-&gt;'_x"><span class="id" title="notation">↔</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.MapsTo"><span class="id" title="inductive">MapsTo</span></a> <a class="idref" href="MMaps.RBT.html#k:792"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:793"><span class="id" title="variable">v</span></a> <a class="idref" href="MMaps.RBT.html#m:790"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">∧</span></a> <a class="idref" href="MMaps.RBT.html#f:789"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:792"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#v:793"><span class="id" title="variable">v</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#true"><span class="id" title="constructor">true</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> &lt;- <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.filter_spec0"><span class="id" title="lemma">filter_spec0</span></a>, <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.SetoidList.html#filter_InA"><span class="id" title="lemma">filter_InA</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.bindings_spec1"><span class="id" title="lemma">bindings_spec1</span></a>.<br/>
&nbsp;<span class="id" title="var">easy</span>.<br/>
&nbsp;<span class="id" title="tactic">intros</span> (?,?) (?,?) (?,?); <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <span class="id" title="var">Hf</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab132"></a><h3 class="section">Partition</h3>

</div>
<div class="code">

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.partition_aux_spec" class="idref" href="#MakeRaw.partition_aux_spec"><span class="id" title="lemma">partition_aux_spec</span></a> <a id="f:794" class="idref" href="#f:794"><span class="id" title="binder">f</span></a> <a id="m:795" class="idref" href="#m:795"><span class="id" title="binder">m</span></a> <a id="acc1:796" class="idref" href="#acc1:796"><span class="id" title="binder">acc1</span></a> <a id="acc2:797" class="idref" href="#acc2:797"><span class="id" title="binder">acc2</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.partition_aux"><span class="id" title="definition">partition_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:794"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:795"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#acc1:796"><span class="id" title="variable">acc1</span></a> <a class="idref" href="MMaps.RBT.html#acc2:797"><span class="id" title="variable">acc2</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.filter_aux"><span class="id" title="definition">filter_aux</span></a> <a class="idref" href="MMaps.RBT.html#f:794"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:795"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#acc1:796"><span class="id" title="variable">acc1</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.filter_aux"><span class="id" title="definition">filter_aux</span></a> (<span class="id" title="keyword">fun</span> <a id="k:798" class="idref" href="#k:798"><span class="id" title="binder">k</span></a> <a id="e:799" class="idref" href="#e:799"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.RBT.html#f:794"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:798"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#e:799"><span class="id" title="variable">e</span></a>)) <a class="idref" href="MMaps.RBT.html#m:795"><span class="id" title="variable">m</span></a> <a class="idref" href="MMaps.RBT.html#acc2:797"><span class="id" title="variable">acc2</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="var">revert</span> <span class="id" title="var">acc1</span> <span class="id" title="var">acc2</span>.<br/>
&nbsp;<span class="id" title="tactic">induction</span> <span class="id" title="var">m</span> <span class="id" title="keyword">as</span> [ | <span class="id" title="var">c</span> <span class="id" title="var">l</span> <span class="id" title="var">Hl</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span> <span class="id" title="var">r</span> <span class="id" title="var">Hr</span> ]; <span class="id" title="tactic">simpl</span>.<br/>
&nbsp;- <span class="id" title="tactic">trivial</span>.<br/>
&nbsp;- <span class="id" title="tactic">intros</span> <span class="id" title="var">acc1</span> <span class="id" title="var">acc2</span>.<br/>
&nbsp;&nbsp;&nbsp;<span class="id" title="tactic">destruct</span> (<span class="id" title="var">f</span> <span class="id" title="var">x</span> <span class="id" title="var">e</span>); <span class="id" title="tactic">simpl</span>; <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <span class="id" title="var">Hr</span>, <span class="id" title="var">Hl</span>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.partition_alt" class="idref" href="#MakeRaw.partition_alt"><span class="id" title="lemma">partition_alt</span></a> <a id="f:800" class="idref" href="#f:800"><span class="id" title="binder">f</span></a> <a id="m:801" class="idref" href="#m:801"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.partition"><span class="id" title="definition">partition</span></a> <a class="idref" href="MMaps.RBT.html#f:800"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:801"><span class="id" title="variable">m</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="MMaps.RBT.html#f:800"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:801"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a> <a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="k:802" class="idref" href="#k:802"><span class="id" title="binder">k</span></a> <a id="e:803" class="idref" href="#e:803"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.RBT.html#f:800"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:802"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#e:803"><span class="id" title="variable">e</span></a>)) <a class="idref" href="MMaps.RBT.html#m:801"><span class="id" title="variable">m</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>.<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.partition"><span class="id" title="definition">partition</span></a>, <a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.partition_aux_spec"><span class="id" title="lemma">partition_aux_spec</span></a>.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.partition_spec1" class="idref" href="#MakeRaw.partition_spec1"><span class="id" title="lemma">partition_spec1</span></a> <a id="f:804" class="idref" href="#f:804"><span class="id" title="binder">f</span></a> <a id="m:805" class="idref" href="#m:805"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.RBT.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.RBT.html#f:804"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.Equal"><span class="id" title="definition">Equal</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.partition"><span class="id" title="definition">partition</span></a> <a class="idref" href="MMaps.RBT.html#f:804"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:805"><span class="id" title="variable">m</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a> <a class="idref" href="MMaps.RBT.html#f:804"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:805"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.partition_alt"><span class="id" title="lemma">partition_alt</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.partition_spec2" class="idref" href="#MakeRaw.partition_spec2"><span class="id" title="lemma">partition_spec2</span></a> <a id="f:806" class="idref" href="#f:806"><span class="id" title="binder">f</span></a> <a id="m:807" class="idref" href="#m:807"><span class="id" title="binder">m</span></a> :<br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#Proper"><span class="id" title="class">Proper</span></a> (<a class="idref" href="MMaps.RBT.html#K.eq"><span class="id" title="axiom">K.eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Classes.Morphisms.html#8dc5652698a6e16f72dd37bd17d3b973"><span class="id" title="notation">==&gt;</span></a><a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#eq"><span class="id" title="inductive">eq</span></a>) <a class="idref" href="MMaps.RBT.html#f:806"><span class="id" title="variable">f</span></a> <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#::type_scope:x_'-&gt;'_x"><span class="id" title="notation">→</span></a><br/>
&nbsp;<a class="idref" href="MMaps.RBT.html#MakeRaw.Equal"><span class="id" title="definition">Equal</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.partition"><span class="id" title="definition">partition</span></a> <a class="idref" href="MMaps.RBT.html#f:806"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:807"><span class="id" title="variable">m</span></a>)) (<a class="idref" href="MMaps.RBT.html#MakeRaw.filter"><span class="id" title="definition">filter</span></a> (<span class="id" title="keyword">fun</span> <a id="k:808" class="idref" href="#k:808"><span class="id" title="binder">k</span></a> <a id="e:809" class="idref" href="#e:809"><span class="id" title="binder">e</span></a> ⇒ <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#negb"><span class="id" title="definition">negb</span></a> (<a class="idref" href="MMaps.RBT.html#f:806"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:808"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#e:809"><span class="id" title="variable">e</span></a>)) <a class="idref" href="MMaps.RBT.html#m:807"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.partition_alt"><span class="id" title="lemma">partition_alt</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.partition_ok1" class="idref" href="#MakeRaw.partition_ok1"><span class="id" title="instance">partition_ok1</span></a> <a id="f:810" class="idref" href="#f:810"><span class="id" title="binder">f</span></a> <a id="m:811" class="idref" href="#m:811"><span class="id" title="binder">m</span></a> `(<a id="Ok0:812" class="idref" href="#Ok0:812"><span class="id" title="binder">!</span></a><a id="Ok0:812" class="idref" href="#Ok0:812"><span class="id" title="binder">Ok</span></a> <a id="Ok0:812" class="idref" href="#Ok0:812"><span class="id" title="binder">m</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.partition"><span class="id" title="definition">partition</span></a> <a class="idref" href="MMaps.RBT.html#f:810"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:811"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.partition_alt"><span class="id" title="lemma">partition_alt</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.filter_ok"><span class="id" title="instance">filter_ok</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
#[<span class="id" title="var">export</span>] <span class="id" title="keyword">Instance</span> <a id="MakeRaw.partition_ok2" class="idref" href="#MakeRaw.partition_ok2"><span class="id" title="instance">partition_ok2</span></a> <a id="f:813" class="idref" href="#f:813"><span class="id" title="binder">f</span></a> <a id="m:814" class="idref" href="#m:814"><span class="id" title="binder">m</span></a> `(<a id="Ok0:815" class="idref" href="#Ok0:815"><span class="id" title="binder">!</span></a><a id="Ok0:815" class="idref" href="#Ok0:815"><span class="id" title="binder">Ok</span></a> <a id="Ok0:815" class="idref" href="#Ok0:815"><span class="id" title="binder">m</span></a>) : <a class="idref" href="MMaps.RBT.html#MakeRaw.Ok"><span class="id" title="class">Ok</span></a> (<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Datatypes.html#snd"><span class="id" title="definition">snd</span></a> (<a class="idref" href="MMaps.RBT.html#MakeRaw.partition"><span class="id" title="definition">partition</span></a> <a class="idref" href="MMaps.RBT.html#f:813"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:814"><span class="id" title="variable">m</span></a>)).<br/>
<span class="id" title="keyword">Proof</span>. <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.partition_alt"><span class="id" title="lemma">partition_alt</span></a>; <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.filter_ok"><span class="id" title="instance">filter_ok</span></a>. <span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">Lemma</span> <a id="MakeRaw.partition_spec" class="idref" href="#MakeRaw.partition_spec"><span class="id" title="lemma">partition_spec</span></a> <a id="f:816" class="idref" href="#f:816"><span class="id" title="binder">f</span></a> <a id="m:817" class="idref" href="#m:817"><span class="id" title="binder">m</span></a> `{<a id="Ok0:818" class="idref" href="#Ok0:818"><span class="id" title="binder">!</span></a><a id="Ok0:818" class="idref" href="#Ok0:818"><span class="id" title="binder">Ok</span></a> <a id="Ok0:818" class="idref" href="#Ok0:818"><span class="id" title="binder">m</span></a>} :<br/>
&nbsp;<a class="idref" href="MMaps.Interface.html#prodmap"><span class="id" title="definition">prodmap</span></a> (@<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <span class="id" title="var">_</span>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.partition"><span class="id" title="definition">partition</span></a> <a class="idref" href="MMaps.RBT.html#f:816"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#m:817"><span class="id" title="variable">m</span></a>) <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a><br/>
&nbsp;<a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Lists.List.html#partition"><span class="id" title="definition">List.partition</span></a> (<span class="id" title="keyword">fun</span> '<a id="pat:821" class="idref" href="#pat:821"><span class="id" title="binder">(</span></a><a id="k:820" class="idref" href="#k:820"><span class="id" title="binder"><span id="pat:821" class="id">k</span></span></a><a id="pat:821" class="idref" href="#pat:821"><span class="id" title="binder">,</span></a><a id="e:819" class="idref" href="#e:819"><span class="id" title="binder"><span id="pat:821" class="id">e</span></span></a><a id="pat:821" class="idref" href="#pat:821"><span class="id" title="binder">)</span></a> ⇒ <a class="idref" href="MMaps.RBT.html#f:816"><span class="id" title="variable">f</span></a> <a class="idref" href="MMaps.RBT.html#k:820"><span class="id" title="variable">k</span></a> <a class="idref" href="MMaps.RBT.html#e:819"><span class="id" title="variable">e</span></a>) (<a class="idref" href="MMaps.RBT.html#MakeRaw.bindings"><span class="id" title="definition">bindings</span></a> <a class="idref" href="MMaps.RBT.html#m:817"><span class="id" title="variable">m</span></a>).<br/>
<span class="id" title="keyword">Proof</span>.<br/>
&nbsp;<span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.partition_alt"><span class="id" title="lemma">partition_alt</span></a>, <a class="idref" href="MMaps.Utils.html#partition_filter"><span class="id" title="lemma">partition_filter</span></a>. <span class="id" title="tactic">unfold</span> <a class="idref" href="MMaps.Interface.html#prodmap"><span class="id" title="definition">prodmap</span></a>. <span class="id" title="tactic">f_equal</span>.<br/>
&nbsp;- <span class="id" title="var">now</span> <span class="id" title="tactic">apply</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.filter_spec"><span class="id" title="lemma">filter_spec</span></a>.<br/>
&nbsp;- <span class="id" title="tactic">rewrite</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.filter_spec"><span class="id" title="lemma">filter_spec</span></a>; <span class="id" title="tactic">auto</span>. <span class="id" title="var">f_equiv</span>. <span class="id" title="var">now</span> <span class="id" title="tactic">intros</span> (<span class="id" title="var">k</span>,<span class="id" title="var">e</span>) ? &lt;-.<br/>
<span class="id" title="keyword">Qed</span>.<br/>

<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#MakeRaw.Filter"><span class="id" title="section">Filter</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#MakeRaw"><span class="id" title="module">MakeRaw</span></a>.<br/>

<br/>
</div>

<div class="doc">
<a id="lab133"></a><h2 class="section">Encapsulation</h2>


<div class="paragraph"> </div>

   Now, in order to really provide a functor implementing <span class="inlinecode"><a class="idref" href="MMaps.Raw.html#S"><span class="id" title="module">S</span></a></span>, we
   need to encapsulate everything into a type of binary search trees. 
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Module</span> <a id="Make" class="idref" href="#Make"><span class="id" title="module">Make</span></a> (<span class="id" title="var">K</span>: <a class="idref" href="http://coq.inria.fr/doc/V8.21+alpha/stdlib//Coq.Structures.Orders.html#OrderedType"><span class="id" title="module">OrderedType</span></a>) &lt;: <a class="idref" href="MMaps.Interface.html#S"><span class="id" title="module">Interface.S</span></a> <a class="idref" href="MMaps.RBT.html#K"><span class="id" title="module">K</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Module</span> <a id="Make.Raw" class="idref" href="#Make.Raw"><span class="id" title="module">Raw</span></a> := <a class="idref" href="MMaps.RBT.html#MakeRaw"><span class="id" title="module">MakeRaw</span></a> <a class="idref" href="MMaps.RBT.html#K"><span class="id" title="module">K</span></a>.<br/>
&nbsp;<span class="id" title="keyword">Include</span> <a class="idref" href="MMaps.Raw.html#Pack"><span class="id" title="module">Raw.Pack</span></a> <a class="idref" href="MMaps.RBT.html#K"><span class="id" title="module">K</span></a> <a class="idref" href="MMaps.RBT.html#Make.Raw"><span class="id" title="module">Raw</span></a>.<br/>
<span class="id" title="keyword">End</span> <a class="idref" href="MMaps.RBT.html#Make"><span class="id" title="module">Make</span></a>.<br/>
</div>
</div>
<div id="footer">
  Generated by <a href="http://coq.inria.fr">coqdoc</a> and improved with <a href="https://github.com/palmskog/coqdocjs">CoqdocJS</a> as adapted for <a href="https://github.com/coq-community">coq-community</a>
</div>
</div>
</body>

</html>
